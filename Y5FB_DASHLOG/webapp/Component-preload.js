jQuery.sap.registerPreloadedModules({version:"2.0",name:"portal/y5fb_dashlog/Component-preload",modules:{"portal/y5fb_dashlog/Component.js":'sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","portal/y5fb_dashlog/model/models"],function(e,t,i){"use strict";return e.extend("portal.y5fb_dashlog.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments),this.getRouter().initialize(),this.setModel(i.createDeviceModel(),"device")}})});',"portal/y5fb_dashlog/controller/Default.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/format/DateFormat"],function(e,t,o,s,l){"use strict";return e.extend("portal.y5fb_dashlog.controller.Default",{onInit:function(){var e=this,t=this.getOwnerComponent().getModel(),o="/sap/opu/odata/sap/ZGWFBBC_DASH_LOG_SRV_SRV/";t=new sap.ui.model.odata.ODataModel(o,!0),t.read("/Logs",{success:function(t){if(t.results.length&&t.results){var o=new sap.ui.model.json.JSONModel(t.results);o.setData({length:t.results.length,rows:o.oData}),e.getView().setModel(o,"ViewLog")}}});var s=this.getOwnerComponent().getModel();s=new sap.ui.model.odata.ODataModel(o,!0),s.read("/kpis",{success:function(t){if(t.results.length&&t.results){for(var o=0,s=0;s<t.results.length;s++)o+=Number(t.results[s].Total);var l=new sap.ui.model.json.JSONModel(t.results);l.setData({length:t.results.length,total:o}),e.getView().setModel(l,"KpiTotal");for(var r=0;r<t.results.length;r++){o+=t.results[r].Qtd;var a=new sap.ui.model.json.JSONModel(t.results[r]);e.getView().setModel(a,t.results[r].Tipodoc)}}}});var l=this.getOwnerComponent().getModel();l=new sap.ui.model.odata.ODataModel(o,!0),l.read("/KpiStatisticSet",{success:function(t){if(t.results.length&&t.results){var o=new sap.ui.model.json.JSONModel(t.results);o.setData({length:t.results[0].UserTotal}),e.getView().setModel(o,"KpiStatistic")}}})},onPush:function(e){var t=e.getSource().getParent().getIndex(),o=this.byId("table"),s=o.getContextByIndex(t),l=s.getProperty("Userlib"),r=s.getProperty("Tipodoc"),a=s.getProperty("Timestamp"),i=s.getProperty("Qtd"),n=s.getProperty("Firstdate"),u=s.getProperty("DescAction"),d=u.substring(0,1),g=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-ddTHH:mm:ss",strictParsing:!0,UTC:!0}),p=g.format(a),c=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-ddTHH:mm:ss",strictParsing:!0,UTC:!0}),h=c.format(n),m=e.getParameter("state"),f={Push:m};new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZGWFBBC_DASH_LOG_SRV_SRV/").update("/Logs(Userlib=\'"+l+"\',Tipodoc=\'"+r+"\',Timestamp=datetime\'"+p+"\',Qtd=\'"+i+"\',Firstdate=datetime\'"+h+"\',Action=\'"+d+"\')",f,null,function(){},function(){})},_filter:function(){var e=null;this._oGlobalFilter&&this._oPriceFilter?e=new sap.ui.model.Filter([this._oGlobalFilter,this._oPriceFilter],!0):this._oGlobalFilter?e=this._oGlobalFilter:this._oPriceFilter&&(e=this._oPriceFilter),this.byId("table").getBinding("rows").filter(e,"Application")},filterGlobally:function(e){var t=e.getParameter("query");this._oGlobalFilter=null,t&&(this._oGlobalFilter=new o([new o("Userlib",s.Contains,t),new o("Category",s.Contains,t)],!1)),this._filter()},clearAllFilters:function(e){var t=this.byId("table");t.getModel("ViewLog");this.getView().getModel("ViewLog").setProperty("/globalFilter",""),this._oGlobalFilter=null,this._oPriceFilter=null,this._filter();for(var o=t.getColumns(),s=0;s<o.length;s++)t.filter(o[s],null);t.setEnableGrouping(!1),t.getColumns()[0].setGrouped(!1);var l=t.getBinding();l.aSorters=null,l.aFilters=null,t.getModel("ViewLog").refresh(!0),t.getModel("ViewLog").refresh(!0)},onDownload:function(e){var t=encodeURI("/sap/opu/odata/sap/ZGWFBBC_DASH_LOG_SRV_SRV/Logs?$format=xlsx");sap.m.URLHelper.redirect(t,!0),this.byId("table").getModel("ViewLog").refresh(!0)},_onRefresh:function(){var e=this,t=this.getOwnerComponent().getModel();t=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZGWFBBC_DASH_LOG_SRV_SRV/",!0),t.read("/Logs",{success:function(t){if(t.results.length&&t.results){var o=new sap.ui.model.json.JSONModel(t.results);o.setData({length:t.results.length,rows:o.oData}),e.getView().setModel(o,"ViewLog")}}})}})});',"portal/y5fb_dashlog/model/models.js":'sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);return i.setDefaultBindingMode("OneWay"),i}}});',"portal/y5fb_dashlog/view/Default.view.xml":'<mvc:View controllerName="portal.y5fb_dashlog.controller.Default" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\n\tdisplayBlock="true" xmlns="sap.m" xmlns:f="sap.f" xmlns:layout="sap.ui.layout" height="100%" xmlns:t="sap.ui.table"><f:DynamicPage id="dynamicPageId" class="sapUiSizeCompact" xmlns:c="sap.suite.ui.microchart"><f:title><f:DynamicPageTitle id="synamicPage" preserveHeaderStateOnScroll="true"><f:heading><Title text="Log de aprovação"/></f:heading></f:DynamicPageTitle></f:title><f:header><f:DynamicPageHeader pinnable="false"><f:content><FlexBox alignItems="Start" justifyContent="SpaceBetween"><items><Panel backgroundDesign="Transparent"><content><layout:HorizontalLayout allowWrapping="true"><Panel backgroundDesign="Transparent" class="sapUiNoContentPadding"><content><layout:HorizontalLayout allowWrapping="true"><layout:VerticalLayout ><ObjectStatus text="Total de registros: {path: \'KpiTotal>/total\' }"/><ObjectStatus text="Total de usuários: {path: \'KpiStatistic>/length\' }"/></layout:VerticalLayout></layout:HorizontalLayout></content></Panel><HeaderContainer id="headerContainer" width="37%" showDividers="false"><FlexBox width="20rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveLineChart selectionChanged="selectionChanged" selectionEnabled="false" press="press" displayedPoints="{path: \'KpiTotal>/length\' }"><c:points><c:InteractiveLineChartPoint value="{path: \'SD>/Total\' }" label="{path: \'SD>/Tipodoc\' }" selected="false" /><c:InteractiveLineChartPoint value="{path: \'LP>/Total\' }" label="{path: \'LP>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'FI>/Total\' }" label="{path: \'FI>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'RC>/Total\' }" label="{path: \'RC>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'SR>/Total\' }" label="{path: \'SR>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'PO>/Total\' }" label="{path: \'PO>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'PR>/Total\' }" label="{path: \'PR>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'CT>/Total\' }" label="{path: \'CT>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'IV>/Total\' }" label="{path: \'IV>/Tipodoc\' }"/><c:InteractiveLineChartPoint value="{path: \'SI>/Total\' }" label="{path: \'SI>/Tipodoc\' }"/></c:points></c:InteractiveLineChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items ><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'SD>/Tipodoc\' }" value="{path: \'SD>/Total\' }" /><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'SD>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'SD>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'SD>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'LP>/Tipodoc\' }" value="{path: \'LP>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'LP>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'LP>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'LP>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'FI>/Tipodoc\' }" value="{path: \'FI>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'FI>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'FI>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'FI>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'RC>/Tipodoc\' }" value="{path: \'RC>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'RC>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'RC>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'RC>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'SR>/Tipodoc\' }" value="{path: \'SR>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'SR>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'SR>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'SR>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'PO>/Tipodoc\' }" value="{path: \'PO>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'PO>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'PO>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'PO>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'PR>/Tipodoc\' }" value="{path: \'PR>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'PR>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'PR>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'PR>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'CT>/Tipodoc\' }" value="{path: \'CT>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'CT>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'CT>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'CT>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'IV>/Tipodoc\' }" value="{path: \'IV>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'IV>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'IV>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'IV>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox><FlexBox width="12rem" height="10rem" alignItems="Center" class="sapUiSmallMargin"><items><c:InteractiveBarChart selectionChanged="selectionChanged" press="press" displayedBars="4" selectionEnabled="false"><c:bars><c:InteractiveBarChartBar label="Total {path: \'SI>/Tipodoc\' }" value="{path: \'SI>/Total\' }"/><c:InteractiveBarChartBar label="Aprv.lote" value="{path: \'SI>/Lote\' }"/><c:InteractiveBarChartBar label="Aprv.ind." value="{path: \'SI>/Aprovacao\' }"/><c:InteractiveBarChartBar label="Rejeição" value="{path: \'SI>/Rejeicao\' }"/></c:bars></c:InteractiveBarChart></items></FlexBox></HeaderContainer></layout:HorizontalLayout></content></Panel></items></FlexBox></f:content></f:DynamicPageHeader></f:header><f:content><t:Table id="table" enableGrouping="false" rows="{ViewLog>/rows}" ariaLabelledBy="title" selectionMode="Single" visibleRowCount="10"\n\t\t\t\tenableCellFilter="true" enableColumnReordering="true"><t:toolbar><Toolbar><Title id="title" text="Logs ({path: \'ViewLog>/length\' })"></Title><ToolbarSpacer/><Button icon="sap-icon://download-from-cloud" tooltip="Download Excel" press="onDownload"/><Button icon="sap-icon://reset" tooltip="Reset" press="clearAllFilters"/></Toolbar></t:toolbar><t:columns><t:Column width="11rem" sortProperty="Userlib" filterProperty="Userlib" visible="true"><Label text="Usuário"/><t:template><Text text="{path:\'ViewLog>Userlib\'}"/></t:template></t:Column><t:Column id="Tipodoc" width="5rem" filterProperty="Tipodoc" grouped="false" sortProperty="Tipodoc"><Label text="Tipo.Doc"/><t:template ><Text text="{path:\'ViewLog>Tipodoc\'}"/></t:template></t:Column><t:Column id="Timestamp" width="11rem" filterProperty="Timestamp" sortProperty="Timestamp" grouped="false"><Label text="Dt.ult.Ação"/><t:template><Text\n\t\t\t\t\t\t\t\ttext="{path:\'ViewLog>Timestamp\', type: \'sap.ui.model.type.DateTime\', formatOptions: { pattern: \'dd/MM/yyyy HH:mm:ss\', strictParsing: true , UTC: true } }"/></t:template></t:Column><t:Column width="8rem" hAlign="End"><Label text="Qtd"/><t:template><Label text="{ path: \'ViewLog>Qtd\', type: \'sap.ui.model.type.Integer\' }"/></t:template></t:Column><t:Column width="9rem" sortProperty="Firstdate"><Label text="1º Aprovação"/><t:template><Text\n\t\t\t\t\t\t\t\ttext="{path:\'ViewLog>Firstdate\', type: \'sap.ui.model.type.DateTime\', formatOptions: { pattern: \'dd/MM/yyyy\', strictParsing: true , UTC: true } }"/></t:template></t:Column><t:Column width="14rem"><Label text="Tipo Ação"/><t:template><Text text="{path:\'ViewLog>DescAction\'}" wrapping="true"/></t:template></t:Column><t:Column width="8rem"><Label text="Notificação"/><t:template><Switch state="{path:\'ViewLog>Push\'}" change="onPush"><layoutData><FlexItemData growFactor="1"/></layoutData></Switch></t:template></t:Column></t:columns></t:Table></f:content></f:DynamicPage></mvc:View>',"portal/y5fb_dashlog/i18n/i18n_pt.properties":"title=Log de aprovação\nappTitle=Log de aprovação\nappDescription=Log de aprovação","portal/y5fb_dashlog/i18n/i18n.properties":"title=Log de aprovação\nappTitle=Log de aprovação\nappDescription=Log de aprovação","portal/y5fb_dashlog/manifest.json":'{"_version":"1.8.0","sap.app":{"id":"portal.y5fb_dashlog","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","sourceTemplate":{"id":"servicecatalog.connectivityComponentForManifest","version":"0.0.0"},"dataSources":{}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"rootView":{"viewName":"portal.y5fb_dashlog.view.Default","type":"XML"},"dependencies":{"minUI5Version":"1.30.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"portal.y5fb_dashlog.i18n.i18n"}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"portal.y5fb_dashlog.view","controlAggregation":"pages","controlId":"idAppControl","clearControlAggregation":false},"routes":[{"name":"RouteDefault","pattern":"RouteDefault","target":["TargetDefault"]}],"targets":{"TargetDefault":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewName":"Default"}}}},"sap.platform.abap":{"uri":"/sap/bc/ui5_ui5/sap/y5fb_dashlog/","_version":"1.1.0"}}'}});