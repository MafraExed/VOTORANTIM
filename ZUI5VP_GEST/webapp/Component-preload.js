sap.ui.require.preload({"monitorPortocel/Component.js":'sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","monitorPortocel/model/models"],function(e,t,i){"use strict";return e.extend("monitorPortocel.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments),this.setModel(i.createDeviceModel(),"device"),this.getRouter().initialize()}})});',"monitorPortocel/controller/App.controller.js":'Date.prototype.yyyymmdd=function(){var t=this.getFullYear(),e=this.getMonth()<9?"0"+(this.getMonth()+1):this.getMonth()+1,o=this.getDate()<10?"0"+this.getDate():this.getDate();return"".concat(t).concat(e).concat(o)},sap.ui.define(["sap/ui/core/mvc/Controller"],function(t){"use strict";return t.extend("monitorPortocel.controller.App",{onInit:function(){var t=new sap.ui.model.odata.v2.ODataModel({serviceUrl:"/sap/opu/odata/sap/ZGWVPWM_GESTAO_CAMINHOES_SRV/"});sap.ui.getCore().setModel(t,"oModel")}})});',"monitorPortocel/controller/DetalhesMeta.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","monitorPortocel/webServices/apiConnector"],function(e,t,a){"use strict";return e.extend("monitorPortocel.controller.DetalhesMeta",{primeiraData:"",segundaData:"",tituloDaLista:"Viagens da etapa",acimaDaMedia:"",onInit:function(){sap.ui.Device.system.phone&&(this.getView().byId("colunaMotorista").setWidth("100px"),this.getView().byId("colunaOrigem").setWidth("100px"),this.getView().byId("colunaDestino").setWidth("100px"),this.getView().byId("colunaCod").setWidth("100px"),this.getView().byId("colunaInicio").setWidth("100px"),this.getView().byId("colunaFim").setWidth("100px")),void 0!==this.byId("idVizFrame")&&(this.byId("idVizFrame").setBusyIndicatorDelay(1),this.byId("idVizFrame").setBusy(!0)),sap.ui.getCore().getEventBus().subscribe("dadosMeta","meta",this.carregaModelo,this)},carregaModelo:function(e,i,s){void 0!==this.byId("tableViagens")&&this.byId("tableViagens").setHeaderText(this.tituloDaLista),this.acimaDaMedia=s.acimaDaMedia;var o=new t;o.setData({}),this.getView().setModel(o,"motoristas"),this.primeiraData=s.primeiraData,this.segundaData=s.segundaData;var r=this.getView(),u=[];u.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:s.centroOrigem})),u.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:s.centroDestino})),u.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:s.depositoDestino})),u.push(new sap.ui.model.Filter({path:"AcimaDaMedia",operator:sap.ui.model.FilterOperator.EQ,value1:s.acimaDaMedia})),u.push(new sap.ui.model.Filter({path:"Data",operator:sap.ui.model.FilterOperator.BT,value1:s.primeiraData,value2:s.segundaData}));var l=this;a.consumeModel("/ZET_VPWM_ET_CICLOSSET",u,{},function(e,t){var a=new sap.ui.model.json.JSONModel;a.setData(e.results),r.setModel(a,"detalhesEtapa"),void 0!==l.byId("idVizFrame")&&l.byId("idVizFrame").setBusy(!1)},function(e){sap.m.MessageToast.show("Erro")})},onSelectMeta:function(e){var t=e.getParameter("data")[0].data._context_row_number,i=this.getView().getModel("detalhesEtapa"),s=i.oData[t].DescricaoEtapa;if(" "===s[0])this.byId("tableViagens").setHeaderText(this.tituloDaLista+s);else{var o=" ";o+=s,this.byId("tableViagens").setHeaderText(this.tituloDaLista+o)}var r=i.oData[t].CentroOrigem,u=i.oData[t].CentroDestino,l=i.oData[t].DepositoDestino,n=this.acimaDaMedia,p=i.oData[t].Etapa.trim(),d=[];d.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:r})),d.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:u})),d.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:l})),d.push(new sap.ui.model.Filter({path:"AcimaDaMedia",operator:sap.ui.model.FilterOperator.EQ,value1:n})),d.push(new sap.ui.model.Filter({path:"DataInicio",operator:sap.ui.model.FilterOperator.BT,value1:this.primeiraData,value2:this.segundaData})),d.push(new sap.ui.model.Filter({path:"Etapa",operator:sap.ui.model.FilterOperator.EQ,value1:p}));var m=this.getView();a.consumeModel("/ZET_VPWM_DETALHES_ETAPASET",d,{},function(e,t){for(var a=0;a<e.results.length;a++){var i=e.results[a].DataInicio.substring(0,4),s=e.results[a].DataInicio.substring(4,6),o=e.results[a].DataInicio.substring(6,8),r=e.results[a].HoraInicio.substring(0,2),u=e.results[a].HoraInicio.substring(2,4),l=e.results[a].HoraInicio.substring(4,6),n=e.results[a].DataFim.substring(0,4),p=e.results[a].DataFim.substring(4,6),d=e.results[a].DataFim.substring(6,8),h=e.results[a].HoraFim.substring(0,2),D=e.results[a].HoraFim.substring(2,4),c=e.results[a].HoraFim.substring(4,6);e.results[a].formatDataIni=o+"/"+s+"/"+i,e.results[a].formatHoraIni=r+":"+u+":"+l,e.results[a].formatDataFim=d+"/"+p+"/"+n,e.results[a].formatHoraFim=h+":"+D+":"+c}var g=new sap.ui.model.json.JSONModel;g.setData(e.results),m.setModel(g,"motoristas")},function(e){sap.m.MessageToast.show("Erro")})},onNavBack:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("grafico",{},!0)}})});',"monitorPortocel/controller/DialogDadosDoSpot.js":'sap.ui.define(["sap/ui/core/mvc/Controller","monitorPortocel/webServices/apiConnector"],function(e,o){"use strict";return e.extend("monitorPortocel.controller.DialogDadosDoSpot",{myParent:null,constructor:function(e){this.myParent=e},onDialogSpotDetailsOpen:function(e){sap.ui.Device.system.phone||e.getSource().getContent()[0].setProperty("direction","Row")},onCloseDialog:function(e){e.getSource().getParent().close(),e.getSource().getParent().destroy()}})});',"monitorPortocel/controller/DialogFiltroCaminhao.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","monitorPortocel/webServices/apiConnector"],function(e,t,a){"use strict";return e.extend("monitorPortocel.controller.DialogFiltroCaminhao",{myParent:null,centro:"",placaCavalo:"",placaCarreta1:"",placaCarreta2:"",aFilter:[],selecionados:null,constructor:function(e){this.myParent=e,this.aFilter=[],this.selecionados=[],this.centro="",this.placaCavalo="",this.placaCarreta1="",this.placaCarreta2=""},onFilterByCentro:function(){var e=this.myParent,t=e.getView(),a=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroCaminhao_Centro",this);t.addDependent(a),a.open(),t.getModel("dialogCentro")||e.startModelCentro()},onFilterByCavalo:function(){var e=this.myParent,t=e.getView(),a=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroCaminhao_PlacaCavalo",this);t.addDependent(a),a.open(),t.getModel("placaCavalo")||e.startModelCavalo()},onFilterByCarreta1:function(){var e=this.myParent,t=e.getView(),a=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroCaminhao_PlacaCarreta1",this);t.addDependent(a),a.open(),t.getModel("placaCarreta1")||e.startModelCarreta1()},onFilterByCarreta2:function(){var e=this.myParent,t=e.getView(),a=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroCaminhao_PlacaCarreta2",this);t.addDependent(a),a.open(),t.getModel("placaCarreta2")||e.startModelCarreta2()},_onSearchFieldLiveChange:function(e){var t=this.myParent.getView().getDependents()[0].getContent()[1].getId(),a=this.myParent.getView().getDependents()[0].getContent()[1],o=e.getParameter("query")||e.getParameter("newValue"),r=e.getSource().getId();return new Promise(function(e){var i,n=[];o&&o.length>0&&(n.push(new sap.ui.model.Filter("PlcCavalo",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("PlcCarro1",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("PlcCarro2",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("Composicao",sap.ui.model.FilterOperator.Contains,o))),i=n.length>0?[new sap.ui.model.Filter(n,!1)]:[];var s=this.updateBindingOptions(t,{filters:i},r),l=a.getBindingInfo("items");a.bindAggregation("items",{model:l.model,path:l.path,parameters:l.parameters,template:l.template,sorter:s.sorters,filters:s.filters})}.bind(this)).catch(function(e){void 0!==e&&MessageBox.error(e.message)})},updateBindingOptions:function(e,t,a){this.mBindingOptions=this.mBindingOptions||{},this.mBindingOptions[e]=this.mBindingOptions[e]||{};var o=this.mBindingOptions[e].sorters,r=this.mBindingOptions[e].groupby;t&&(t.sorters&&(o=t.sorters),t.groupby&&(r=t.groupby),this.mBindingOptions[e].sorters=o,this.mBindingOptions[e].groupby=r,this.mBindingOptions[e].filters=this.mBindingOptions[e].filters||{},this.mBindingOptions[e].filters[a]=t.filters||[]);var i=[];for(var n in this.mBindingOptions[e].filters)i=i.concat(this.mBindingOptions[e].filters[n]);return r&&(o=o?[r].concat(o):[r]),{filters:i.length>0?[new sap.ui.model.Filter(i,!0)]:void 0,sorters:o}},onComposicaoSelecionada:function(e){var t=this.myParent.getView().getModel("filtroCaminhao"),a=e.getSource().getBindingContextPath().split("/")[1];"Selecionado"===t.oData[a].CompSelected?(t.oData[a].CompSelected="",t.refresh(),this.selecionados.includes(a)&&this.selecionados.splice(this.selecionados.indexOf(a),1)):(t.oData[a].CompSelected="Selecionado",t.refresh(),this.selecionados.push(a))},onCleanFilters:function(){var e=this.myParent;this.aFilter=[],this.centro="",this.placaCavalo="",this.placaCarreta1="",this.placaCarreta2="",e.getView().getDependents()[0].getContent()[0].getItems()[0].getItems()[1].setValue(""),e.getView().getDependents()[0].getContent()[0].getItems()[1].getItems()[1].setValue(""),e.getView().getDependents()[0].getContent()[0].getItems()[2].getItems()[1].setValue(""),e.getView().getDependents()[0].getContent()[0].getItems()[3].getItems()[1].setValue(""),this.filtra()},onClose:function(e){for(var t=this.myParent.getView().getModel("filtroCaminhao"),a=0;a<this.selecionados.length;a++)t.oData[this.selecionados[a]].CompSelected="";e.getSource().getParent().close(),e.getSource().getParent().destroy()},onApplyFilter:function(e){for(var t=this.myParent,a=t.getView().getModel("filtroCaminhao"),o=t.aFilters.length,r=0;r<o;)"Composicao"===t.aFilters[r].sPath&&(t.aFilters.splice(r,1),r--,o--),r++;for(var i="",n=0;n<a.oData.length;n++)if("Selecionado"===a.oData[n].CompSelected){var s=new sap.ui.model.Filter({path:"Composicao",operator:sap.ui.model.FilterOperator.Contains,value1:a.oData[n].Composicao});t.aFilters.push(s),i+=a.oData[n].Composicao+" "}t.getView().byId("inptCaminhao").setValue(i),t.loadTrucksOnTheMap(),e.getSource().getParent().close(),e.getSource().getParent().destroy()},filtra:function(){var e,t=this.myParent;""!==this.centro&&(e=new sap.ui.model.Filter({path:"Centro",operator:sap.ui.model.FilterOperator.EQ,value1:this.centro}),this.aFilter.push(e)),""!==this.placaCavalo&&(e=new sap.ui.model.Filter({path:"PlcCavalo",operator:sap.ui.model.FilterOperator.Contains,value1:this.placaCavalo}),this.aFilter.push(e)),""!==this.placaCarreta1&&(e=new sap.ui.model.Filter({path:"PlcCarro1",operator:sap.ui.model.FilterOperator.Contains,value1:this.placaCarreta1}),this.aFilter.push(e)),""!==this.placaCarreta2&&(e=new sap.ui.model.Filter({path:"PlcCarro2",operator:sap.ui.model.FilterOperator.Contains,value1:this.placaCarreta2}),this.aFilter.push(e));a.consumeModel("/ZET_VPWM_COMPOSICAOSET",this.aFilter,{},function(e,a){var o=new sap.ui.model.json.JSONModel;o.setData(e.results),t.getView().setModel(o,"filtroCaminhao")},function(e){sap.m.MessageToast.show("Erro")})},onSearchCentro:function(e){var t=this.myParent.getView().getModel("dialogCentro"),a=e.getParameter("query").toLowerCase();if(""===a)for(var o=0;o<t.oData.length;o++)t.oData[o].visible=!0;else for(o=0;o<t.oData.length;o++){t.oData[o].Descricao.toLowerCase().includes(a)?t.oData[o].visible=!0:t.oData[o].visible=!1}t.refresh()},onSelecionarCentro:function(e){var t=this.myParent,a=t.getView().getModel("dialogCentro"),o=e.getSource()._oItemNavigation.iFocusedIndex;this.centro=a.oData[o].Centro,t.getView().getDependents()[0].getContent()[0].getItems()[0].getItems()[1].setValue(a.oData[o].Descricao),this.filtra(),e.getSource().getParent().close(),e.getSource().getParent().destroy()},onCloseCentro:function(e){for(var t=this.myParent.getView().getModel("dialogCentro"),a=0;a<t.oData.length;a++)t.oData[a].visible=!0;e.getSource().getParent().close(),e.getSource().getParent().destroy()},onSearchPlacaCavalo:function(e){var t=this.myParent.getView().getModel("placaCavalo"),a=e.getParameter("query").toLowerCase();if(""===a)for(var o=0;o<t.oData.length;o++)t.oData[o].visible=!0;else for(o=0;o<t.oData.length;o++){t.oData[o].PlcCavalo.toLowerCase().includes(a)?t.oData[o].visible=!0:t.oData[o].visible=!1}t.refresh()},onSelecionarPlacaCavalo:function(e){var t=this.myParent,a=t.getView().getModel("placaCavalo"),o=e.getSource()._oItemNavigation.iFocusedIndex;this.placaCavalo=a.oData[o].PlcCavalo,t.getView().getDependents()[0].getContent()[0].getItems()[1].getItems()[1].setValue(a.oData[o].PlcCavalo),this.filtra(),e.getSource().getParent().close(),e.getSource().getParent().destroy()},onClosePlacaCavalo:function(e){for(var t=this.myParent.getView().getModel("placaCavalo"),a=0;a<t.oData.length;a++)t.oData[a].visible=!0;e.getSource().getParent().close(),e.getSource().getParent().destroy()},onSearchPlacaCarreta1:function(e){var t=this.myParent.getView().getModel("placaCarreta1"),a=e.getParameter("query").toLowerCase();if(""===a)for(var o=0;o<t.oData.length;o++)t.oData[o].visible=!0;else for(o=0;o<t.oData.length;o++){t.oData[o].PlcCarro1.toLowerCase().includes(a)?t.oData[o].visible=!0:t.oData[o].visible=!1}t.refresh()},onSelecionarPlacaCarreta1:function(e){var t=this.myParent,a=t.getView().getModel("placaCarreta1"),o=e.getSource()._oItemNavigation.iFocusedIndex;this.placaCarreta1=a.oData[o].PlcCarro1,t.getView().getDependents()[0].getContent()[0].getItems()[2].getItems()[1].setValue(a.oData[o].PlcCarro1),this.filtra(),e.getSource().getParent().close(),e.getSource().getParent().destroy()},onClosePlacaCarreta1:function(e){for(var t=this.myParent.getView().getModel("placaCarreta1"),a=0;a<t.oData.length;a++)t.oData[a].visible=!0;e.getSource().getParent().close(),e.getSource().getParent().destroy()},onSearchPlacaCarreta2:function(e){var t=this.myParent.getView().getModel("placaCarreta2"),a=e.getParameter("query").toLowerCase();if(""===a)for(var o=0;o<t.oData.length;o++)t.oData[o].visible=!0;else for(o=0;o<t.oData.length;o++){t.oData[o].PlcCarro2.toLowerCase().includes(a)?t.oData[o].visible=!0:t.oData[o].visible=!1}t.refresh()},onSelecionarPlacaCarreta2:function(e){var t=this.myParent,a=t.getView().getModel("placaCarreta2"),o=e.getSource()._oItemNavigation.iFocusedIndex;this.placaCarreta2=a.oData[o].PlcCarro2,t.getView().getDependents()[0].getContent()[0].getItems()[3].getItems()[1].setValue(a.oData[o].PlcCarro2),this.filtra(),e.getSource().getParent().close(),e.getSource().getParent().destroy()},onClosePlacaCarreta2:function(e){for(var t=this.myParent.getView().getModel("placaCarreta2"),a=0;a<t.oData.length;a++)t.oData[a].visible=!0;e.getSource().getParent().close(),e.getSource().getParent().destroy()}})});',"monitorPortocel/controller/DialogFiltroEtapa.js":'sap.ui.define(["sap/ui/core/mvc/Controller","monitorPortocel/webServices/apiConnector"],function(e,t){"use strict";return e.extend("monitorPortocel.controller.DialogFiltroEtapa",{myParent:null,aFilter:[],selecionados:[],etapaDoFiltro:null,constructor:function(e){this.myParent=e,this.aFilters=[],this.selecionados=[],this.etapaDoFiltro=null;var t=this.myParent,o=(t.getView(),t.getView().getModel("filtroEtapa"));if(o)for(var a=0;a<o.oData.length;a++)"Selecionado"===o.oData[a].EtapaSelected&&(this.etapaDoFiltro=a)},onFilterByCentroOrigem:function(){var e=this.myParent.getView();this.startModelCentro();var t=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroEtapa_CentroOrigem",this);e.addDependent(t),t.open()},onFilterByDestino:function(){var e=this.myParent.getView();this.startModelDestino();var t=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroEtapa_Destino",this);e.addDependent(t),t.open()},loadEtapas:function(){var e=this.myParent.getView(),o=e.getModel("selecionados").oData.centroOrigem,a=e.getModel("selecionados").oData.centroDestino,s=e.getModel("selecionados").oData.depositoDestino;if(""!==o&&""!==a&&""!==s){var r=[];r.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:o})),r.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:a})),r.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:s}));t.consumeModel("/ZET_VPWM_ETAPAS_TRPSET",r,{},function(t,o){for(var a=0;a<t.results.length;a++)t.results[a].Etapa=t.results[a].Etapa.trim();var s=new sap.ui.model.json.JSONModel;s.setData(t.results),e.setModel(s,"filtroEtapa")},function(e){sap.m.MessageToast.show("Erro")})}else{var i=new sap.ui.model.json.JSONModel;e.setModel(i,"filtroEtapa"),this.limpaFiltrosVelhos()}},onEtapaSelecionada:function(e){var t=this.myParent.getView().getModel("filtroEtapa"),o=e.getSource().getBindingContextPath().split("/")[1];"Selecionado"===t.oData[o].EtapaSelected?(t.oData[o].EtapaSelected="",t.refresh(),this.selecionados.includes(o)&&this.selecionados.splice(this.selecionados.indexOf(o),1)):(t.oData[o].EtapaSelected="Selecionado",t.refresh(),this.selecionados.push(o))},onClose:function(e){var t=this.myParent.getView().getModel("filtroEtapa");if(t)for(var o=0;o<this.selecionados.length;o++)t.oData[this.selecionados[o]].EtapaSelected="";e.getSource().getParent().close(),e.getSource().getParent().destroy()},onApplyFilter:function(e){var t=this.myParent,o=t.getView().getModel("filtroEtapa");this.limpaFiltrosVelhos();for(var a="",s=0;s<o.oData.length;s++)if("Selecionado"===o.oData[s].EtapaSelected){var r=new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:o.oData[s].CentroOrigem});t.aFilters.push(r),r=new sap.ui.model.Filter({path:"Etapa",operator:sap.ui.model.FilterOperator.EQ,value1:o.oData[s].Etapa}),t.aFilters.push(r),r=new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:o.oData[s].CentroDestino}),t.aFilters.push(r),r=new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:o.oData[s].DepositoDestino}),t.aFilters.push(r),a+=o.oData[s].Etapa+" "}t.getView().byId("inptEtapa").setValue(a),t.loadTrucksOnTheMap(),e.getSource().getParent().close(),e.getSource().getParent().destroy()},limpaFiltrosVelhos:function(){for(var e=this.myParent,t=e.aFilters.length,o=0;o<t;)"Etapa"===e.aFilters[o].sPath&&(e.aFilters.splice(o,1),o--,t--),o++;for(t=e.aFilters.length,o=0;o<t;)"CentroOrigem"===e.aFilters[o].sPath&&(e.aFilters.splice(o,1),o--,t--),o++;for(t=e.aFilters.length,o=0;o<t;)"CentroDestino"===e.aFilters[o].sPath&&(e.aFilters.splice(o,1),o--,t--),o++;for(t=e.aFilters.length,o=0;o<t;)"DepositoDestino"===e.aFilters[o].sPath&&(e.aFilters.splice(o,1),o--,t--),o++},onSelecionarCentroOrigem:function(e){var t=this.myParent.getView(),o=e.getSource().getBindingContextPath().split("/")[1],a=t.getModel("selecionados").oData.centroOrigemDescr=e.getSource().getModel("centros").getData()[o].Descricao;t.getModel("selecionados").oData.centroOrigem=e.getSource().getModel("centros").getData()[o].Centro,t.getDependents()[0].getContent()[0].getItems()[1].getItems()[1].setEnabled(!0),t.getDependents()[0].getContent()[0].getItems()[0].getItems()[1].setValue(a),t.getDependents()[0].getContent()[0].getItems()[1].getItems()[1].setValue(""),t.getModel("selecionados").oData.centroDestino="",t.getModel("selecionados").oData.depositoDestino="",this.loadEtapas(),e.getSource().getParent().getParent().close(),e.getSource().getParent().getParent().destroy()},onCloseCentroOrigem:function(e){e.getSource().getParent().close(),e.getSource().getParent().destroy()},onSelecionarDestinos:function(e){var t=this.myParent.getView(),o=e.getSource().getBindingContextPath().split("/")[1],a=e.getSource().getModel("destinos").getData()[o],s=(t.getModel("selecionados").oData.centroDestinoDescr=a.DescricaoCentroDestino,t.getModel("selecionados").oData.depositoDescr=a.DescricaoDeposito);t.getModel("selecionados").oData.centroDestino=a.CentroDestino,t.getModel("selecionados").oData.depositoDestino=a.Deposito,t.getDependents()[0].getContent()[0].getItems()[1].getItems()[1].setValue(s),this.loadEtapas(),e.getSource().getParent().getParent().close(),e.getSource().getParent().getParent().destroy()},onCloseDestinos:function(e){e.getSource().getParent().close(),e.getSource().getParent().destroy()},startModelCentro:function(){var e=this.myParent.getView();t.consumeModel("/ZET_VPWM_CENTRO_DESCRICAOSSET",{},{},function(t,o){var a=new sap.ui.model.json.JSONModel;a.setData(t.results),e.setModel(a,"centros")},function(e){sap.m.MessageToast.show("Erro Centro")})},startModelDestino:function(){var e=this.myParent.getView(),o=e.getModel("selecionados").oData.centroOrigem,a=[];""!==o&&a.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:o}));t.consumeModel("/ZET_VPWM_DESTINOSET",a,{},function(t,o){var a=new sap.ui.model.json.JSONModel;a.setData(t.results),e.setModel(a,"destinos")},function(e){sap.m.MessageToast.show("Erro Destino")})}})});',"monitorPortocel/controller/DialogFiltroMaterial.js":'sap.ui.define(["sap/ui/core/mvc/Controller","monitorPortocel/webServices/apiConnector"],function(e,t){"use strict";return e.extend("monitorPortocel.controller.DialogFiltroMaterial",{myParent:null,selecionados:[],constructor:function(e){this.myParent=e,this.selecionados=[]},onSearch:function(e){var a=this.myParent,o=new sap.ui.model.Filter({path:"DescMaterial",operator:sap.ui.model.FilterOperator.Contains,value1:e.getParameter("query")}),r=[];r.push(o);t.consumeModel("/ZET_VPWM_MATERIALSET",r,{},function(e,t){var o=new sap.ui.model.json.JSONModel;o.setData(e.results),a.getView().setModel(o,"filtroMaterial")},function(e){sap.m.MessageToast.show("Erro")})},onSelecionarMaterial:function(e){var t=this.myParent.getView().getModel("filtroMaterial"),a=e.getSource()._oItemNavigation.iFocusedIndex;"Selecionado"===t.oData[a].MatSelected?(t.oData[a].MatSelected="",t.refresh(),this.selecionados.includes(a)&&this.selecionados.splice(this.selecionados.indexOf(a),1)):(t.oData[a].MatSelected="Selecionado",t.refresh(),this.selecionados.push(a))},onCloseMaterial:function(e){for(var t=this.myParent.getView().getModel("filtroMaterial"),a=0;a<this.selecionados.length;a++)t.oData[this.selecionados[a]].MatSelected="";e.getSource().getParent().close(),e.getSource().getParent().destroy()},onApplyFilterMaterial:function(e){for(var t=this.myParent,a=t.getView().getModel("filtroMaterial"),o=t.aFilters.length,r=0;r<o;)"Material"===t.aFilters[r].sPath&&(t.aFilters.splice(r,1),r--,o--),r++;for(var i="",l=0;l<a.oData.length;l++)if("Selecionado"===a.oData[l].MatSelected){var s=new sap.ui.model.Filter({path:"Material",operator:sap.ui.model.FilterOperator.EQ,value1:a.oData[l].Material});t.aFilters.push(s),i+=a.oData[l].DescMaterial+" "}t.getView().byId("inptMaterial").setValue(i),t.loadTrucksOnTheMap(),e.getSource().getParent().close(),e.getSource().getParent().destroy()}})});',"monitorPortocel/controller/DialogFiltroMotorista.js":'sap.ui.define(["sap/ui/core/mvc/Controller","monitorPortocel/webServices/apiConnector"],function(e,o){"use strict";return e.extend("monitorPortocel.controller.DialogFiltroMotorista",{myParent:null,selecionados:[],constructor:function(e){this.myParent=e,this.selecionados=[]},onSearch:function(e){var t=this.myParent,a=new sap.ui.model.Filter({path:"Nome",operator:sap.ui.model.FilterOperator.Contains,value1:e.getParameter("query")}),r=[];r.push(a);o.consumeModel("/ZET_VPWM_MOTORISTASET",r,{},function(e,o){var a=new sap.ui.model.json.JSONModel;a.setData(e.results),t.getView().setModel(a,"filtroMotorista")},function(e){sap.m.MessageToast.show("Erro")})},onSelecionar:function(e){var o=this.myParent.getView().getModel("filtroMotorista"),t=e.getSource()._oItemNavigation.iFocusedIndex;"Selecionado"===o.oData[t].MotSelected?(o.oData[t].MotSelected="",o.refresh(),this.selecionados.includes(t)&&this.selecionados.splice(this.selecionados.indexOf(t),1)):(o.oData[t].MotSelected="Selecionado",o.refresh(),this.selecionados.push(t))},onClose:function(e){var o=this.myParent.getView().getModel("filtroMotorista");if(o)for(var t=0;t<this.selecionados.length;t++)o.oData[this.selecionados[t]].MotSelected="";e.getSource().getParent().close(),e.getSource().getParent().destroy()},onApply:function(e){for(var o=this.myParent,t=o.getView().getModel("filtroMotorista"),a=o.aFilters.length,r=0;r<a;)"Usuario"===o.aFilters[r].sPath&&(o.aFilters.splice(r,1),r--,a--),r++;for(var i="",s=0;s<t.oData.length;s++)if("Selecionado"===t.oData[s].MotSelected){var n=new sap.ui.model.Filter({path:"Usuario",operator:sap.ui.model.FilterOperator.EQ,value1:t.oData[s].Usuario});o.aFilters.push(n),i+=t.oData[s].Nome+" "}o.getView().byId("inptMotorista").setValue(i),o.loadTrucksOnTheMap(),e.getSource().getParent().close(),e.getSource().getParent().destroy()}})});',
"monitorPortocel/controller/Grafico.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","monitorPortocel/webServices/apiConnector","sap/ui/export/Spreadsheet","sap/ui/model/json/JSONModel","sap/ui/table/RowSettings"],function(e,t,o,a,i){"use strict";return e.extend("monitorPortocel.controller.Grafico",{onPressGoMapa:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("mapa",{},!0)},formatDateUTCtoLocale:function(e){return e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):e},applyFiltersAndSorters:function(e,t){var o=this.getView().byId(e).getBindingInfo(t),a=this.updateBindingOptions(e);this.getView().byId(e).bindAggregation(t,{model:o.model,path:o.path,parameters:o.parameters,template:o.template,templateShareable:!0,sorter:a.sorters,filters:a.filters})},onCarregaFiltros:function(){},onExit:function(){clearInterval(window.timerGrafico)},onInit:function(){var e=this.getView();e.setBusyIndicatorDelay(1),e.setBusy(!0);var o=0;sap.ui.Device.system.phone&&(this.getView().byId("flexbox").setDirection("Column"),this.getView().byId("vboxVizMeta").setWidth("100%"),this.getView().byId("vboxVizMeta").addStyleClass("sapUiSmallMarginBegin"),this.getView().byId("vboxVizGrafico").setWidth("100%"),this.getView().byId("vboxVizGrafico").addStyleClass("sapUiSmallMarginBegin")),e.addEventDelegate({onBeforeShow:function(e){clearInterval(window.timerGrafico)}},this);var a=new Date;a.setDate(a.getDate()-1);var i=new Date;i.setFullYear(i.getFullYear()-5);var s=new Date;s.setFullYear(s.getFullYear()+1);var r=new sap.ui.model.json.JSONModel;r.setData({dateValueDRS2:a,secondDateValueDRS2:new Date,dateMinDRS2:i,dateMaxDRS2:s}),this.getView().setModel(r,"dateRange");var n="/ZET_VPWM_CENTRO_DESCRICAOSSET";t.consumeModel(n,{},{},function(t,a){2===++o&&e.setBusy(!1);var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.setModel(i,"centros")},function(t){2===++o&&e.setBusy(!1),sap.m.MessageToast.show("Erro")});var l=[];l.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:"3070"})),n="/ZET_VPWM_DESTINOSET",t.consumeModel(n,l,{},function(t,a){2===++o&&e.setBusy(!1);var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.setModel(i,"destinos")},function(t){2===++o&&e.setBusy(!1),sap.m.MessageToast.show("Erro")});var p=this.byId("tableMotoristas"),d=p.getRowActionTemplate(),u=this.handleActionPress.bind(this);d=new sap.ui.table.RowAction({items:[new sap.ui.table.RowActionItem({type:"Navigation",press:u,visible:"{Available}"})]}),p.setRowActionTemplate(d),p.setRowActionCount(1)},onCarregaGrafico:function(){var e=this.getView();if(this.byId("cb_Destino").getSelectedItem()){this.byId("vboxVizGrafico").setBusyIndicatorDelay(1),this.byId("vboxVizGrafico").setBusy(!0),this.byId("vboxVizMeta").setBusyIndicatorDelay(1),this.byId("vboxVizMeta").setBusy(!0),this.byId("tableMotoristas").setBusyIndicatorDelay(1),this.byId("tableMotoristas").setBusy(!0);var o=this.byId("cb_CentroOri").getSelectedItem().getKey(),i=this.byId("cb_Destino").getSelectedItem().getKey().split("/"),s=i[0],r=i[1],n=this.byId("dateRange").getDateValue().getDate(),l=this.byId("dateRange").getDateValue().getMonth()+1,p=this.byId("dateRange").getDateValue().getFullYear();n<10&&(n="0"+n),l<10&&(l="0"+l);var d=""+p+l+n,u=this.byId("dateRange").getSecondDateValue().getDate(),g=this.byId("dateRange").getSecondDateValue().getMonth()+1,c=this.byId("dateRange").getSecondDateValue().getFullYear();u<10&&(u="0"+u),g<10&&(g="0"+g);var h=""+c+g+u,m=this,y=[];y.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:o})),y.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:s})),y.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:r}));var b="/ZET_VPWM_QUANTIDADE_ETAPASet";t.consumeModel(b,y,{},function(t,o){m.byId("vboxVizGrafico").setBusy(!1);var a=new sap.ui.model.json.JSONModel;a.setData(t.results),e.setModel(a,"graficoEtapa"),e.getModel("graficoEtapa").refresh()},function(e){m.byId("vboxVizGrafico").setBusy(!1)});var M=[];M.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:o})),M.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:s})),M.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:r})),M.push(new sap.ui.model.Filter({path:"Data",operator:sap.ui.model.FilterOperator.BT,value1:d,value2:h})),b="/ZET_VPWM_CARREGANDO_COMPSET",t.consumeModel(b,M,{},function(t,o){m.byId("tableMotoristas").setBusy(!1);var i=new a;i.setData(t),e.setModel(i)},function(e){m.byId("tableMotoristas").setBusy(!1),sap.m.MessageToast.show("Erro")}),b="/ZET_VPWM_CICLOSSET",t.consumeModel(b,M,{},function(t,o){m.byId("vboxVizMeta").setBusy(!1);var a=new sap.ui.model.json.JSONModel;a.setData(t.results),e.setModel(a,"graficoMeta")},function(e){m.byId("vboxVizMeta").setBusy(!1)})}else sap.m.MessageToast.show("Escolha o destino")},onChangeCentro:function(){var e=this.byId("cb_CentroOri").getSelectedItem().getKey(),o=this.getView(),a=[];a.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:e}));t.consumeModel("/ZET_VPWM_DESTINOSET",a,{},function(e,t){var a=new sap.ui.model.json.JSONModel;a.setData(e.results),o.setModel(a,"destinos")},function(e){sap.m.MessageToast.show("Erro")})},onSelectMeta:function(e){var t=e.getParameter("data")[0].data._context_row_number,o=this.getView().getModel("graficoMeta"),a=this.byId("dateRange").getDateValue().getDate(),i=this.byId("dateRange").getDateValue().getMonth()+1,s=this.byId("dateRange").getDateValue().getFullYear();i<10&&(i="0"+i),a<10&&(a="0"+a);var r=""+s+i+a,n=this.byId("dateRange").getSecondDateValue().getDate(),l=this.byId("dateRange").getSecondDateValue().getMonth()+1,p=this.byId("dateRange").getSecondDateValue().getFullYear();n<10&&(n="0"+n),l<10&&(l="0"+l);var d=""+p+l+n,u=this.byId("cb_Destino").getSelectedItem().getKey().split("/"),g={centroOrigem:this.byId("cb_CentroOri").getSelectedItem().getKey(),centroDestino:u[0],depositoDestino:u[1],primeiraData:r,segundaData:d,acimaDaMedia:o.oData[t].AcimaDaMedia};sap.ui.core.UIComponent.getRouterFor(this).navTo("detalhesmeta",{},!0),sap.ui.getCore().getEventBus().publish("dadosMeta","meta",g)},createColumnConfig:function(){return[{label:"Status",property:"Status",type:"String"},{label:"Texto Status",property:"StatusText",type:"String"},{label:"Motorista",property:"NomeMotorista",width:"25"},{label:"Usuário",property:"UsuarioMot",type:"String"},{label:"Cod.WAS.Motorista",property:"CodMotorista",type:"String"},{label:"Composição",property:"Composicao",type:"String"},{label:"Placa Cavalo",property:"PlcCavalo",type:"String"},{label:"Placa Carreta 1",property:"PlcCarr1",type:"String"},{label:"Placa Carreta 2",property:"PlcCarr2",type:"String"},{label:"Centro Origem",property:"CentroOrigem",type:"String"},{label:"Origem",property:"Des_Origem",type:"String"},{label:"Centro Destino",property:"CentroDestino",type:"String"},{label:"Depósito Destino",property:"DepositoDestino",type:"String"},{label:"Destino",property:"Des_Destino",type:"String"},{label:"Data Início",property:"DtInicio",type:"String"},{label:"Hora Início",property:"HrInicio",type:"String"},{label:"Data Fim",property:"DtFim",type:"String"},{label:"Hora Fim",property:"HrFim",type:"String"},{label:"Tempo Ciclo (Min.)",property:"TempoMin",type:"String"},{label:"Meta Ciclo (Min.)",property:"MetaMin",type:"String"},{label:"Etapa",property:"Etapa",type:"String"},{label:"Descr. Etapa",property:"DescrEtapa",type:"String"},{label:"Cód. Viagem",property:"Viagem",type:"String"},{label:"Ciclo Excluído",property:"Excluido",type:"String"}]},onExportTableMotoristas:function(){if(this.byId("tableMotoristas").setBusyIndicatorDelay(1),this.byId("tableMotoristas").setBusy(!0),this.getView().setBusyIndicatorDelay(1),this.getView().setBusy(!0),this.getView().getModel()){var e,t,a,i,s=this.byId("tableMotoristas").getSelectedIndices(),r=[];if(s.length>0){for(var n=this.getView().getModel().getProperty("/").results,l=this.byId("cb_Destino").getSelectedItem().getKey().split("/"),p=0;p<s.length;p++){var d={centroOrigem:this.byId("cb_CentroOri").getSelectedItem().getKey(),centroDestino:l[0],depositoDestino:l[1],cdMotorista:n[s[p]].CodMotorista,dtInicio:n[s[p]].DtInicio.substr(6,4)+n[s[p]].DtInicio.substr(3,2)+n[s[p]].DtInicio.substr(0,2),hrInicio:n[s[p]].HrInicio.substr(0,2)+n[s[p]].HrInicio.substr(3,2)+n[s[p]].HrInicio.substr(6,2),dtFim:n[s[p]].DtFim.substr(6,4)+n[s[p]].DtFim.substr(3,2)+n[s[p]].DtFim.substr(0,2),hrFim:n[s[p]].HrFim.substr(0,2)+n[s[p]].HrFim.substr(3,2)+n[s[p]].HrFim.substr(6,2),composicao:n[s[p]].Composicao,viagem:n[s[p]].Viagem,Status:n[s[p]].Status,StatusText:n[s[p]].StatusText,Excluido:n[s[p]].Excluido,Alterado:n[s[p]].Alterado};if(this.getEtapasCiclo(d),this.oDataEtapasCiclo.results)for(var u=0;u<this.oDataEtapasCiclo.results.length;u++)r.push(this.oDataEtapasCiclo.results[u])}e=sap.ui.controller("monitorPortocel.controller.ListaViagens").createColumnConfig(),i="DetalheCiclo_"}else r=this.getView().getModel().getProperty("/").results,e=this.createColumnConfig(),i="Viagens_";r?(t={workbook:{columns:e},dataSource:r,fileName:i+Date()},(a=new o(t)).build().then(function(){sap.m.MessageToast.show("Planilhar exportada com sucesso")}).catch(function(e){sap.m.MessageToast.show("Erro ao exportar: "+e)}).finally(function(){a.destroy()})):sap.m.MessageToast.show("Não há dados para exportar")}else sap.m.MessageToast.show("Não há dados para exportar");this.getView().setBusy(!1),this.byId("tableMotoristas").setBusy(!1)},handleActionPress:function(e){var t=e.getParameter("row"),o=e.getParameter("item");sap.m.MessageToast.show("Item "+(o.getText()||o.getType())+" pressionado para o motorista "+this.getView().getModel().getProperty("NomeMotorista",t.getBindingContext()));var a=this.byId("cb_Destino").getSelectedItem().getKey().split("/"),i={centroOrigem:this.byId("cb_CentroOri").getSelectedItem().getKey(),centroDestino:a[0],depositoDestino:a[1],cdMotorista:this.getView().getModel().getProperty("CodMotorista",t.getBindingContext()),dtInicio:this.getView().getModel().getProperty("DtInicio",t.getBindingContext()),hrInicio:this.getView().getModel().getProperty("HrInicio",t.getBindingContext()),dtFim:this.getView().getModel().getProperty("DtFim",t.getBindingContext()),hrFim:this.getView().getModel().getProperty("HrFim",t.getBindingContext()),composicao:this.getView().getModel().getProperty("Composicao",t.getBindingContext()),viagem:this.getView().getModel().getProperty("Viagem",t.getBindingContext()),Status:this.getView().getModel().getProperty("Status",t.getBindingContext()),StatusText:this.getView().getModel().getProperty("StatusText",t.getBindingContext()),Excluido:this.getView().getModel().getProperty("Excluido",t.getBindingContext()),Alterado:this.getView().getModel().getProperty("Alterado",t.getBindingContext())};sap.ui.core.UIComponent.getRouterFor(this).navTo("listaviagens",{},!0),sap.ui.getCore().getEventBus().publish("dadosViagem","viagem",i)},onSetRowCount:function(e){switch(this.byId("tableMotoristas").setVisibleRowCountMode(e.getSource().getProperty("key")),e.getSource().getProperty("key")){case"Fixed":this.getView().getModel()&&this.byId("tableMotoristas").setVisibleRowCount(this.getView().getModel().getProperty("/").results.length);case"Interactive":this.byId("tableMotoristas").setMinAutoRowCount(this.byId("tableMotoristas").getVisibleRowCount());break;case"Auto":this.byId("tableMotoristas").setMinAutoRowCount(5)}},getEtapasCiclo:function(e,o){var a=[];a.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:e.centroOrigem})),a.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:e.centroDestino})),a.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:e.depositoDestino})),a.push(new sap.ui.model.Filter({path:"CodMotorista",operator:sap.ui.model.FilterOperator.EQ,value1:e.cdMotorista})),a.push(new sap.ui.model.Filter({path:"DtInicio",operator:sap.ui.model.FilterOperator.GE,value1:e.dtInicio})),a.push(new sap.ui.model.Filter({path:"HrInicio",operator:sap.ui.model.FilterOperator.GE,value1:e.hrInicio})),a.push(new sap.ui.model.Filter({path:"DtFim",operator:sap.ui.model.FilterOperator.LE,value1:e.dtFim})),a.push(new sap.ui.model.Filter({path:"HrFim",operator:sap.ui.model.FilterOperator.LE,value1:e.hrFim})),a.push(new sap.ui.model.Filter({path:"Composicao",operator:sap.ui.model.FilterOperator.EQ,value1:e.composicao})),a.push(new sap.ui.model.Filter({path:"Viagem",operator:sap.ui.model.FilterOperator.EQ,value1:e.viagem}));var i=this;t.consumeAsync("/ZET_VPWM_LISTA_ETAPAS_TRPSET",a,{},function(e,t){i.oDataEtapasCiclo=e},function(e){i.oDataEtapasCiclo=!1},!1)}})});',"monitorPortocel/controller/ListaViagens.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","monitorPortocel/webServices/apiConnector","sap/m/Dialog","sap/m/Panel"],function(t,e,i,o){"use strict";return t.extend("monitorPortocel.controller.ListaViagens",{onInit:function(){var t=this.byId("tabelaCiclo");t.setBusyIndicatorDelay(1),t.setBusy(!0),this.byId("cabViagem").setBusyIndicatorDelay(1),this.byId("cabViagem").setBusy(!0),sap.ui.getCore().getEventBus().subscribe("dadosViagem","viagem",this.loadModel,this);var e=t.getRowActionTemplate(),i=this.handleActionPress.bind(this);e=new sap.ui.table.RowAction({items:[new sap.ui.table.RowActionItem({icon:"sap-icon://edit",text:"Edit",press:i}),new sap.ui.table.RowActionItem({type:"Delete",press:i})]}),t.setRowActionTemplate(e),t.setRowActionCount(2)},loadModel:function(t,e,i){this.centroOrigem=i.centroOrigem,this.centroDestino=i.centroDestino,this.depositoDestino=i.depositoDestino,this.cdMotorista=i.cdMotorista,this.dtInicio=i.dtInicio.substr(6,4)+i.dtInicio.substr(3,2)+i.dtInicio.substr(0,2),this.hrInicio=i.hrInicio.substr(0,2)+i.hrInicio.substr(3,2)+i.hrInicio.substr(6,2),this.dtFim=i.dtFim.substr(6,4)+i.dtFim.substr(3,2)+i.dtFim.substr(0,2),this.hrFim=i.hrFim.substr(0,2)+i.hrFim.substr(3,2)+i.hrFim.substr(6,2),this.composicao=i.composicao,this.viagem=i.viagem,this.Status=i.Status,this.StatusText=i.StatusText,this.Excluido=i.Excluido,this.Alterado=i.Alterado,this.getListaViagensBackend()},onExit:function(){this._oPopupEtapa&&this._oPopupEtapa.destroy()},onNavBack:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("grafico",{},!0)},handleActionPress:function(t){var e=t.getParameter("row"),i=t.getParameter("item");if("X"===this.getView().getModel().getProperty("Excluido",e.getBindingContext()))sap.m.MessageToast.show("Etapa "+this.getView().getModel().getProperty("Etapa",e.getBindingContext())+" - "+this.getView().getModel().getProperty("DescrEtapa",e.getBindingContext())+" excluída, não é possível alterar");else switch(this.DtInicioUpdate=this.getView().getModel().getProperty("DtInicio",e.getBindingContext()).substr(6,4)+this.getView().getModel().getProperty("DtInicio",e.getBindingContext()).substr(3,2)+this.getView().getModel().getProperty("DtInicio",e.getBindingContext()).substr(0,2),this.HrInicioUpdate=this.getView().getModel().getProperty("HrInicio",e.getBindingContext()).substr(0,2)+this.getView().getModel().getProperty("HrInicio",e.getBindingContext()).substr(3,2)+this.getView().getModel().getProperty("HrInicio",e.getBindingContext()).substr(6,2),this.DtFimUpdate=this.getView().getModel().getProperty("DtFim",e.getBindingContext()).substr(6,4)+this.getView().getModel().getProperty("DtFim",e.getBindingContext()).substr(3,2)+this.getView().getModel().getProperty("DtFim",e.getBindingContext()).substr(0,2),this.HrFimUpdate=this.getView().getModel().getProperty("HrFim",e.getBindingContext()).substr(0,2)+this.getView().getModel().getProperty("HrFim",e.getBindingContext()).substr(3,2)+this.getView().getModel().getProperty("HrFim",e.getBindingContext()).substr(6,2),this.Etapa=this.getView().getModel().getProperty("Etapa",e.getBindingContext()),i.getType()){case"Custom":this.handlePopoverPress(t);break;case"Delete":this.deleteSelectedStep(t)}},handlePopoverPress:function(t){var e=this.getView().getModel().getProperty("DtInicio",t.getParameter("row").getBindingContext()).substr(3,2)+"/"+this.getView().getModel().getProperty("DtInicio",t.getParameter("row").getBindingContext()).substr(0,2)+"/"+this.getView().getModel().getProperty("DtInicio",t.getParameter("row").getBindingContext()).substr(8,2),o=this.getView().getModel().getProperty("DtFim",t.getParameter("row").getBindingContext()).substr(3,2)+"/"+this.getView().getModel().getProperty("DtFim",t.getParameter("row").getBindingContext()).substr(0,2)+"/"+this.getView().getModel().getProperty("DtFim",t.getParameter("row").getBindingContext()).substr(8,2),s=this.updateStepItem.bind(this);this._oPopupEtapa=new i({title:this.getView().getModel().getProperty("DescrEtapa",t.getParameter("row").getBindingContext()),contentWidth:"550px",contentHeight:"300px",resizable:!0,draggable:!0,initialFocusId:"cancel_oPopupEtapa",content:[new sap.m.Panel({id:"DtHrInicioPnl",width:"auto",expanded:!0,expandAnimation:!1,content:[new sap.m.Text({text:"Data Hora Início",id:"DtHrInicioLbl"}),new sap.m.DatePicker({id:"DtInicio",required:!0,displayFormat:"dd.MM.yyyy",value:e}),new sap.m.TimePicker({id:"HrInicio",required:!0,displayFormat:"HH:mm:ss",valueFormat:"HH:mm:ss",support2400:!0,value:this.getView().getModel().getProperty("HrInicio",t.getParameter("row").getBindingContext())})]}),new sap.m.Panel({id:"DtHrFimPnl",width:"auto",expanded:!0,expandAnimation:!1,content:[new sap.m.Text({text:"Data Hora Fim",id:"DtHrFimLbl"}),new sap.m.DatePicker({id:"DtFim",required:!0,displayFormat:"dd.MM.yyyy",value:o}),new sap.m.TimePicker({id:"HrFim",required:!0,displayFormat:"HH:mm:ss",valueFormat:"HH:mm:ss",support2400:!0,value:this.getView().getModel().getProperty("HrFim",t.getParameter("row").getBindingContext())})]})],beginButton:new sap.m.Button({id:"submit_oPopupEtapa",text:"Salvar",Type:"Accept",press:s}),endButton:new sap.m.Button({id:"cancel_oPopupEtapa",text:"Cancelar",Type:"Reject",press:function(){this._oPopupEtapa.close(),this._oPopupEtapa.destroy()}.bind(this)})}),this.getView().addDependent(this._oPopupEtapa),this._oPopupEtapa.open()},deleteSelectedStep:function(t){var e=this.deleteStepItem.bind(this),o=new i({title:"Confirmação",type:"Message",content:[new sap.m.Label({text:"Você tem certeza que deseja prosseguir?",labelFor:"submitDeleteStepDialogTextarea"}),new sap.m.TextArea("submitDeleteStepDialogTextarea",{liveChange:function(t){var e=t.getParameter("value");t.getSource().getParent().getBeginButton().setEnabled(e.length>0)},width:"100%",placeholder:"Adicionar motivo (obrigatório)"})],beginButton:new sap.m.Button({text:"Continuar",enabled:!1,press:e}),endButton:new sap.m.Button({text:"Cancelar",press:function(){return o.close(),!1}}),afterClose:function(){o.destroy()}});o.open()},deleteStepItem:function(t){var i=t.getSource().getParent();i.setBusyIndicatorDelay(1),i.setBusy(!0);var o={},s=sap.ui.getCore().byId("submitDeleteStepDialogTextarea").getValue();sap.m.MessageToast.show("Motivo é: "+s),o.CentroOrigem=this.centroOrigem,o.CentroDestino=this.centroDestino,o.DepositoDestino=this.depositoDestino,o.Etapa=this.Etapa,o.Composicao=this.composicao,o.DtInicio=this.DtInicioUpdate,o.HrInicio=this.HrInicioUpdate,o.Message=s,o.Excluido="X",o.Alterado="";var a="/ZET_VPWM_LISTA_ETAPAS_TRPSET(CentroDestino=\'"+this.centroDestino+"\',CentroOrigem=\'"+this.centroOrigem+"\',Composicao=\'"+this.composicao+"\',DepositoDestino=\'"+this.depositoDestino+"\',DtInicio=\'"+this.DtInicioUpdate+"\',Etapa=\'"+this.Etapa+"\',HrInicio=\'"+this.HrInicioUpdate+"\')";t=this,e.updateModel(a,o,function(e,o){i.setBusy(!1),i.close(),i.destroy(),t.getListaViagensBackend(),204===o.statusCode&&sap.m.MessageToast.show("Operação realizada com sucesso")},function(t){sap.m.MessageToast.show(t.response.body.substr(t.response.body.search("value")+8,t.response.body.search("innererror")-t.response.body.search("value")-12)),i.setBusy(!1)})},updateStepItem:function(t){var i=t.getSource().getParent();i.setBusyIndicatorDelay(1),i.setBusy(!0);var o={};o.CentroOrigem=this.centroOrigem,o.CentroDestino=this.centroDestino,o.DepositoDestino=this.depositoDestino,o.Etapa=this.Etapa,o.Composicao=this.composicao;var s=sap.ui.getCore().byId("DtInicio").getValue().split("/")[0],a=sap.ui.getCore().byId("DtInicio").getValue().split("/")[1],r="20"+sap.ui.getCore().byId("DtInicio").getValue().split("/")[2];o.DtInicio=r+("0"+s).slice(-2)+("0"+a).slice(-2),o.HrInicio=sap.ui.getCore().byId("HrInicio").getValue().substr(0,2)+sap.ui.getCore().byId("HrInicio").getValue().substr(3,2)+sap.ui.getCore().byId("HrInicio").getValue().substr(6,2),s=sap.ui.getCore().byId("DtFim").getValue().split("/")[0],a=sap.ui.getCore().byId("DtFim").getValue().split("/")[1],r="20"+sap.ui.getCore().byId("DtFim").getValue().split("/")[2],o.DtFim=r+("0"+s).slice(-2)+("0"+a).slice(-2),o.HrFim=sap.ui.getCore().byId("HrFim").getValue().substr(0,2)+sap.ui.getCore().byId("HrFim").getValue().substr(3,2)+sap.ui.getCore().byId("HrFim").getValue().substr(6,2),o.Excluido="",o.Alterado="X",t=this;var n="/ZET_VPWM_LISTA_ETAPAS_TRPSET(CentroDestino=\'"+this.centroDestino+"\',CentroOrigem=\'"+this.centroOrigem+"\',Composicao=\'"+this.composicao+"\',DepositoDestino=\'"+this.depositoDestino+"\',DtInicio=\'"+this.DtInicioUpdate+"\',Etapa=\'"+this.Etapa+"\',HrInicio=\'"+this.HrInicioUpdate+"\')";e.updateModel(n,o,function(e,o){204===o.statusCode&&sap.m.MessageToast.show("Operação realizada com sucesso"),i.close(),i.destroy(),i.setBusy(!1),t.getListaViagensBackend()},function(e){i.setBusy(!1);var o=!!t.getView().$().closest(".sapUiSizeCompact").length;sap.m.MessageBox.error(e.response.body.substr(e.response.body.search("value")+8,e.response.body.search("innererror")-e.response.body.search("value")-12),{styleClass:o?"sapUiSizeCompact":""})})},getListaViagensBackend:function(){var t=this;this.byId("tabelaCiclo").setBusy(!0),this.byId("cabViagem").setBusy(!0),void 0!==this.byId("tableMotoristas")&&this.byId("tableMotoristas").setHeaderText(this.tituloDaLista),this.byId("statusViagemGeral").setText(t.StatusText),"X"===this.Excluido?(this.byId("statusViagemGeral").setIcon("sap-icon://alert"),this.byId("statusViagemGeral").setState("Error")):(this.byId("statusViagemGeral").setState(t.Status),"Error"===this.Status?this.byId("statusViagemGeral").setIcon("sap-icon://status-negative"):this.byId("statusViagemGeral").setIcon("sap-icon://hint"));var i=this.getView(),o=new sap.ui.model.json.JSONModel;o.setData({}),i.setModel(o,"viagem");var s=[];s.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:this.centroOrigem})),s.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:this.centroDestino})),s.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:this.depositoDestino})),s.push(new sap.ui.model.Filter({path:"CodMotorista",operator:sap.ui.model.FilterOperator.EQ,value1:this.cdMotorista})),s.push(new sap.ui.model.Filter({path:"DtInicio",operator:sap.ui.model.FilterOperator.GE,value1:this.dtInicio})),s.push(new sap.ui.model.Filter({path:"HrInicio",operator:sap.ui.model.FilterOperator.GE,value1:this.hrInicio})),s.push(new sap.ui.model.Filter({path:"DtFim",operator:sap.ui.model.FilterOperator.LE,value1:this.dtFim})),s.push(new sap.ui.model.Filter({path:"HrFim",operator:sap.ui.model.FilterOperator.LE,value1:this.hrFim})),s.push(new sap.ui.model.Filter({path:"Composicao",operator:sap.ui.model.FilterOperator.EQ,value1:this.composicao})),s.push(new sap.ui.model.Filter({path:"Viagem",operator:sap.ui.model.FilterOperator.EQ,value1:this.viagem}));e.consumeModel("/ZET_VPWM_LISTA_ETAPAS_TRPSET",s,{},function(e,s){o.setData(e),i.setModel(o),t.byId("tabelaCiclo").setBusy(!1),t.byId("cabViagem").setBusy(!1)},function(e){sap.m.MessageToast.show(e.response.body.substr(e.response.body.search("value")+8,e.response.body.search("innererror")-e.response.body.search("value")-12)),t.byId("tabelaCiclo").setBusy(!1),t.byId("cabViagem").setBusy(!1)})},onSetRowCount:function(t){switch(this.byId("tabelaCiclo").setVisibleRowCountMode(t.getSource().getProperty("key")),t.getSource().getProperty("key")){case"Fixed":this.getView().getModel()&&this.byId("tabelaCiclo").setVisibleRowCount(this.getView().getModel().getProperty("/").results.length);case"Auto":this.byId("tabelaCiclo").setMinAutoRowCount(5)}},createColumnConfig:function(){return[{label:"Status",property:"Status",type:"String"},{label:"Texto Status",property:"StatusText",type:"String"},{label:"Motorista",property:"NomeMotorista",width:"25"},{label:"Usuário",property:"UsuarioMot",type:"String"},{label:"Cod.WAS.Motorista",property:"CodMotorista",type:"String"},{label:"Composição",property:"Composicao",type:"String"},{label:"Placa Cavalo",property:"PlcCavalo",type:"String"},{label:"Placa Carreta 1",property:"PlcCarr1",type:"String"},{label:"Placa Carreta 2",property:"PlcCarr2",type:"String"},{label:"Centro Origem",property:"CentroOrigem",type:"String"},{label:"Origem",property:"Des_Origem",type:"String"},{label:"Centro Destino",property:"CentroDestino",type:"String"},{label:"Depósito Destino",property:"DepositoDestino",type:"String"},{label:"Destino",property:"Des_Destino",type:"String"},{label:"Tipo Etapa",property:"TpEtapa",type:"String"},{label:"Etapa",property:"Etapa",type:"String"},{label:"Descr. Etapa",property:"DescrEtapa",type:"String"},{label:"Data Início",property:"DtInicio",type:"String"},{label:"Hora Início",property:"HrInicio",type:"String"},{label:"Data Fim",property:"DtFim",type:"String"},{label:"Hora Fim",property:"HrFim",type:"String"},{label:"Data Sistema",property:"DataSist",type:"String"},{label:"Hora Sistema",property:"HoraSist",type:"String"},{label:"Meta Etapa",property:"MetaEtapa",type:"String"},{label:"Tempo Minutos",property:"TempoMin",type:"String"},{label:"Tempo Total Minutos",property:"TempoTotMin",type:"String"},{label:"OC/Item",property:"OcItem",type:"String"},{label:"NF-e",property:"NfSerie",type:"String"},{label:"Remessa",property:"Remessa",type:"String"},{label:"Cód. Viagem",property:"ViagemRet",type:"String"},{label:"Observações",property:"Message",type:"String"},{label:"Ciclo Alterado",property:"Alterado",type:"String"},{label:"Ciclo Excluído",property:"Excluido",type:"String"},{label:"Usuário Última Modificação",property:"UsUltMod",type:"String"},{label:"Data Última Modificação",property:"DtUltMod",type:"String"},{label:"Hora Última Modificação",property:"HrUltMod",type:"String"}]},onExportTabelaCiclo:function(){var t,e;this.getView().getModel()?(t={workbook:{columns:this.createColumnConfig()},dataSource:this.getView().getModel().getProperty("/").results,fileName:"DetalheCiclo_"+Date()},(e=new sap.ui.export.Spreadsheet(t)).build().then(function(){sap.m.MessageToast.show("Planilhar exportada com sucesso")}).catch(function(t){sap.m.MessageToast.show("Erro ao exportar: "+t)}).finally(function(){e.destroy()})):sap.m.MessageToast.show("Não há dados para exportar")}})});',
"monitorPortocel/controller/Mapa.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","monitorPortocel/controller/DialogDadosDoSpot","monitorPortocel/controller/DialogFiltroMaterial","monitorPortocel/controller/DialogFiltroMotorista","monitorPortocel/controller/DialogFiltroCaminhao","monitorPortocel/controller/DialogFiltroEtapa","monitorPortocel/webServices/apiConnector"],function(e,t,o,a,i,s,n,r){"use strict";return e.extend("monitorPortocel.controller.Mapa",{aFilters:[],compFilter:[],matFilter:[],timerAtualizaMapa:null,checkBoxSelecionados:[!1,!0,!0,!0],onInit:function(){var e=this.getView().byId("geoMap"),t={MapProvider:{name:"MAPBOX_STARTER",type:"",description:"",tileX:"256",tileY:"256",maxLOD:"20",copyright:"Tiles Courtesy of MapBox.com",Source:[{id:"s1",url:"https://api.mapbox.com/styles/v1/mapbox/streets-v10/tiles/256/{LOD}/{X}/{Y}@2x?access_token=pk.eyJ1IjoiZmlicmlhc3V6YW5vIiwiYSI6ImNqdGswNjFpNTA2NGs0M29pOXY3OWk0a3EifQ.NIbh_jZHNxs5zfnsr1noMg"}]},MapLayerStacks:{name:"Default",MapLayer:[{name:"MapBox",refMapProvider:"MAPBOX_STARTER",opacity:"1",colBkgnd:"RGB(255,255,255)"}]}};e.setMapConfiguration(t),e.setRefMapLayerStack("Default"),this.getView().addEventDelegate({onAfterRendering:function(e){clearInterval(window.timerMapa),this.onIniciaTimer(),this.loadTrucksOnTheMap()}},this)},onAtualizarMapa:function(e){this.loadTrucksOnTheMap()},loadTrucksOnTheMap:function(){var e=this;r.consumeModel("/ZET_VPWM_VIAGENSSET",e.aFilters,{},function(t,o){for(var a=0;a<t.results.length;a++)t.results[a].Etapa=t.results[a].Etapa.trim();var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.getView().setModel(i,"spots"),e.getView().getModel("spots").refresh()},function(e){sap.m.MessageToast.show("Erro")})},handleRouteMatched:function(e){},_onSpotClick:function(e){var t=this,a=this.getView(),i=a.getModel("spots"),s=e.getSource().oBindingContexts.spots.getPath().split("/")[1];if((l=new sap.ui.model.json.JSONModel).setData(i.oData[s]),t.getView().setModel(l,"spotSelecionado"),"E"==i.oData[s].Tipo){var n="/ZET_VPWM_EXTRA_REGI_ETAPASET"+("(CentroOrigem=\'"+i.oData[s].CentroOrigem+"\',CentroDestino=\'"+i.oData[s].CentroDestino+"\',DepositoDestino=\'"+i.oData[s].DepositoDestino+"\',Etapa=\'"+i.oData[s].Etapa+"\',Composicao=\'"+i.oData[s].Composicao+"\',DataInicio=\'"+i.oData[s].DataInicio+"\',HoraInicio=\'"+i.oData[s].HoraInicio+"\')");r.consumeModel(n,[],{},function(e,o){var a=new sap.ui.model.json.JSONModel;a.setData(e),""!=e.Descricao?e.exibe=!0:e.exibe=!1,t.getView().setModel(a,"dadosSpotExtra")},function(e){var o=new sap.ui.model.json.JSONModel;o.setData({exibe:!1}),t.getView().setModel(o,"dadosSpotExtra")})}else{var l;(l=new sap.ui.model.json.JSONModel).setData({exibe:!1}),t.getView().setModel(l,"dadosSpotExtra")}var d=[];d.push(new sap.ui.model.Filter({path:"Composicao",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].Composicao})),d.push(new sap.ui.model.Filter({path:"Viagem",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].Viagem})),d.push(new sap.ui.model.Filter({path:"Oc",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].Oc})),d.push(new sap.ui.model.Filter({path:"ItemOc",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].ItemOc}));var p="/ZET_VPWM_MAT_COMPSET";r.consumeModel(p,d,{},function(e,o){var a=new sap.ui.model.json.JSONModel;a.setData(e.results),t.getView().setModel(a,"dadosSpot")},function(e){sap.m.MessageToast.show("Erro")});var c=[];if(c.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].CentroOrigem})),c.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].CentroDestino})),c.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].DepositoDestino})),c.push(new sap.ui.model.Filter({path:"Composicao",operator:sap.ui.model.FilterOperator.Contains,value1:i.oData[s].Composicao})),p="/ZET_VPWM_COMP_MINSET",r.consumeModel(p,c,{},function(e,o){var a=new sap.ui.model.json.JSONModel;a.setData(e.results),t.getView().setModel(a,"graficoSpot")},function(e){sap.m.MessageToast.show("Erro")}),a.getDependents().length>0)for(var u=0;u<a.getDependents().length;u++)a.getDependents()[0].destroy();var g=a.byId("dialogDadosSpot");if(!g){var h=new o(this);g=sap.ui.xmlfragment(a.getId(),"monitorPortocel.view.DialogDadosDoSpot",h),a.addDependent(g)}g.open()},openPopover:function(e){this._oPopover=sap.ui.xmlfragment("monitorPortocel.view.Popover",this),this.getView().addDependent(this._oPopover),this._oPopover.openBy(e.getSource())},onExit:function(){clearInterval(window.timerLocalizacao),this._oPopover&&this._oPopover.destroy()},onPresGoTempoPermanencia:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("tempomedio",{},!0)},onPresGoCiclos:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("grafico",{},!0)},_onOverflowToolbarButtonPress:function(e){var t=e.getSource().getBindingContext();return new Promise(function(e){this.doNavigate("Page2",t,e,"")}.bind(this)).catch(function(e){void 0!==e&&sap.m.MessageBox.error(e.message)})},doNavigate:function(e,t,o,a){var i,s,n=t?t.getPath():null,r=t?t.getModel():null;null!==n&&""!==n&&("/"===n.substring(0,1)&&(n=n.substring(1)),i=n.split("(")[0]);var l=this.sMasterContext?this.sMasterContext:n;null!==i&&(s=a||this.getOwnerComponent().getNavigationPropertyForNavigationWithContext(i,e)),null!==s&&void 0!==s?""===s?this.oRouter.navTo(e,{context:n,masterContext:l},!1):r.createBindingContext(s,t,null,function(t){t?"/"===(n=t.getPath()).substring(0,1)&&(n=n.substring(1)):n="undefined","undefined"===n?this.oRouter.navTo(e):this.oRouter.navTo(e,{context:n,masterContext:l},!1)}.bind(this)):this.oRouter.navTo(e),"function"==typeof o&&o()},onFilterByMaterial:function(){var e=this.getView();if(e.getDependents().length>0)for(var t=0;t<e.getDependents().length;t++)e.getDependents()[0].destroy();var o=new a(this),i=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroMaterial",o);e.addDependent(i),i.open(),this.getView().getModel("filtroMaterial")||this.startModelMaterial()},onFilterByMotorista:function(){var e=this.getView();if(e.getDependents().length>0)for(var t=0;t<e.getDependents().length;t++)e.getDependents()[0].destroy();var o=new i(this),a=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroMotorista",o);e.addDependent(a),a.open(),this.getView().getModel("filtroMotorista")||this.startModelMotorista()},onFilterByCaminhao:function(){var e=this.getView();if(e.getDependents().length>0)for(var t=0;t<e.getDependents().length;t++)e.getDependents()[0].destroy();var o=new s(this),a=sap.ui.xmlfragment("dialogCaminhao","monitorPortocel.view.DialogFiltroCaminhao",o);e.addDependent(a),a.open(),this.getView().getModel("filtroCaminhao")||this.startModelCaminhao()},onFilterByEtapa:function(){var e=this.getView();if(e.getDependents().length>0)for(var t=0;t<e.getDependents().length;t++)e.getDependents()[0].destroy();this.getView().getModel("filtroEtapa")||this.startModelEtapa();var o=new n(this),a=sap.ui.xmlfragment("monitorPortocel.view.DialogFiltroEtapa",o);e.addDependent(a),a.open();var i=this.getView().getModel("selecionados"),s=i.oData.centroOrigemDescr,r=(i.oData.centroDestinoDescr,i.oData.depositoDescr);e.getDependents()[0].getContent()[0].getItems()[0].getItems()[1].setValue(s),e.getDependents()[0].getContent()[0].getItems()[1].getItems()[1].setValue(r)},onCleanAllFilters:function(){var e,t=this.getView();if(this.aFilters=[],this.loadTrucksOnTheMap(),t.byId("inptMaterial").setValue(""),t.getModel("filtroMaterial")){e=t.getModel("filtroMaterial");for(var o=0;o<e.oData.length;o++)e.oData[o].MatSelected=""}if(t.byId("inptMotorista").setValue(""),t.getModel("filtroMotorista")){e=t.getModel("filtroMotorista");for(o=0;o<e.oData.length;o++)e.oData[o].MotSelected=""}if(t.byId("inptCaminhao").setValue(""),t.getModel("filtroCaminhao")){e=t.getModel("filtroCaminhao");for(o=0;o<e.oData.length;o++)e.oData[o].CompSelected=""}if(t.byId("inptEtapa").setValue(""),t.getModel("filtroEtapa")){e=t.getModel("filtroEtapa");for(o=0;o<e.oData.length;o++)e.oData[o].EtapaSelected=""}},onSelectFilters:function(e){var t=this.getView(),o=sap.ui.xmlfragment("monitorPortocel.view.DialogSelecionarFiltros",this);t.addDependent(o),o.open(),this.checkBoxSelecionados[0]?o.getContent()[0].getItems()[0].setSelected(!0):o.getContent()[0].getItems()[0].setSelected(!1),this.checkBoxSelecionados[1]?o.getContent()[0].getItems()[1].setSelected(!0):o.getContent()[0].getItems()[1].setSelected(!1),this.checkBoxSelecionados[2]?o.getContent()[0].getItems()[2].setSelected(!0):o.getContent()[0].getItems()[2].setSelected(!1),this.checkBoxSelecionados[3]?o.getContent()[0].getItems()[3].setSelected(!0):o.getContent()[0].getItems()[3].setSelected(!1)},startModelMaterial:function(){var e=this;r.consumeModel("/ZET_VPWM_MATERIALSET",{},{},function(t,o){var a=new sap.ui.model.json.JSONModel;a.setData(t.results),e.getView().setModel(a,"filtroMaterial")},function(e){sap.m.MessageToast.show("Erro")})},startModelMotorista:function(){var e=this;r.consumeModel("/ZET_VPWM_MOTORISTASET",{},{},function(t,o){var a=new sap.ui.model.json.JSONModel;a.setData(t.results),e.getView().setModel(a,"filtroMotorista")},function(e){sap.m.MessageToast.show("Erro")})},startModelCaminhao:function(){var e=this;r.consumeModel("/ZET_VPWM_COMPOSICAOSET",{},{},function(t,o){var a=new sap.ui.model.json.JSONModel;a.setData(t.results),e.getView().setModel(a,"filtroCaminhao")},function(e){sap.m.MessageToast.show("Erro")})},startModelEtapa:function(){var e=this;if(!this.getView().getModel("selecionados")){var t=new sap.ui.model.json.JSONModel;t.setData({centroOrigemDescr:"Un. Aracruz",centroOrigem:"3070",centroDestinoDescr:"Aracruz",centroDestino:"3803",depositoDescr:"PORTOCEL",deposito:"1244"}),this.getView().setModel(t,"selecionados")}var o=[];o.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:"3070"})),o.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:"3803"})),o.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:"1244"}));r.consumeModel("/ZET_VPWM_ETAPAS_TRPSET",{},{},function(t,o){for(var a=0;a<t.results.length;a++)t.results[a].Etapa=t.results[a].Etapa.trim();var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.getView().setModel(i,"filtroEtapa")},function(e){sap.m.MessageToast.show("Erro")})},startModelCentro:function(){var e=this;r.consumeModel("/ZET_VPWM_CENTRO_DESCRICAOSSET",{},{},function(t,o){for(var a=0;a<t.results.length;a++)t.results[a].visible=!0;var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.getView().setModel(i,"dialogCentro")},function(e){sap.m.MessageToast.show("Erro")})},startModelCavalo:function(){var e=this;r.consumeModel("/ZET_VPWM_PLACA_CAVALOSET",{},{},function(t,o){for(var a=0;a<t.results.length;a++)t.results[a].visible=!0;var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.getView().setModel(i,"placaCavalo")},function(e){sap.m.MessageToast.show("Erro")})},startModelCarreta1:function(){var e=this;r.consumeModel("/ZET_VPWM_PLACA_CARRETA1SET",{},{},function(t,o){for(var a=0;a<t.results.length;a++)t.results[a].visible=!0;var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.getView().setModel(i,"placaCarreta1")},function(e){sap.m.MessageToast.show("Erro")})},onIniciaTimer:function(){var e=this,t=0;window.timerMapa=setInterval(function(){!function(){300==t&&(e.loadTrucksOnTheMap(),t=0);t++}()},1e3)},startModelCarreta2:function(){var e=this;r.consumeModel("/ZET_VPWM_PLACA_CARRETA2SET",{},{},function(t,o){for(var a=0;a<t.results.length;a++)t.results[a].visible=!0;var i=new sap.ui.model.json.JSONModel;i.setData(t.results),e.getView().setModel(i,"placaCarreta2")},function(e){sap.m.MessageToast.show("Erro")})},onCloseSelecionarFiltros:function(e){var t,o=e.getSource().getParent().getContent()[0].getItems()[0].getSelected(),a=e.getSource().getParent().getContent()[0].getItems()[1].getSelected(),i=e.getSource().getParent().getContent()[0].getItems()[2].getSelected(),s=e.getSource().getParent().getContent()[0].getItems()[3].getSelected(),n=this.getView(),r=this.aFilters.length,l=0;if(o)n.byId("containerMaterial").setVisible(!0),this.checkBoxSelecionados[0]=!0;else{for(n.byId("containerMaterial").setVisible(!1),this.checkBoxSelecionados[0]=!1,l=0;l<r;)"Material"===this.aFilters[l].sPath&&(this.aFilters.splice(l,1),l--,r--),l++;if(t=this.getView().getModel("filtroMaterial")){for(var d=0;d<t.oData.length;d++)t.oData[d].MatSelected="";n.byId("inptMaterial").setValue("")}}if(a)n.byId("containerMotorista").setVisible(!0),this.checkBoxSelecionados[1]=!0;else{for(n.byId("containerMotorista").setVisible(!1),this.checkBoxSelecionados[1]=!1,l=0;l<r;)"Usuario"===this.aFilters[l].sPath&&(this.aFilters.splice(l,1),l--,r--),l++;if(t=this.getView().getModel("filtroMotorista")){for(d=0;d<t.oData.length;d++)t.oData[d].MotSelected="";n.byId("inptMotorista").setValue("")}}if(i)n.byId("containerCaminhao").setVisible(!0),this.checkBoxSelecionados[2]=!0;else{for(n.byId("containerCaminhao").setVisible(!1),this.checkBoxSelecionados[2]=!1,l=0;l<r;)"Composicao"===this.aFilters[l].sPath&&(this.aFilters.splice(l,1),l--,r--),l++;if(t=this.getView().getModel("filtroCaminhao")){for(d=0;d<t.oData.length;d++)t.oData[d].CompSelected="";n.byId("inptCaminhao").setValue("")}}if(s)n.byId("containerEtapa").setVisible(!0),this.checkBoxSelecionados[3]=!0;else{for(n.byId("containerEtapa").setVisible(!1),this.checkBoxSelecionados[3]=!1,l=0;l<r;)"Etapa"===this.aFilters[l].sPath&&(this.aFilters.splice(l,1),l--,r--),l++;if(t=this.getView().getModel("filtroEtapa")){for(d=0;d<t.oData.length;d++)t.oData[d].EtapaSelected="";n.byId("inptEtapa").setValue("")}}e.getSource().getParent().close(),e.getSource().getParent().destroy()},onPressResize:function(){"Minimizar"==this.byId("btnResize").getTooltip()?(sap.ui.Device.system.phone?this.byId("geoMap").minimize(132,56,1320,560):this.byId("filtersBlockLayout").setVisible(!0),this.byId("btnResize").setTooltip("Maximizar")):(this.byId("geoMap").maximize(),this.byId("filtersBlockLayout").setVisible(!1),this.byId("btnResize").setTooltip("Minimizar"))}})});',"monitorPortocel/controller/TempoPermanencia.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/export/Spreadsheet","monitorPortocel/webServices/apiConnector"],function(e,t,a){"use strict";return e.extend("monitorPortocel.controller.TempoPermanencia",{onPressGoMapa:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("mapa",{},!0)},formatDateUTCtoLocale:function(e){return e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):e},applyFiltersAndSorters:function(e,t){var a=this.getView().byId(e).getBindingInfo(t),o=this.updateBindingOptions(e);this.getView().byId(e).bindAggregation(t,{model:a.model,path:a.path,parameters:a.parameters,template:a.template,templateShareable:!0,sorter:o.sorters,filters:o.filters})},onInit:function(){var e=this.getView();e.setBusyIndicatorDelay(1),e.setBusy(!0);var t=0,o=new Date,s=o.getFullYear(),r=o.getMonth(),i=o.getDate();o.setDate(o.getDate()-1);var n=o.getFullYear(),l=o.getMonth(),p=o.getDate(),u=new sap.ui.model.json.JSONModel;u.setData({dateValueDRS2:new Date(n,l,p),secondDateValueDRS2:new Date(s,r,i),dateMinDRS2:new Date(2010,0,1),dateMaxDRS2:new Date(s+1,11,31)}),this.getView().setModel(u,"dateRange");var d="/ZET_VPWM_CENTRO_DESCRICAOSSET";a.consumeModel(d,{},{},function(a,o){3===++t&&e.setBusy(!1);var s=new sap.ui.model.json.JSONModel;s.setData(a.results),e.byId("cb_CentroOri").setModel(s,"centros")},function(a){3===++t&&e.setBusy(!1),sap.m.MessageToast.show("Erro Centro")});var m=[];m.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:"3070"})),d="/ZET_VPWM_DESTINOSET",a.consumeModel(d,m,{},function(a,o){3===++t&&e.setBusy(!1);var s=new sap.ui.model.json.JSONModel;s.setData(a.results),e.byId("cb_Destino").setModel(s,"destinos")},function(a){3===++t&&e.setBusy(!1),sap.m.MessageToast.show("Erro Destino")});var c=[];c.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.Contains,value1:"3070"})),c.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.Contains,value1:"3810"})),c.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.Contains,value1:"1373"})),d="/ZET_VPWM_ETAPAS_TRPSET",a.consumeModel(d,c,{},function(a,o){3===++t&&e.setBusy(!1);for(var s=0;s<a.results.length;s++)a.results[s].Etapa=a.results[s].Etapa.trim();var r=new sap.ui.model.json.JSONModel;r.setData(a.results),e.byId("cb_Etapa").setModel(r,"etapa")},function(a){3===++t&&e.setBusy(!1),sap.m.MessageToast.show("Erro Etapa")})},onDateRangeChange:function(e){e.getParameter("from"),e.getParameter("to")},onCarregaGrafico:function(){var e=this.getView(),t=new sap.ui.model.json.JSONModel;e.setModel(t,"staticDataModel");var o=this.byId("cb_CentroOri").getSelectedItem(),s=this.byId("cb_Destino").getSelectedItem();if(o&&s){o=o.getKey();var r=(s=s.getKey().split("/"))[0],i=s[1];this.byId("vboxVizFrame").setBusyIndicatorDelay(1),this.byId("vboxVizFrame").setBusy(!0);var n=this,l=[];l.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:o})),l.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:r})),l.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:i}));for(var p=this.byId("cb_Etapa").getSelectedItems(),u=0;u<p.length;u++)l.push(new sap.ui.model.Filter({path:"Etapa",operator:sap.ui.model.FilterOperator.EQ,value1:p[u].getKey().trim()}));l.push(new sap.ui.model.Filter({path:"Data",operator:sap.ui.model.FilterOperator.BT,value1:this.byId("cb_Data").getDateValue().yyyymmdd(),value2:this.byId("cb_Data").getSecondDateValue().yyyymmdd()}));a.consumeModel("/ZET_VPWM_MEDIA_ETAPASET",l,{},function(e,t){for(var a=0;a<e.results.length;a++)e.results[a].TimeStamp=e.results[a].Data.substring(6,8)+"/"+e.results[a].Data.substring(4,6)+"/"+e.results[a].Data.substring(0,4)+" "+e.results[a].HoraInicio.substring(0,2)+":"+e.results[a].HoraInicio.substring(2,4),e.results[a].Tempo=parseInt(e.results[a].TempoMedia);var o=new sap.ui.model.json.JSONModel;o.setData(e.results),n.getView().setModel(o,"graficoTempoFabrica"),n.byId("vboxVizFrame").setBusy(!1)},function(e){n.byId("vboxVizFrame").setBusy(!1)})}else sap.m.MessageToast.show("Selecione Origem e Destino")},onChangeCentro:function(){var e=this.byId("cb_CentroOri").getSelectedItem().getKey(),t=this.getView(),o=[];o.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:e}));a.consumeModel("/ZET_VPWM_DESTINOSET",o,{},function(e,a){var o=new sap.ui.model.json.JSONModel;o.setData(e.results),t.byId("cb_Destino").setModel(o,"destinos"),t.byId("cb_Destino").getModel("destinos").refresh()},function(e){sap.m.MessageToast.show("Erro")});var s=new sap.ui.model.json.JSONModel;s.setData({}),t.byId("cb_Etapa").setModel(s,"etapa")},onChangeDestino:function(){var e=this.byId("cb_CentroOri").getSelectedItem().getKey(),t=this.byId("cb_Destino").getSelectedItem().getKey().split("/"),o=t[0],s=t[1],r=this.getView(),i=[];i.push(new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:e})),i.push(new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:o})),i.push(new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:s}));a.consumeModel("/ZET_VPWM_ETAPAS_TRPSET",i,{},function(e,t){for(var a=0;a<e.results.length;a++)e.results[a].Etapa=e.results[a].Etapa.trim();var o=new sap.ui.model.json.JSONModel;o.setData(e.results),r.byId("cb_Etapa").setModel(o,"etapa")},function(e){sap.m.MessageToast.show("Erro Etapa")})},createColumnConfig:function(){return[{label:"TimeStamp",property:"TimeStamp",width:"25"},{label:"Tempo",property:"Tempo"},{label:"Meta",property:"Meta"}]},onExport:function(){var e,a;this.getView().getModel("graficoTempoFabrica")?(e=this.createColumnConfig(),a=this.getView().getModel("graficoTempoFabrica").oData,new t({workbook:{columns:e},dataSource:a}).build().then(function(){sap.m.MessageToast.show("Planilha exportada")})):sap.m.MessageToast.show("Não há gráfico gerado")}})});',"monitorPortocel/Gruntfile.js":'module.exports=function(s){"use strict";s.loadNpmTasks("@sap/grunt-sapui5-bestpractice-build"),s.registerTask("default",["clean","lint","build"])};',"monitorPortocel/model/models.js":'sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);return i.setDefaultBindingMode("OneWay"),i}}});',"monitorPortocel/webServices/apiConnector.js":'sap.ui.define(["sap/ui/base/Object"],function(e){"use strict";return{url:"/sap/opu/odata/sap/ZGWVPWM_GESTAO_CAMINHOES_SRV/",ODataModel:null,consumeAsync:function(e,t,a,n,o,s){new sap.ui.model.odata.ODataModel(this.url,!0).read(e,{urlParameters:a,filters:t,async:s,success:function(e,t){n(e,t)},error:function(e){o(e)}})},consumeModel:function(e,t,a,n,o){null===this.ODataModel&&(this.ODataModel=new sap.ui.model.odata.v2.ODataModel(this.url)),this.ODataModel.read(e,{urlParameters:a,filters:t,async:!1,success:function(e,t){n(e,t)},error:function(e){o(e)}})},consumeModelPic:function(e,t,a){new sap.ui.model.odata.ODataModel(this.url,!0).read(e,{async:!1,success:function(e,a){t(e,a)},error:function(e){a(e)}})},createModel:function(e,t,a,n,o){var s=new sap.ui.model.odata.ODataModel(this.url,!0);s.attachRequestSent(function(){sap.ui.core.BusyIndicator.show()}),s.attachRequestCompleted(function(){sap.ui.core.BusyIndicator.hide()}),s.create(e,t,{urlParameters:{tokenHendling:!1,disebleHeaedRequestForToken:!0},success:function(e,t){a(e,t)},error:function(e){n(e)}})},sendImage:function(e,t,a,n,o){var s=new sap.ui.model.odata.ODataModel(this.url,!0);s.setHeaders({slug:o.slug.toString()}),s.create(e,t,{success:function(e,t){a(e,t)},error:function(e){n(e)}})},updateModel:function(e,t,a,n){this.ODataModel=new sap.ui.model.odata.ODataModel(this.url,!0),this.ODataModel.update(e,t,{async:!0,success:function(e,t){a(e,t)},error:function(e){n(e)}})},deleteModel:function(e,t,a,n){new sap.ui.model.odata.ODataModel(this.url,!0).remove(e,{success:function(e,t){a(e,t)},error:function(e){n(e)}})},montaStringHora:function(e){var t=e.getHours().toString();t.length<2&&(t="0"+t);var a=e.getMinutes().toString();a.length<2&&(a="0"+a);var n=e.getSeconds().toString();return n.length<2&&(n="0"+n),t+a+n},formatDate:function(e){var t=e.getFullYear(),a=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate();return"".concat(t).concat(a).concat(n)}}});',"monitorPortocel/view/DialogDadosDoSpot.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:chart="sap.chart"\r\n\txmlns:data="sap.chart.data" xmlns:viz="sap.viz.ui5.controls" xmlns:vizFeeds="sap.viz.ui5.controls.common.feeds"\r\n\txmlns:vizData="sap.viz.ui5.data"><Dialog horizontalScrolling="false" contentWidth="80%" contentHeight="auto" showHeader="true" state="None" stretch="{device>/system/phone}"\r\n\t\ttitle="Informações" type="Standard" verticalScrolling="true"  beforeOpen="onDialogSpotDetailsOpen"><content><FlexBox id="DialogLayout" direction="Column" alignContent="End"><VBox width="100%"><Title text="Etapas" titleStyle="H3" width="100%" class="sapUiSmallMarginTop sapUiSmallMarginBegin" textAlign="Center" visible="true"/><viz:VizFrame selectData="_onDonutChartSelectValue" xmlns="sap.viz" id="idDonutChart" vizType="donut" width="100%" height="500px"\r\n\t\t\t\t\t\tvizProperties="{plotArea: {},title:{ text:\'\'}, interaction: {selectability: {mode:\'single\'}}}"><viz:dataset><vizData:FlattenedDataset data="{graficoSpot>/}"><vizData:dimensions><vizData:DimensionDefinition name="Etapa" value="{graficoSpot>DescricaoEtapa}"/></vizData:dimensions><vizData:measures><vizData:MeasureDefinition name="Tempo (minutos)" value="{graficoSpot>TempoEtapa}"/></vizData:measures></vizData:FlattenedDataset></viz:dataset><viz:feeds><vizFeeds:FeedItem uid="size" type="Measure" values="Tempo (minutos)"/><vizFeeds:FeedItem uid="color" type="Dimension" values="Etapa"/></viz:feeds></viz:VizFrame></VBox><VBox width="100%" alignItems="Center"><VBox width="100%" alignItems="Center" alignContent="Center" class="margemTop"><HBox><Label class="sapUiTinyMarginTop" design="Bold" text="Motorista:"/><Title class="sapUiTinyMarginTop sapUiTinyMarginBegin" text="{spotSelecionado>/Nome}" textAlign="Center"></Title></HBox><HBox><Label class="sapUiTinyMarginTop" design="Bold" text="Etapa:"/><Title class="sapUiTinyMarginTop sapUiTinyMarginBegin" text="{spotSelecionado>/DescricaoEtapa}" textAlign="Center"></Title></HBox><Text class="sapUiTinyMarginTop" text="Obs:" visible="{dadosSpotExtra>/exibe}" textAlign="Center" wrapping="true"></Text><Text class="sapUiTinyMarginTop" text="{dadosSpotExtra>/Descricao}" visible="{dadosSpotExtra>/exibe}" textAlign="Center"></Text></VBox><List noDataText="Não há registros" id="dadosList" headerText="Materiais transportados" class="sapUiTinyMarginBeginEnd" width="100%"\r\n\t\t\t\t\t\tbackgroundDesign="Solid" showSeparators="All" growing="true" growingThreshold="20" visible="true" items="{path: \'dadosSpot>/\'}"><items><StandardListItem class="sapUiSmallMarginEnd" title="{dadosSpot>DescMaterial}" titleTextDirection="Inherit"\r\n\t\t\t\t\t\t\t\tdescription="Tipo Celulose: {dadosSpot>TipoCelulose}" info="Quantidade: {dadosSpot>Quantidade}"/></items></List></VBox></FlexBox></content><buttons><Button text="Fechar" type="Emphasized" iconFirst="true" width="auto" enabled="true" visible="true" iconDensityAware="false"\r\n\t\t\t\tpress="onCloseDialog"/></buttons></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroCaminhao_Centro.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Escolha o Centro" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearchCentro"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'dialogCentro>/\'}" itemPress="onSelecionarCentro"><items><StandardListItem class="sapUiSmallMarginEnd" type="Active" title="{dialogCentro>Descricao}" visible="{dialogCentro>visible}"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onCloseCentro" /></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroCaminhao_PlacaCarreta1.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Escolha a Placa da Carreta 1" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearchPlacaCarreta1"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'placaCarreta1>/\'}" itemPress="onSelecionarPlacaCarreta1"><items><StandardListItem class="sapUiSmallMarginEnd" type="Active" title="{placaCarreta1>PlcCarro1}" visible="{placaCarreta1>visible}"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onClosePlacaCarreta1" /></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroCaminhao_PlacaCarreta2.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Escolha a Placa da Carreta 2" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearchPlacaCarreta2"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'placaCarreta2>/\'}" itemPress="onSelecionarPlacaCarreta2"><items><StandardListItem class="sapUiSmallMarginEnd" type="Active" title="{placaCarreta2>PlcCarro2}" visible="{placaCarreta2>visible}"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onClosePlacaCarreta2" /></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroCaminhao_PlacaCavalo.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Escolha a Placa do Cavalo" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearchPlacaCavalo"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'placaCavalo>/\'}" itemPress="onSelecionarPlacaCavalo"><items><StandardListItem class="sapUiSmallMarginEnd" type="Active" title="{placaCavalo>PlcCavalo}" visible="{placaCavalo>visible}"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onClosePlacaCavalo" /></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroCaminhao.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Filtro por Caminhão" type="Standard" verticalScrolling="true"><content><ScrollContainer horizontal="true"><HBox class="sapUiSmallMargin"><VBox class="sapUiSmallMarginEnd"><Label text="Centro"/><Input value="Un. Aracruz" width="12.5rem" showValueHelp="true" valueHelpRequest="onFilterByCentro" editable="true"/></VBox><VBox class="sapUiSmallMarginEnd"><Label text="Placa do Cavalo"/><Input id="inptPlacaCavalo" width="12.5rem" showValueHelp="true" valueHelpRequest="onFilterByCavalo"/></VBox><VBox class="sapUiSmallMarginEnd"><Label text="Placa da Carreta 1"/><Input width="12.5rem" showValueHelp="true" valueHelpRequest="onFilterByCarreta1"/></VBox><VBox><Label text="Placa da Carreta 2"/><Input width="12.5rem" showValueHelp="true" valueHelpRequest="onFilterByCarreta2"/></VBox></HBox></ScrollContainer><List id="listaCaminhoes" class="sapUiSmallMarginBegin" items="{path: \'filtroCaminhao>/\'}"><items><ObjectListItem press="onComposicaoSelecionada" class="sapUiSmallMarginEnd" title="Composição: {filtroCaminhao>Composicao}" type="Active"><firstStatus><ObjectStatus text="{filtroCaminhao>CompSelected}" state="Success"/></firstStatus><attributes><ObjectAttribute title="Placa Cavalo" text="{filtroCaminhao>PlcCavalo}"/><ObjectAttribute title="Placa Carreta 1" text="{filtroCaminhao>PlcCarro1}"/><ObjectAttribute title="Placa Carreta 2" text="{filtroCaminhao>PlcCarro2}"/></attributes></ObjectListItem></items><headerToolbar><Toolbar class="sapUiSmallMarginEnd"><Title text="Lista de Caminhões" level="H2" visible="{= !${device>/system/phone} }" /><ToolbarSpacer visible="{= !${device>/system/phone} }" /><SearchField width="50%" liveChange="_onSearchFieldLiveChange"/><ToolbarSpacer visible="{device>/system/phone}" /><Button text="Limpar Filtros" type="Emphasized" press="onCleanFilters"/></Toolbar></headerToolbar></List></content><beginButton><Button text="Cancelar" type="Reject" press="onClose"/></beginButton><endButton><Button text="Aplicar" type="Accept" press="onApplyFilter"/></endButton></Dialog></core:FragmentDefinition>',
"monitorPortocel/view/DialogFiltroEtapa_CentroOrigem.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Escolha o Centro de Origem" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearch"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'centros>/\'}"><items><StandardListItem press="onSelecionarCentroOrigem" class="sapUiSmallMarginEnd" type="Active" title="{centros>Descricao}"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onCloseCentroOrigem" /></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroEtapa_Destino.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Escolha o Destino" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearch"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'destinos>/\'}"><items><StandardListItem press="onSelecionarDestinos" class="sapUiSmallMarginEnd" type="Active" title="{destinos>DescricaoDeposito}"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onCloseDestinos" /></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroEtapa.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Filtro por Etapa" type="Standard" verticalScrolling="true"><content><ScrollContainer><HBox class="sapUiSmallMargin"><VBox class="sapUiSmallMarginEnd"><Label text="Centro Origem"/><Input width="12.5rem" showValueHelp="true" valueHelpRequest="onFilterByCentroOrigem"/></VBox><VBox class="sapUiSmallMarginEnd"><Label text="Destino"/><Input width="15rem" showValueHelp="true" valueHelpRequest="onFilterByDestino" enabled="true"/></VBox></HBox></ScrollContainer><List noDataText="Selecione Origem e Destino" width="600px" headerText="Lista de Etapas" class="sapUiSmallMarginBegin" items="{path: \'filtroEtapa>/\'}"><items><ObjectListItem press="onEtapaSelecionada" class="sapUiSmallMarginEnd" title="Etapa: {filtroEtapa>Etapa}" type="Active"><firstStatus><ObjectStatus text="{filtroEtapa>EtapaSelected}" state="Success"/></firstStatus><attributes><ObjectAttribute title="Descrição" text="{filtroEtapa>DescricaoEtapa}"/></attributes></ObjectListItem></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onClose"/></beginButton><endButton><Button text="Aplicar" type="Accept" press="onApplyFilter"/></endButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroMaterial.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Filtro por Material" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearch"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'filtroMaterial>/\'}" itemPress="onSelecionarMaterial"><items><StandardListItem class="sapUiSmallMarginEnd" type="Active" title="{filtroMaterial>DescMaterial}" description="Cód. {filtroMaterial>Material}" info="{filtroMaterial>MatSelected}" infoState="Success"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onCloseMaterial"/></beginButton><endButton><Button text="Aplicar" type="Accept" press="onApplyFilterMaterial" /></endButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogFiltroMotorista.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog busyIndicatorDelay="1" horizontalScrolling="false" state="None" stretch="false" title="Filtro por Motorista" type="Standard" verticalScrolling="true"><content><HBox class="sapUiTinyMargin parent"><SearchField search="onSearch"/></HBox><List class="sapUiSmallMarginBegin" items="{path: \'filtroMotorista>/\'}" itemPress="onSelecionar"><items><StandardListItem class="sapUiSmallMarginEnd" type="Active" title="{filtroMotorista>Nome}" info="{filtroMotorista>MotSelected}" infoState="Success"/></items></List></content><beginButton><Button text="Cancelar" type="Reject" press="onClose"/></beginButton><endButton><Button text="Aplicar" type="Accept" press="onApply" /></endButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogQtde.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><Dialog class="fragmentDialog" horizontalScrolling="false" showHeader="true" state="None" stretch="{device>/system/phone}"\r\n\t\ttitle="Informações" type="Standard" verticalScrolling="true" afterOpen="dialogAfterOpen"><content><f:SimpleForm editable="false" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3"\r\n\t\t\t\tlabelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1"\r\n\t\t\t\tcolumnsL="1" columnsM="1" singleContainerFullSize="false" class="sapUiTinyMarginBegin"><f:content><Label text="Data"></Label><Text text="{popoverQtde>/TimeStamp}"></Text><Label text="Meta"></Label><Text text="{popoverQtde>/Meta}"></Text><Label text="Tempo Médio"></Label><Text text="{popoverQtde>/Tempo}"></Text><Label text="Quantiade de caminhões"></Label><Text text="{popoverQtde>/Quantidade}"></Text></f:content></f:SimpleForm></content><beginButton><Button width="200px" text="Ok" press="onCloseDialog"></Button></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogQtdeEtapa.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" ><Dialog class="fragmentDialog" horizontalScrolling="false" showHeader="true" state="None" stretch="{device>/system/phone}"\r\n\t\ttitle="Informações" type="Standard" verticalScrolling="true" afterOpen="dialogAfterOpen"><content><f:SimpleForm editable="false" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3"\r\n\t\t\t\tlabelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1"\r\n\t\t\t\tcolumnsL="1" columnsM="1" singleContainerFullSize="false" class="sapUiTinyMarginBegin"><f:content><Label text="Descrição"></Label><Text text="{dialogEtapa>/DescricaoEtapa}"></Text><Label text="Quantidade"></Label><Text text="{dialogEtapa>/Quantidade}"></Text><Label text="Tipo"></Label><Text text="{= ${dialogEtapa>/Tipo} === \'C\' ? \'Ciclo\' : \'Extra\' }"></Text></f:content></f:SimpleForm></content><beginButton><Button width="200px" text="Ok" press="onCloseDialog"></Button></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/DialogSelecionarFiltros.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog horizontalScrolling="false" title="Selecione os Filtros" verticalScrolling="false"><content><VBox class="sapUiSmallMarginBegin"><items><CheckBox text="Material" selected="false"/><CheckBox text="Motorista" selected="true"/><CheckBox text="Caminhão" selected="true"/><CheckBox text="Etapa" selected="true"/></items></VBox></content><beginButton><Button width="100px" text="Ok" type="Accept" press="onCloseSelecionarFiltros"></Button></beginButton></Dialog></core:FragmentDefinition>',"monitorPortocel/view/Popover.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Popover contentHeight="7rem" placement="Top" contentWidth="15rem" horizontalScrolling="false" modal="false" offsetX="0" offsetY="0"\r\n\t\tshowHeader="true" title="Escolha o que deseja ver" verticalScrolling="false" visible="true"><content><Button text="Ciclos" type="Transparent" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false"\r\n\t\t\t\tpress="onPresGoCiclos"/><Button text="Permanências" type="Transparent" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false"\r\n\t\t\t\tpress="onPresGoTempoPermanencia"/></content><beginButton/><customHeader/><endButton/><footer/><subHeader/></Popover></core:FragmentDefinition>',"monitorPortocel/view/App.view.xml":'<mvc:View controllerName="monitorPortocel.controller.App" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\r\n\tdisplayBlock="true" xmlns="sap.m"><App id="app"></App></mvc:View>',"monitorPortocel/view/DetalhesMeta.view.xml":'<mvc:View \r\n\t\txmlns:core="sap.ui.core" \r\n\t\txmlns:mvc="sap.ui.core.mvc" \r\n\t\txmlns="sap.m"\r\n\t\tcontrollerName="monitorPortocel.controller.DetalhesMeta"\r\n\t\txmlns:html="http://www.w3.org/1999/xhtml"\r\n\t\txmlns:viz="sap.viz.ui5.controls"\r\n\t\txmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"\r\n\t\txmlns:viz.data="sap.viz.ui5.data"><Page title="Detalhes" showNavButton="true" navButtonPress="onNavBack"><content><viz:VizFrame id="idVizFrame" height="100%" width="100%" vizType="column" selectData="onSelectMeta" vizProperties="{title:{ text:\'Etapas x Metas\'}}"><viz:dataset><viz.data:FlattenedDataset data="{path:\'detalhesEtapa>/\'}"><viz.data:dimensions><viz.data:DimensionDefinition name="Descrição Etapas" value="{detalhesEtapa>DescricaoEtapa}"/></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition name="Realizado" value="{detalhesEtapa>MediaEtapas}"/><viz.data:MeasureDefinition name="Meta" value="{detalhesEtapa>Metas}"/></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem id="feedActualValues" uid="valueAxis" type="Measure" values="Realizado"/><viz.feeds:FeedItem id="feedTargetValues" uid="valueAxis" type="Measure" values="Meta"/><viz.feeds:FeedItem id="feedCategoryAxis" uid="categoryAxis" type="Dimension" values="Descrição Etapas"/></viz:feeds></viz:VizFrame><ScrollContainer horizontal="true"><Table id="tableViagens" headerText="Viagens da etapa" items="{path:\'motoristas>/\'}" noDataText="Selecione uma etapa"><columns><Column id="colunaMotorista" hAlign="Center" vAlign="Middle"><header><Text text="Motorista"/></header></Column><Column id="colunaOrigem" hAlign="Center" vAlign="Middle"><header><Text text="Origem"/></header></Column><Column id="colunaDestino" hAlign="Center" vAlign="Middle"><header><Text text="Destino"/></header></Column><Column id="colunaCod" hAlign="Center" vAlign="Middle"><header><Text text="Cód. Viagem"/></header></Column><Column id="colunaInicio" hAlign="Center" vAlign="Middle"><header><Text text="Início"/></header></Column><Column id="colunaFim" hAlign="Center" vAlign="Middle"><header><Text text="Fim"/></header></Column></columns><ColumnListItem><cells><Text text="{motoristas>NomeMotorista}"/><Text text="{motoristas>DescricaoOrigem}"/><Text text="{motoristas>DescricaoDestino}"/><Text text="{motoristas>Viagem}"/><VBox><Text text="{motoristas>formatDataIni}" /><Text text="{motoristas>formatHoraIni}" /></VBox><VBox><Text text="{motoristas>formatDataFim}" /><Text text="{motoristas>formatHoraFim}" /></VBox></cells></ColumnListItem></Table></ScrollContainer></content></Page></mvc:View>',"monitorPortocel/view/Grafico.view.xml":'<mvc:View \n\t\tcontrollerName="monitorPortocel.controller.Grafico"\n\t\txmlns="sap.ui.table"\n\t\txmlns:core="sap.ui.core"\n\t\txmlns:mvc="sap.ui.core.mvc"\n\t\txmlns:layout="sap.ui.layout"\n\t\txmlns:chart="sap.chart"\n\t\txmlns:data="sap.chart.data"\n\t\txmlns:fb="sap.ui.comp.filterbar"\n\t\txmlns:viz="sap.viz.ui5.controls"\n\t\txmlns:vizFeeds="sap.viz.ui5.controls.common.feeds"\n\t\txmlns:vizData="sap.viz.ui5.data"\n\t\txmlns:m="sap.m"\n\t\txmlns:unified="sap.ui.unified"><m:Page showHeader="true" \n\t\t  title="Ciclos" \n\t\t  showFooter="false" \n\t\t  showNavButton="true" \n\t\t  navButtonPress="onPressGoMapa"><m:content><fb:FilterBar reset="onReset" class="tamDataRange" search="onCarregaGrafico" showRestoreButton="true" showClearButton="true"><fb:filterItems><fb:FilterItem name="A" label="Centro Origem" labelTooltip="Centro Origem" mandatory="true"><fb:control><m:ComboBox id="cb_CentroOri" class="largeComboBox" selectedKey="3070" items="{path:\'centros>/\'}" change="onChangeCentro"><m:items><core:Item key="{centros>Centro}" text="{centros>Descricao}"/></m:items></m:ComboBox></fb:control></fb:FilterItem><fb:FilterItem name="B" label="Destino" labelTooltip="Destino" mandatory="true" visibleInFilterBar="true"><fb:control><m:ComboBox id="cb_Destino" class="largeComboBox" selectedKey="3810/1373" placeholder="Escolha o Destino" items="{path:\'destinos>/\'}"><m:items><core:Item key="{destinos>CentroDestino}/{destinos>Deposito}" text="{destinos>DescricaoDeposito}"/></m:items></m:ComboBox></fb:control></fb:FilterItem><fb:FilterItem name="C" label="Data" labelTooltip="Data Range" mandatory="false" visibleInFilterBar="true"><fb:control><m:DateRangeSelection class="largeComboBox" id="dateRange"  dateValue="{path:\'dateRange>/dateValueDRS2\'}" secondDateValue="{path:\'dateRange>/secondDateValueDRS2\'}"\n\t\t\t\t\t\t\t\tminDate="{path:\'dateRange>/dateMinDRS2\'}" maxDate="{path:\'dateRange>/dateMaxDRS2\'}" change="onDateRangeChange" /></fb:control></fb:FilterItem></fb:filterItems></fb:FilterBar><m:FlexBox id="flexbox" class="borda sapUiSmallMarginTop" width="100%"><m:VBox \n\t\t\t\t\t\tclass="borda" \n\t\t\t\t\t\theight="100%"\n\t\t\t\t\t\twidth="50%"\n\t\t\t\t\t\tid="vboxVizMeta" \n\t\t\t\t\t\talignItems="Stretch" \n\t\t\t\t\t\tdirection="Column"\n\t\t\t\t\t\tfitContainer="false"\n\t\t\t\t\t\tjustifyContent="Start"\n\t\t\t\t\t\trenderType="Div"\n\t\t\t\t\t\tvisible="true" \n\t\t\t\t\t\tdisplayInline="false"><viz:VizFrame class="margemMaior" selectData="onSelectMeta" xmlns="sap.viz" vizType="donut" width="calc(100% + 50px)" height="470px"\n\t\t\t\t\t\tvizProperties="{plotArea: {\'colorPalette\':[\'#748CB2\',\'#F47958\'], dataLabel:{visible:\'true\'}}, title:{ text:\'Ciclos x Metas\'}}"><viz:dataset><vizData:FlattenedDataset data="{graficoMeta>/}"><vizData:dimensions><vizData:DimensionDefinition name="Media" value="{graficoMeta>Descricao}"/></vizData:dimensions><vizData:measures><vizData:MeasureDefinition name="Quantidade" value="{graficoMeta>Quantidade}"/></vizData:measures></vizData:FlattenedDataset></viz:dataset><viz:feeds><vizFeeds:FeedItem uid="size" type="Measure" values="Quantidade"/><vizFeeds:FeedItem uid="color" type="Dimension" values="Media"/></viz:feeds></viz:VizFrame></m:VBox><m:VBox \n\t\t\t\t\t\tclass="borda" \n\t\t\t\t\t\theight="100%"\n\t\t\t\t\t\twidth="50%"\n\t\t\t\t\t\tid="vboxVizGrafico"\n\t\t\t\t\t\talignItems="Stretch"\n\t\t\t\t\t\tdirection="Column"\n\t\t\t\t\t\tfitContainer="false"\n\t\t\t\t\t\tjustifyContent="Start"\n\t\t\t\t\t\trenderType="Div"\n\t\t\t\t\t\tvisible="true"\n\t\t\t\t\t\tdisplayInline="false"><viz:VizFrame \n\t\t\t\t\t\t\tid="vizFrame2"\n\t\t\t\t\t\t\tclass="margemMaior"\n\t\t\t\t\t\t\tselectData="onSelectedPoint"\n\t\t\t\t\t\t\txmlns="sap.viz"\n\t\t\t\t\t\t\tvizType="line"\n\t\t\t\t\t\t\twidth="calc(100% + 50px)"\n\t\t\t\t\t\t\theight="470px"\n\t\t\t\t\t\t\tuiConfig="{\'applicationSet\':\'fiori\'}"\n\t\t\t\t\t\t\tvizProperties="{plotArea: {dataLabel:{visible:\'false\'}}, title:{ text:\'Viagens x Etapas\'}, legend:{isScrollable:\'true\', visible:\'false\'}}"><viz:dataset><vizData:FlattenedDataset data="{graficoEtapa>/}"><vizData:dimensions><vizData:DimensionDefinition name="Etapa" value="{graficoTempoFabrica>DescricaoEtapa}"/></vizData:dimensions><vizData:measures><vizData:MeasureDefinition name="Quantidade" value="{graficoTempoFabrica>Quantidade}"/></vizData:measures></vizData:FlattenedDataset></viz:dataset><viz:feeds><vizFeeds:FeedItem visible="false" uid="valueAxis" type="Measure" values="Quantidade"/><vizFeeds:FeedItem visible="false" uid="categoryAxis" type="Dimension" values="Etapa"/></viz:feeds></viz:VizFrame></m:VBox></m:FlexBox><m:ScrollContainer horizontal="true" ><Table \n\t\t\t\t\t\tid="tableMotoristas" \n\t\t\t\t\t\trows="{/results}"\n\t\t\t\t\t\tselectionMode="MultiToggle"\n\t\t\t\t\t\tselectionBehavior="Row"\n\t\t\t\t\t\tshowColumnVisibilityMenu="true"\n\t\t    \t\t\talternateRowColors="true"\n\t\t\t\t\t\tenableColumnFreeze="true"\n\t\t\t\t\t\tenableCellFilter="true"\n\t\t\t\t\t\tariaLabelledBy="title"><rowSettingsTemplate><RowSettings highlight="{Status}" highlightText="{StatusText}"/></rowSettingsTemplate><columns><Column width="8rem" sortProperty="StatusText" filterProperty="StatusText"><m:Label text="Status"/><template><m:Text text="{StatusText}" wrapping="false" tooltip="{StatusText}"/></template></Column><Column width="14rem" sortProperty="NomeMotorista" filterProperty="NomeMotorista" ><m:Label text="Motorista"/><template><m:Text text="{NomeMotorista}" wrapping="false" tooltip="{NomeMotorista}"/></template></Column><Column width="9rem" sortProperty="Composicao" ><m:Label text="Composição/Placa" tooltip="Composição/Placa"/><template><m:Text text="{Composicao}" wrapping="false" tooltip="{Composicao}"/></template></Column><Column width="8rem" sortProperty="Des_Origem" visible="false"><m:Label text="Origem"/><template><m:Text text="{Des_Origem}" wrapping="false"/></template></Column><Column width="8rem" sortProperty="Des_Destino" visible="false"><m:Label text="Destino"/><template><m:Text text="{Des_Destino}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="DtInicio"><m:Label text="Data Início"/><template><m:Text text="{DtInicio}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="HrInicio" ><m:Label text="Hora Início"/><template><m:Text text="{HrInicio}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="DtFim"><m:Label text="Data Fim"/><template><m:Text text="{DtFim}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="HrFim" ><m:Label text="Hora Fim"/><template><m:Text text="{HrFim}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="TempoMin"><m:Label text="Tempo (Min.)"/><template><m:Text text="{TempoMin}" wrapping="false"/></template></Column><Column width="6rem" sortProperty="MetaMin"><m:Label text="Meta (Min.)"/><template><m:Text text="{MetaMin}" wrapping="false"/></template></Column><Column width="8rem" sortProperty="Viagem" visible="false"><m:Label text="ID Viagem"/><template><m:Text text="{Viagem}" wrapping="false"/></template></Column><Column width="4rem" sortProperty="Etapa" visible="false"><m:Label text="Cod.Etapa" tooltip="Código da Etapa"/><template><m:Text text="{Etapa}" wrapping="false"/></template></Column><Column width="12rem" sortProperty="DescrEtapa" filterProperty="DescrEtapa"><m:Label text="Etapa" tooltip="Etapa"/><template><m:Text text="{DescrEtapa}" wrapping="false" tooltip="{DescrEtapa}"/></template></Column></columns><footer><m:Toolbar><m:Label text="Linhas:" labelFor="rowCountMode"/><m:SegmentedButton id="rowCountMode" selectedKey="{/visibleRowCountMode}"><m:items><m:SegmentedButtonItem icon="sap-icon://restart" key="Auto" tooltip="Automático" press="onSetRowCount"/><m:SegmentedButtonItem icon="sap-icon://locked" key="Fixed" tooltip="Fixo" press="onSetRowCount"/></m:items></m:SegmentedButton><m:ToolbarSeparator/><m:Button icon="sap-icon://excel-attachment" tooltip="Exportar Excel" press="onExportTableMotoristas"/></m:Toolbar></footer></Table></m:ScrollContainer></m:content></m:Page></mvc:View>',"monitorPortocel/view/ListaViagens.view.xml":'<mvc:View \n\t\tcontrollerName="monitorPortocel.controller.ListaViagens"\n\t\txmlns="sap.ui.table" \n\t\txmlns:core="sap.ui.core"\n\t\txmlns:mvc="sap.ui.core.mvc"\n\t\txmlns:m="sap.m"\n\t\txmlns:html="http://www.w3.org/1999/xhtml"><m:Page\n\t\t\ttitle="Detalhes do Ciclo"\n\t\t\tshowNavButton="true"\n\t\t\tnavButtonPress="onNavBack"><m:content><m:Panel\n\t\t\t\t\texpandable="true"\n\t\t\t\t\texpanded="true"\n\t\t\t\t\theaderText="Cabeçalho"\n\t\t\t\t\twidth="auto"\n\t\t\t\t\tclass="sapUiResponsiveMargin"><m:ObjectHeader\n\t\t\t    \t\tbinding="{/results/0}"\n\t\t\t    \t\tid="cabViagem"\n\t\t\t    \t\tresponsive="true"\n\t\t\t    \t\ttitle="{NomeMotorista}"\n\t\t\t    \t\tcondensed="true"\n\t\t\t    \t\tnumber="{TempoTotMin}"\n\t\t\t    \t\tnumberUnit="Minutos"\n\t\t\t    \t\tbackgroundDesign="Transparent"><m:statuses><m:ObjectStatus id="statusViagemGeral" text="Processando" state="Warning"/></m:statuses><m:attributes><m:ObjectAttribute\n\t\t\t            \ttitle="{i18n>OC/Item}"\n\t\t\t            \ttext="{OcItem}"/><m:ObjectAttribute\n\t\t\t            \ttitle="{i18n>viagem}"\n\t\t\t            \ttext="{ViagemRet}"/><m:ObjectAttribute\n\t\t\t            \ttitle="{i18n>Remessa}"\n\t\t\t            \ttext="{Remessa}"/><m:ObjectAttribute \n\t\t\t            \ttitle="{i18n>NFe-Serie}"\n\t\t\t            \ttext="{NfSerie}"/><m:ObjectAttribute\n\t\t\t            \ttitle="Usuário Motorista"\n\t\t\t            \ttext="{UsuarioMot}"/><m:ObjectAttribute\n\t\t\t            \ttitle="Composição"\n\t\t\t            \ttext="{Composicao}"/><m:ObjectAttribute\n\t\t\t            \ttitle="Placa Cavalo"\n\t\t\t            \ttext="{PlcCavalo}"/><m:ObjectAttribute\n\t\t\t            \ttitle="Placa Carreta 1"\n\t\t\t            \ttext="{PlcCarr1}"/><m:ObjectAttribute\n\t\t\t            \ttitle="Placa Carreta 2"\n\t\t\t            \ttext="{PlcCarr2}"/></m:attributes></m:ObjectHeader></m:Panel><Table \n\t\t    \t\tid="tabelaCiclo"\n\t\t    \t\talternateRowColors="true"\n\t\t    \t\tselectionMode="None"\n\t\t    \t\trows="{/results}"\n\t\t    \t\tvisibleRowCount="7"\n\t\t\t\t\tshowColumnVisibilityMenu="true"\n\t\t\t\t\tenableColumnFreeze="true"\n\t\t\t\t\tenableCellFilter="true"><rowSettingsTemplate><RowSettings highlight="{Status}" highlightText="{StatusText}"/></rowSettingsTemplate><columns><Column width="10rem" sortProperty="StatusText" filterProperty="StatusText"><m:Label text="Status" tooltip="Status"/><template><m:Text text="{StatusText}" wrapping="false"/></template></Column><Column width="6rem" sortProperty="Etapa" filterProperty="Etapa"><m:Label text="Cod.Etapa" tooltip="Cod.Etapa"/><template><m:Text text="{Etapa}" wrapping="false"/></template></Column><Column width="17rem" sortProperty="DescrEtapa" filterProperty="DescrEtapa"><m:Label text="Descr.Etapa" tooltip="Descr.Etapa"/><template><m:Text text="{DescrEtapa}" tooltip="{DescrEtapa}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="DtInicio"><m:Label text="Data Inicio" tooltip="Data Início"/><template><m:Text text="{DtInicio}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="HrInicio"><m:Label text="Hora Início" tooltip="Hora Início"/><template><m:Text text="{HrInicio}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="DtFim"><m:Label text="Data Fim" tooltip="Data Fim"/><template><m:Text text="{DtFim}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="HrFim"><m:Label text="Hora Fim" tooltip="Hora Fim"/><template><m:Text text="{HrFim}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="TempoMin"><m:Label text="Tempo (Min.)" tooltip="Tempo (Min.)"/><template><m:Text text="{TempoMin}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="MetaEtapa"><m:Label text="Meta Etapa" tooltip="Meta Etapa"/><template><m:Text text="{MetaEtapa}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="DataSist" visible="false"><m:Label text="Dt.Sistema" tooltip="Dt.Sistema"/><template><m:Text text="{DataSist}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="HoraSist" visible="false"><m:Label text="Hora Sistema" tooltip="Hora Sistema"/><template><m:Text text="{HoraSist}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="UsUltMod" visible="false" filterProperty="UsUltMod"><m:Label text="Usuário Ult.Mod" tooltip="Usuário Ult.Mod"/><template><m:Text text="{UsUltMod}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="DtUltMod" visible="false"><m:Label text="Data Ult.Mod" tooltip="Data Ult.Mod"/><template><m:Text text="{DtUltMod}" wrapping="false"/></template></Column><Column width="7rem" sortProperty="HrUltMod" visible="false"><m:Label text="Hora Ult.Mod" tooltip="Hora Ult.Mod"/><template><m:Text text="{HrUltMod}" wrapping="false"/></template></Column></columns><footer><m:Toolbar><m:Label text="Linhas:" labelFor="rowCountMode"/><m:SegmentedButton id="rowCountMode" selectedKey="{/visibleRowCountMode}"><m:items><m:SegmentedButtonItem icon="sap-icon://locked" key="Fixed" tooltip="Fixo" press="onSetRowCount"/><m:SegmentedButtonItem icon="sap-icon://restart" key="Auto" tooltip="Automático" press="onSetRowCount"/></m:items></m:SegmentedButton><m:ToolbarSeparator/><m:Button icon="sap-icon://excel-attachment" tooltip="Exportar Excel" press="onExportTabelaCiclo"/></m:Toolbar></footer></Table></m:content></m:Page></mvc:View>',
"monitorPortocel/view/Mapa.view.xml":'<mvc:View \r\n\t\txmlns:core="sap.ui.core" \r\n\t\txmlns:mvc="sap.ui.core.mvc" \r\n\t\txmlns="sap.m"\r\n\t\tcontrollerName="monitorPortocel.controller.Mapa" \r\n\t\txmlns:layout="sap.ui.layout" \r\n\t\txmlns:form="sap.ui.layout.form"\r\n\t\txmlns:vbm="sap.ui.vbm"><Page showHeader="true" title="Gestão de Frotas" showFooter="true" showNavButton="false"><content><layout:BlockLayout background="Default" visible="true" class="sapUiTinyMargin sapUiNoContentPadding"><layout:content><layout:BlockLayoutRow><layout:content><layout:BlockLayoutCell id="filtersBlockLayout" visible="true" width="25" titleAlignment="Begin" titleLevel="Auto"><layout:content><Panel width="100%" headerText="Filtros" expanded="{= !${device>/system/phone} }" expandable="true"><content><form:Form width="100%" editable="true" visible="true"><form:title/><form:formContainers><form:FormContainer visible="true"><form:formElements><form:FormElement visible="true"><Button text="Filtros" icon="sap-icon://filter" type="Default" press="onSelectFilters"/></form:FormElement></form:formElements><form:title/></form:FormContainer><form:FormContainer id="containerMaterial" visible="false"><form:formElements><form:FormElement visible="true"><form:label><Label text="Material" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="inptMaterial" placeholder="Todos" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="true" maxLength="0" valueHelpRequest="onFilterByMaterial"/></form:fields></form:FormElement></form:formElements><form:title/></form:FormContainer><form:FormContainer id="containerMotorista" visible="true"><form:formElements><form:FormElement visible="true"><form:label><Label text="Motorista" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="inptMotorista" placeholder="Todos" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="true" maxLength="0" valueHelpRequest="onFilterByMotorista"/></form:fields></form:FormElement></form:formElements><form:title/></form:FormContainer><form:FormContainer id="containerCaminhao" visible="true"><form:formElements><form:FormElement visible="true"><form:label><Label text="Caminhão" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="inptCaminhao" placeholder="Todos" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="true" maxLength="0" valueHelpRequest="onFilterByCaminhao"/></form:fields></form:FormElement></form:formElements><form:title/></form:FormContainer><form:FormContainer id="containerEtapa" visible="true"><form:formElements><form:FormElement visible="true"><form:label><Label text="Etapa" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="inptEtapa" placeholder="Todos" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="true" maxLength="0" valueHelpRequest="onFilterByEtapa"/></form:fields></form:FormElement></form:formElements><form:title/></form:FormContainer><form:FormContainer visible="true"><form:formElements><form:FormElement visible="true"><Button text="Limpar Filtros" type="Emphasized" press="onCleanAllFilters"/></form:FormElement><form:FormElement visible="true"><Button text="Atualizar" icon="sap-icon://synchronize" type="Emphasized" press="onAtualizarMapa"/></form:FormElement></form:formElements></form:FormContainer></form:formContainers><form:layout><form:ResponsiveGridLayout adjustLabelSpan="false" columnsL="2" labelSpanL="3" columnsM="1" labelSpanM="2" labelSpanS="12"/></form:layout></form:Form></content></Panel></layout:content></layout:BlockLayoutCell><layout:BlockLayoutCell width="75" title="" titleAlignment="Begin" titleLevel="Auto"><layout:content><Toolbar><ToolbarSpacer /><Button id="btnResize" icon="sap-icon://resize" press="onPressResize"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip="Maximizar" /></Toolbar><vbm:GeoMap \r\n                                    \t\tid="geoMap" \r\n                                    \t\tlegendVisible="true" \r\n                                    \t\tscaleVisible="true" \r\n                                    \t\twidth="100%" \r\n                                    \t\theight="600px" \r\n                                    \t\tinitialPosition="0;0;0" \r\n                                    \t\tcenterPosition="-40.069089;-19.837467;0" \r\n                                    \t\tinitialZoom="8" \r\n                                    \t\tzoomlevel="15" \r\n                                    \t\tenableAnimation="false" \r\n                                    \t\trefMapLayerStack="Default" \r\n                                    \t\tdisableZoom="false" \r\n                                    \t\tdisablePan="false"><vbm:resources/><vbm:legend><vbm:Legend id="legend" caption="Legenda"><vbm:LegendItem text="Ciclo Normal" semanticSpotType="Default" /><vbm:LegendItem text="Sem Comunicação" semanticSpotType="Inactive" /><vbm:LegendItem text="Etapa Extra" semanticSpotType="Error" /><vbm:LegendItem text="GPS Offline" semanticSpotType="Warning" /></vbm:Legend></vbm:legend><vbm:vos><vbm:Spots items="{path: \'spots>/\'}"><vbm:items><vbm:Spot click="_onSpotClick" type="{spots>Status}" tooltip="{spots>Composicao}" position="{spots>Longitude};{spots>Latitude};0" icon="sap-icon://shipping-status"/></vbm:items></vbm:Spots></vbm:vos></vbm:GeoMap><OverflowToolbar width="auto" height="46px" design="Transparent" visible="true" enabled="true"><content></content></OverflowToolbar></layout:content></layout:BlockLayoutCell><layout:BlockLayoutCell width="1px"></layout:BlockLayoutCell></layout:content></layout:BlockLayoutRow></layout:content></layout:BlockLayout></content><footer><OverflowToolbar width="100%" height="auto" design="Auto" enabled="true" visible="true"><content><ToolbarSpacer width=""/><Button text="Mapa" type="Default" icon="sap-icon://map-3" iconFirst="true" width="auto" enabled="true" visible="true" iconDensityAware="false"/><OverflowToolbarButton text="Action" type="Default" icon="sap-icon://map-3" iconFirst="true" width="auto" enabled="true" visible="false" tooltip="" iconDensityAware="false"/><ToolbarSpacer width=""/><Button\r\n                    \ttext="Indicadores"\r\n                    \ttype="Default"\r\n                    \ticon="sap-icon://line-chart"\r\n                    \ticonFirst="true"\r\n                    \twidth="auto"\r\n                    \tenabled="true"\r\n                    \tvisible="true"\r\n                    \ticonDensityAware="false"\r\n                    \tpress="openPopover"/><OverflowToolbarButton text="Action" type="Default" icon="sap-icon://line-chart" iconFirst="true" width="auto" enabled="true" visible="false" iconDensityAware="false" press="_onOverflowToolbarButtonPress"/><ToolbarSpacer width=""/></content></OverflowToolbar></footer><subHeader/><customHeader/></Page></mvc:View>',"monitorPortocel/view/TempoPermanencia.view.xml":'<mvc:View\r\n\t\txmlns:mvc="sap.ui.core.mvc" \r\n\t\tcontrollerName="monitorPortocel.controller.TempoPermanencia" \r\n\t\txmlns="sap.m" \r\n\t\txmlns:core="sap.ui.core"\r\n\t\txmlns:layout="sap.ui.layout" \r\n\t\txmlns:chart="sap.chart" \r\n\t\txmlns:data="sap.chart.data" \r\n\t\txmlns:fb="sap.ui.comp.filterbar"\r\n\t\txmlns:viz="sap.viz.ui5.controls" \r\n\t\txmlns:vizFeeds="sap.viz.ui5.controls.common.feeds" \r\n\t\txmlns:vizData="sap.viz.ui5.data"><Page showHeader="true" title="Permanências" showFooter="false" showNavButton="true" navButtonPress="onPressGoMapa"><content><fb:FilterBar id="filterbar" reset="onReset" search="onCarregaGrafico" class="tamDataRange" showRestoreButton="false" showClearButton="false"><fb:filterItems><fb:FilterItem name="A" label="Centro Origem" labelTooltip="Centro Origem" mandatory="true"><fb:control><ComboBox class="smallComboBox" id="cb_CentroOri" selectedKey="3070" items="{path:\'centros>/\'}" change="onChangeCentro"><items><core:Item key="{centros>Centro}" text="{centros>Descricao}"/></items></ComboBox></fb:control></fb:FilterItem><fb:FilterItem name="B" label="Destino" labelTooltip="Destino" mandatory="true" visibleInFilterBar="true"><fb:control><ComboBox class="largeComboBox" id="cb_Destino" selectedKey="3810/1373" placeholder="Escolha o Destino" items="{path:\'destinos>/\'}" change="onChangeDestino"><items><core:Item key="{destinos>CentroDestino}/{destinos>Deposito}" text="{destinos>DescricaoDeposito}"/></items></ComboBox></fb:control></fb:FilterItem><fb:FilterItem name="D" label="Etapa" labelTooltip="Etapa" mandatory="true"><fb:control><MultiComboBox class="largeComboBox" id="cb_Etapa" placeholder="Escolha a Etapa" items="{path:\'etapa>/\'}"><core:Item key="{etapa>Etapa}" text="{etapa>DescricaoEtapa}" /></MultiComboBox></fb:control></fb:FilterItem><fb:FilterItem name="E" label="Data" mandatory="true"><fb:control><DateRangeSelection class="largeComboBox" id="cb_Data"  dateValue="{path:\'dateRange>/dateValueDRS2\'}" secondDateValue="{path:\'dateRange>/secondDateValueDRS2\'}"\r\n\t\t\t\t\t\t\t\tminDate="{path:\'dateRange>/dateMinDRS2\'}" maxDate="{path:\'dateRange>/dateMaxDRS2\'}" change="onDateRangeChange" /></fb:control></fb:FilterItem></fb:filterItems></fb:FilterBar><Button text="Exportar gráfico" type="Emphasized" class="sapUiMediumMarginBegin sapUiSmallMarginTop" press="onExport" /><VBox id="vboxVizFrame" alignItems="Stretch" direction="Column" fitContainer="false" width="auto" height="auto" justifyContent="Start" renderType="Div"\r\n\t\t\t\tvisible="true" displayInline="false"><items><viz:VizFrame selectData="onSelectedPoint" xmlns="sap.viz" id="GraficoTempoFabrica" vizType="combination" width="100%" height="500px"\r\n\t\t\t\t\t\tvizProperties="{plotArea: {},title:{ text:\'Tempo Médio\'}}"><viz:dataset><vizData:FlattenedDataset data="{graficoTempoFabrica>/}"><vizData:dimensions><vizData:DimensionDefinition name="Hora" value="{graficoTempoFabrica>TimeStamp}"/></vizData:dimensions><vizData:measures><vizData:MeasureDefinition name="Tempo" value="{graficoTempoFabrica>Tempo}"/><vizData:MeasureDefinition name="Meta" value="{graficoTempoFabrica>Meta}"/></vizData:measures></vizData:FlattenedDataset></viz:dataset><viz:feeds><vizFeeds:FeedItem uid="valueAxis" type="Measure" values=\'Tempo\'/><vizFeeds:FeedItem uid="valueAxis" type="Measure" values=\'Meta\'/><vizFeeds:FeedItem uid="categoryAxis" type="Dimension" values="Hora"/></viz:feeds></viz:VizFrame></items><layoutData/></VBox></content><footer><OverflowToolbar width="100%" height="auto" design="Auto" enabled="true" visible="true"><content><ToolbarSpacer width=""/><Button text="Mapa" type="Default" icon="sap-icon://map-3" iconFirst="true" width="auto" enabled="true" visible="true"\r\n\t\t\t\t\t\ticonDensityAware="false" press="_onButtonPress"/><OverflowToolbarButton text="Action" type="Default" icon="sap-icon://map-3" iconFirst="true" width="auto" enabled="true" visible="false"\r\n\t\t\t\t\t\ticonDensityAware="false" press="_onOverflowToolbarButtonPress"/><ToolbarSpacer width=""/><Button text="Visão Geral" type="Default" icon="sap-icon://line-chart" iconFirst="true" width="auto" enabled="true" visible="true"\r\n\t\t\t\t\t\ticonDensityAware="false" press="_onButtonPress1"/><OverflowToolbarButton text="Action" type="Default" icon="sap-icon://line-chart" iconFirst="true" width="auto" enabled="true"\r\n\t\t\t\t\t\tvisible="false" iconDensityAware="false"/><ToolbarSpacer width=""/></content></OverflowToolbar></footer><headerContent/><subHeader/><customHeader/></Page></mvc:View>'},"monitorPortocel/Component-preload");