sap.ui.define(["Y5GL_FERI_APRO2/Y5GL_FERI_APRO2/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/FilterOperator","sap/m/GroupHeaderListItem","sap/ui/Device","Y5GL_FERI_APRO2/Y5GL_FERI_APRO2/model/formatter"],function(e,t,o,r,i,a,n,s,l){"use strict";var u;return e.extend("Y5GL_FERI_APRO2.Y5GL_FERI_APRO2.controller.Master",{formatter:l,onInit:function(){var e=this.getView();e.setModel(this.getOwnerComponent().getModel("CADASTRO"));this.getRouter().getRoute("master").attachPatternMatched(this._onMasterMatched,this);this.getRouter().attachBypassed(this.onBypassed,this)},onSelectionChange:function(e){var t=e.getSource(),o=e.getParameter("selected");if(!(t.getMode()==="MultiSelect"&&!o)){this._showDetail(e.getParameter("listItem")||e.getSource())}},_createViewModel:function(){return new t({isFilterBarVisible:true,filterBarLabel:"",delay:0,title:this.getResourceBundle().getText("masterTitleCount",[0]),noDataText:this.getResourceBundle().getText("masterListNoDataText"),sortBy:"Pernr",groupBy:"None"})},_onMasterMatched:function(){this.getModel("appView").setProperty("/layout","OneColumn");var e=this.getView().byId("list").getModel();e.setSizeLimit("999999")},onVoltar:function(e){this.getRouter().navTo("masterprime")},_showDetail:function(e){var t=!s.system.phone;var o="object";var r=e.getBindingContext().getProperty("Pernr");this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.getRouter().navTo(o,{Pernr:r},t)},onSelect:function(){var e=this.getView().byId("Segment").getSelectedKey();if(e==="Indiretos"){this.ExecutaFiltro("S")}else if(e==="Diretos"){this.ExecutaFiltro("N")}},ExecutaFiltro:function(e){var t=this.getView().byId("list");var o=new sap.ui.model.Filter("Indiretos",sap.ui.model.FilterOperator.EQ,e);t.getBinding("items").filter(o)},onAdd:function(){this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.getRouter().navTo("Add")},formatterIcon:function(e){var t=jQuery.sap.getModulePath("Y5GL_FERI_APRO2.Y5GL_FERI_APRO2");var o=t+"/Icones/";var r;r=o+"DEP_DETAIL.png";return r}})});