sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";return e.extend("modulenamevt.controller.Termo",{onInit:function(){this._oViewModel=new o({mode:false});this.getView().setModel(this._oViewModel,"viewModel")},_getFormFields:function(e){var t=[];var o=e.getContent();var a;for(var s=0;s<o.length;s++){a=o[s].getMetadata().getName();if(a==="sap.m.Input"||a==="sap.m.DateTimeInput"||a==="sap.m.CheckBox"){t.push({control:o[s],required:o[s-1].getRequired&&o[s-1].getRequired()})}}return t},_validateSaveEnablement:function(){var e=this._getFormFields(this.getView().byId("idFormResposta"));var t;for(var o=0;o<e.length;o++){t=e[o].control;if(e[o].required){var a=t.getValue();if(!a){this._oViewModel.setProperty("/mode",false);return}}}this._oViewModel.setProperty("/mode",true)},onTermo:function(){var e="Termo";var t="ZET_VCLE_PDFSet(contexto='"+e+"')"+"/$value";var o="/sap/opu/odata/sap/ZGWVCLE_TERMO_SRV/"+t;sap.m.URLHelper.redirect(o,false)},onCiente:function(){var e=this.getView().byId("idInputNome").getValue();var t=this.getView().byId("idInputCPF").getValue();var o=this.getView().byId("idInputToken").getValue();var a=this.getOwnerComponent().getModel();var s=this.getView().byId("_IDGenButton2");a.callFunction("/ZFI_VCLE_ACEITE",{method:"POST",urlParameters:{nome:e,cpf:t,token:o,docnum:"1234567890"},success:function(e,t){if(e.id==="S"){sap.m.MessageToast.show(e.message);s.setEnabled(false)}else{sap.m.MessageToast.show("Erro : "+e.message)}},error:function(e){sap.m.MessageToast.show("Erro : "+oData.message)}})}})});