/*!
* imagemapster - v1.5.4 - 2021-02-20
* https://github.com/jamietre/ImageMapster/
* Copyright (c) 2011 - 2021 James Treworgy
* License: MIT
*/
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,a){return void 0===a&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(a),a}:e(jQuery)}(function(jQuery){!function(e){"use strict";e.event&&e.event.special&&function(){var t,a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0}});window.addEventListener("testPassive.mapster",function(){},i),window.removeEventListener("testPassive.mapster",function(){},i)}catch(a){}a&&(t=function(e,t,a){if(!e.includes("noPreventDefault"))return console.warn("non-passive events - listener not added"),!1;window.addEventListener(t,a,{passive:!0})},e.event.special.touchstart={setup:function(e,a,i){return t(a,"touchstart",i)}},e.event.special.touchend={setup:function(e,a,i){return t(a,"touchend",i)}})}()}(jQuery),function($){"use strict";var mapster_version="1.5.4",Aa,Ba,Ca;$.fn.mapster=function(e){var t=$.mapster.impl;return $.mapster.utils.isFunction(t[e])?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.mapster"):t.bind.apply(this,arguments)},$.mapster={version:mapster_version,render_defaults:{isSelectable:!0,isDeselectable:!0,fade:!1,fadeDuration:150,fill:!0,fillColor:"000000",fillColorMask:"FFFFFF",fillOpacity:.7,highlight:!0,stroke:!1,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,includeKeys:"",altImage:null,altImageId:null,altImages:{}},defaults:{clickNavigate:!1,navigateMode:"location",wrapClass:null,wrapCss:null,onGetList:null,sortList:!1,listenToList:!1,mapKey:"",mapValue:"",singleSelect:!1,listKey:"value",listSelectedAttribute:"selected",listSelectedClass:null,onClick:null,onMouseover:null,onMouseout:null,mouseoutDelay:0,onStateChange:null,boundList:null,onConfigured:null,configTimeout:3e4,noHrefIsMask:!0,scaleMap:!0,enableAutoResizeSupport:!1,autoResize:!1,autoResizeDelay:0,autoResizeDuration:0,onAutoResize:null,safeLoad:!1,areas:[]},shared_defaults:{render_highlight:{fade:!0},render_select:{fade:!1},staticState:null,selected:null},area_defaults:{includeKeys:"",isMask:!1},canvas_style:{position:"absolute",left:0,top:0,padding:0,border:0},hasCanvas:null,map_cache:[],hooks:{},addHook:function(e,t){this.hooks[e]=(this.hooks[e]||[]).push(t)},callHooks:function(e,t){$.each(this.hooks[e]||[],function(e,a){a.apply(t)})},utils:{when:{all:function(e){return Promise.all(e)},defer:function(){return new function(){this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this)),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}},defer:function(){return this.when.defer()},subclass:function(e,t){function a(){var a=this,i=Array.prototype.slice.call(arguments,0);a.base=e.prototype,a.base.init=function(){e.prototype.constructor.apply(a,i)},t.apply(a,i)}return(a.prototype=new e).constructor=a},asArray:function(e){return e.constructor===Array?e:this.split(e)},split:function(e,t){for(var a,i=e.split(","),n=0;n<i.length;n++)""===(a=i[n]?i[n].trim():"")?i.splice(n,1):i[n]=t?t(a):a;return i},updateProps:function(e,t){var a=e||{},e=$.isEmptyObject(a)?t:e,i=[];return $.each(e,function(e){i.push(e)}),$.each(Array.prototype.slice.call(arguments,1),function(e,t){$.each(t||{},function(e){var n;(!i||0<=$.inArray(e,i))&&(n=t[e],$.isPlainObject(n)?a[e]=$.extend(a[e]||{},n):n&&n.constructor===Array?a[e]=n.slice(0):void 0!==n&&(a[e]=t[e]))})}),a},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},indexOf:function(e,t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1},indexOfProp:function(e,t,a){var i=e.constructor===Array?-1:null;return $.each(e,function(e,n){if(n&&(t?n[t]:n)===a)return i=e,!1}),i},boolOrDefault:function(e,t){return this.isBool(e)?e:t||!1},isBool:function(e){return"boolean"==typeof e},isUndef:function(e){return void 0===e},isFunction:function(e){return"function"==typeof e},ifFunction:function(e,t,a){this.isFunction(e)&&e.call(t,a)},size:function(e,t){var a=$.mapster.utils;return{width:t?e.width||e.naturalWidth:a.imgWidth(e,!0),height:t?e.height||e.naturalHeight:a.imgHeight(e,!0),complete:function(){return!!this.height&&!!this.width}}},setOpacity:function(e,t){$.mapster.hasCanvas()?e.style.opacity=t:$(e).each(function(e,a){void 0!==a.opacity?a.opacity=t:$(a).css("opacity",t)})},fader:(Aa={},Ba=0,Ca=function(e,t,a,i){var n,o,s=i/15,r=$.mapster.utils;if("number"==typeof e){if(!(o=Aa[e]))return}else(n=r.indexOfProp(Aa,null,e))&&delete Aa[n],Aa[++Ba]=o=e,e=Ba;t=(a=a||1)-.01<t+a/s?a:t+a/s,r.setOpacity(o,t),t<a&&setTimeout(function(){Ca(e,t,a,i)},15)},Ca),getShape:function(e){return(e.shape||"rect").toLowerCase()},hasAttribute:function(e,t){t=$(e).attr(t);return void 0!==t&&!1!==t}},getBoundList:function(e,t){if(!e.boundList)return null;var a,i,n=$(),o=$.mapster.utils.split(t);return e.boundList.each(function(t,s){for(a=0;a<o.length;a++)i=o[a],$(s).is("["+e.listKey+'="'+i+'"]')&&(n=n.add(s))}),n},getMapDataIndex:function(e){var t,a;switch(e.tagName&&e.tagName.toLowerCase()){case"area":a=$(e).parent().attr("name"),t=$("img[usemap='#"+a+"']")[0];break;case"img":t=e}return t?this.utils.indexOfProp(this.map_cache,"image",t):-1},getMapData:function(e){e=this.getMapDataIndex(e.length?e[0]:e);if(0<=e)return 0<=e?this.map_cache[e]:null},queueCommand:function(e,t,a,i){return!!e&&(!(e.complete&&!e.currentAction)&&(e.commands.push({that:t,command:a,args:i}),!0))},unload:function(){return this.impl.unload(),this.utils=null,this.impl=null,$.fn.mapster=null,$.mapster=null,$("*").off(".mapster")}};var m=$.mapster,u=m.utils,ap=Array.prototype;$.each(["width","height"],function(e,t){var a=t.substr(0,1).toUpperCase()+t.substr(1);u["img"+a]=function(e,i){return(i?$(e)[t]():0)||e[t]||e["natural"+a]||e["client"+a]||e["offset"+a]}}),m.Method=function(e,t,a,i){var n=this;n.name=i.name,n.output=e,n.input=e,n.first=i.first||!1,n.args=i.args?ap.slice.call(i.args,0):[],n.key=i.key,n.func_map=t,n.func_area=a,n.name=i.name,n.allowAsync=i.allowAsync||!1},m.Method.prototype={constructor:m.Method,go:function(){for(var e,t,a,i=this.input,n=[],o=this,s=i.length,r=0;r<s;r++)if(e=$.mapster.getMapData(i[r]))if(o.allowAsync||!m.queueCommand(e,o.input,o.name,o.args)){if((t=e.getData("AREA"===i[r].nodeName?i[r]:this.key))?$.inArray(t,n)<0&&n.push(t):a=this.func_map.apply(e,o.args),this.first||void 0!==a)break}else this.first&&(a="");return $(n).each(function(e,t){a=o.func_area.apply(t,o.args)}),void 0!==a?a:this.output}},$.mapster.impl=function(){var me={},addMap=function(e){return m.map_cache.push(e)-1},removeMap=function(e){m.map_cache.splice(e.index,1);for(var t=m.map_cache.length-1;t>=e.index;t--)m.map_cache[t].index--};function hasVml(){var e=$("<div />").appendTo("body");e.html('<v:shape id="vml_flag1" adj="1" />');var t=e[0].firstChild;t.style.behavior="url(#default#VML)";t=!t||"object"==typeof t.adj;return e.remove(),t}function namespaces(){return"object"==typeof document.namespaces?document.namespaces:null}function hasCanvas(){var e=namespaces();return(!e||!e.g_vml_)&&!!$("<canvas />")[0].getContext}function merge_areas(e,t){var a,i=e.options.areas;t&&$.each(t,function(t,n){n&&n.key&&(0<=(a=u.indexOfProp(i,"key",n.key))?$.extend(i[a],n):i.push(n),(a=e.getDataForKey(n.key))&&$.extend(a.options,n))})}function merge_options(e,t){var a=u.updateProps({},t);delete a.areas,u.updateProps(e.options,a),merge_areas(e,t.areas),u.updateProps(e.area_options,e.options)}return me.get=function(e){var t=m.getMapData(this);if(!t||!t.complete)throw"Can't access data until binding complete.";return new m.Method(this,function(){return this.getSelected()},function(){return this.isSelected()},{name:"get",args:arguments,key:e,first:!0,allowAsync:!0,defaultReturn:""}).go()},me.data=function(e){return new m.Method(this,null,function(){return this},{name:"data",args:arguments,key:e}).go()},me.highlight=function(e){return new m.Method(this,function(){if(!1!==e){var t=this.highlightId;return 0<=t?this.data[t].key:null}this.ensureNoHighlight()},function(){this.highlight()},{name:"highlight",args:arguments,key:e,first:!0}).go()},me.keys=function(e,t){var a=[],i=m.getMapData(this);if(!i||!i.complete)throw"Can't access data until binding complete.";function n(e){var i,n=[];t?(i=e.areas(),$.each(i,function(e,t){n=n.concat(t.keys)})):n.push(e.key),$.each(n,function(e,t){$.inArray(t,a)<0&&a.push(t)})}return i&&i.complete?("string"==typeof e?t?n(i.getDataForKey(e)):a=[i.getKeysForGroup(e)]:(t=e,this.each(function(e,t){"AREA"===t.nodeName&&n(i.getDataForArea(t))})),a.join(",")):""},me.select=function(){me.set.call(this,!0)},me.deselect=function(){me.set.call(this,!1)},me.set=function(e,t,a){var i,n,o,s,r=a;function c(e){e&&$.inArray(e,s)<0&&(s.push(e),o+=(""===o?"":",")+e.key)}function l(t){$.each(s,function(t,a){!function(t){if(t){switch(e){case!0:t.select(r);break;case!1:t.deselect(!0);break;default:t.toggle(r)}}}(a)}),e||t.removeSelectionFinish()}return this.filter("img,area").each(function(a,h){var p;(n=m.getMapData(h))!==i&&(i&&l(i),s=[],o=""),n&&(p="","IMG"===h.nodeName.toUpperCase()?m.queueCommand(n,$(h),"set",[e,t,r])||(t instanceof Array?t.length&&(p=t.join(",")):p=t,p&&$.each(u.split(p),function(e,t){c(n.getDataForKey(t.toString())),i=n})):(r=t,m.queueCommand(n,$(h),"set",[e,r])||(c(n.getDataForArea(h)),i=n)))}),n&&l(n),this},me.unbind=function(e){return new m.Method(this,function(){this.clearEvents(),this.clearMapData(e),removeMap(this)},null,{name:"unbind",args:arguments}).go()},me.rebind=function(e){return new m.Method(this,function(){var t=this;t.complete=!1,t.configureOptions(e),t.bindImages().then(function(){t.buildDataset(!0),t.complete=!0,t.onConfigured()})},null,{name:"rebind",args:arguments}).go()},me.get_options=function(e,t){var a=u.isBool(e)?e:t;return new m.Method(this,function(){var e=$.extend({},this.options);return a&&(e.render_select=u.updateProps({},m.render_defaults,e,e.render_select),e.render_highlight=u.updateProps({},m.render_defaults,e,e.render_highlight)),e},function(){return a?this.effectiveOptions():this.options},{name:"get_options",args:arguments,first:!0,allowAsync:!0,key:e}).go()},me.set_options=function(e){return new m.Method(this,function(){merge_options(this,e)},null,{name:"set_options",args:arguments}).go()},me.unload=function(){for(var e=m.map_cache.length-1;0<=e;e--)m.map_cache[e]&&me.unbind.call($(m.map_cache[e].image));me.graphics=null},me.snapshot=function(){return new m.Method(this,function(){$.each(this.data,function(e,t){t.selected=!1}),this.base_canvas=this.graphics.createVisibleCanvas(this),$(this.image).before(this.base_canvas)},null,{name:"snapshot"}).go()},me.state=function(){var e,t=null;return $(this).each(function(a,i){if("IMG"===i.nodeName)return(e=m.getMapData(i))&&(t=e.state()),!1}),t},me.bind=function(e){return this.each(function(t,a){var i,n=$(a),o=m.getMapData(a);if(o){if(me.unbind.apply(n),!o.complete)return!0;o=null}if(a=(i=this.getAttribute("usemap"))&&$('map[name="'+i.substr(1)+'"]'),!(n.is("img")&&i&&0<a.length))return!0;n.css("border",0),o||((o=new m.MapData(this,e)).index=addMap(o),o.map=a,o.bindImages().then(function(){o.initialize()}))})},me.init=function(e){var t,a;m.hasCanvas=function(){return u.isBool(m.hasCanvas.value)||(m.hasCanvas.value=u.isBool(e)?e:hasCanvas()),m.hasCanvas.value},m.hasVml=function(){var e;return u.isBool(m.hasVml.value)||((e=namespaces())&&!e.v&&(e.add("v","urn:schemas-microsoft-com:vml"),t=document.createStyleSheet(),a=["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"],$.each(a,function(e,a){t.addRule("v\\:"+a,"behavior: url(#default#VML); antialias:true")})),m.hasVml.value=hasVml()),m.hasVml.value},$.extend(m.defaults,m.render_defaults,m.shared_defaults),$.extend(m.area_defaults,m.render_defaults,m.shared_defaults)},me.test=function(obj){return eval(obj)},me}(),$.mapster.impl.init()}(jQuery),function(e){"use strict";var t,a,i,n=e.mapster,o=n.utils;function s(t,a,i){var n=t,o=n.map_data,s=i.isMask;e.each(a.areas(),function(e,t){i.isMask=s||t.nohref&&o.options.noHrefIsMask,n.addShape(t,i)}),i.isMask=s}function r(e){return Math.max(0,Math.min(parseInt(e,16),255))}function c(e,t){return"rgba("+r(e.substr(0,2))+","+r(e.substr(2,2))+","+r(e.substr(4,2))+","+t+")"}function l(){}n.Graphics=function(e){var t=this;t.active=!1,t.canvas=null,t.width=0,t.height=0,t.shapes=[],t.masks=[],t.map_data=e},t=n.Graphics.prototype={constructor:n.Graphics,begin:function(t,a){var i=e(t);this.elementName=a,this.canvas=t,this.width=i.width(),this.height=i.height(),this.shapes=[],this.masks=[],this.active=!0},addShape:function(e,t){(t.isMask?this.masks:this.shapes).push({mapArea:e,options:t})},createVisibleCanvas:function(t){return e(this.createCanvasFor(t)).addClass("mapster_el").css(n.canvas_style)[0]},addShapeGroup:function(t,a,i){var r,c=this,l=this.map_data,u=t.effectiveRenderOptions(a);i&&e.extend(u,i),i="select"===a?(r="static_"+t.areaId.toString(),l.base_canvas):l.overlay_canvas,c.begin(i,r),u.includeKeys&&(r=o.split(u.includeKeys),e.each(r,function(e,t){t=l.getDataForKey(t.toString());s(c,t,t.effectiveRenderOptions(a))})),s(c,t,u),c.render(),u.fade&&o.fader(n.hasCanvas()?i:e(i).find("._fill").not(".mapster_mask"),0,n.hasCanvas()?1:u.fillOpacity,u.fadeDuration)}},a={renderShape:function(e,t,a){var i,n=t.coords(null,a);switch(t.shape){case"rect":case"rectangle":e.rect(n[0],n[1],n[2]-n[0],n[3]-n[1]);break;case"poly":case"polygon":for(e.moveTo(n[0],n[1]),i=2;i<t.length;i+=2)e.lineTo(n[i],n[i+1]);e.lineTo(n[0],n[1]);break;case"circ":case"circle":e.arc(n[0],n[1],n[2],0,2*Math.PI,!1)}},addAltImage:function(e,t,a,i){e.beginPath(),this.renderShape(e,a),e.closePath(),e.clip(),e.globalAlpha=i.altImageOpacity||i.fillOpacity,e.drawImage(t,0,0,a.owner.scaleInfo.width,a.owner.scaleInfo.height)},render:function(){var t,a,i=this,n=i.map_data,o=i.masks.length,s=i.createCanvasFor(n),r=s.getContext("2d"),l=i.canvas.getContext("2d");return o&&(t=i.createCanvasFor(n),(a=t.getContext("2d")).clearRect(0,0,t.width,t.height),e.each(i.masks,function(e,t){a.save(),a.beginPath(),i.renderShape(a,t.mapArea),a.closePath(),a.clip(),a.lineWidth=0,a.fillStyle="#000",a.fill(),a.restore()})),e.each(i.shapes,function(e,t){r.save(),t.options.fill&&(t.options.altImageId?i.addAltImage(r,n.images[t.options.altImageId],t.mapArea,t.options):(r.beginPath(),i.renderShape(r,t.mapArea),r.closePath(),r.fillStyle=c(t.options.fillColor,t.options.fillOpacity),r.fill())),r.restore()}),e.each(i.shapes.concat(i.masks),function(e,t){var a=1===t.options.strokeWidth?.5:0;t.options.stroke&&(r.save(),r.strokeStyle=c(t.options.strokeColor,t.options.strokeOpacity),r.lineWidth=t.options.strokeWidth,r.beginPath(),i.renderShape(r,t.mapArea,a),r.closePath(),r.stroke(),r.restore())}),o?(a.globalCompositeOperation="source-out",a.drawImage(s,0,0),l.drawImage(t,0,0)):l.drawImage(s,0,0),i.active=!1,i.canvas},createCanvasFor:function(t){return e('<canvas width="'+t.scaleInfo.width+'" height="'+t.scaleInfo.height+'"></canvas>')[0]},clearHighlight:function(){var e=this.map_data.overlay_canvas;e.getContext("2d").clearRect(0,0,e.width,e.height)},refreshSelections:function(){var t=this.map_data,a=t.base_canvas;t.base_canvas=this.createVisibleCanvas(t),e(t.base_canvas).hide(),e(a).before(t.base_canvas),t.redrawSelections(),e(t.base_canvas).show(),e(a).remove()}},i={renderShape:function(t,a,i){var n,o=this,s=t.coords(),r=o.elementName?'name="'+o.elementName+'" ':"",c=i?'class="'+i+'" ':"",l='<v:fill color="#'+a.fillColor+'" class="_fill" opacity="'+(a.fill?a.fillOpacity:0)+'" /><v:stroke class="_fill" opacity="'+a.strokeOpacity+'"/>',u=a.stroke?" strokeweight="+a.strokeWidth+' stroked="t" strokecolor="#'+a.strokeColor+'"':' stroked="f"',h=a.fill?' filled="t"':' filled="f"';switch(t.shape){case"rect":case"rectangle":n="<v:rect "+c+r+h+u+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+s[0]+"px;top:"+s[1]+"px;width:"+(s[2]-s[0])+"px;height:"+(s[3]-s[1])+'px;">'+l+"</v:rect>";break;case"poly":case"polygon":n="<v:shape "+c+r+h+u+' coordorigin="0,0" coordsize="'+o.width+","+o.height+'" path="m '+s[0]+","+s[1]+" l "+s.slice(2).join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+o.width+"px;height:"+o.height+'px;">'+l+"</v:shape>";break;case"circ":case"circle":n="<v:oval "+c+r+h+u+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(s[0]-s[2])+"px;top:"+(s[1]-s[2])+"px;width:"+2*s[2]+"px;height:"+2*s[2]+'px;">'+l+"</v:oval>"}return t=e(n),e(o.canvas).append(t),t},render:function(){var t,a=this;return e.each(this.shapes,function(e,t){a.renderShape(t.mapArea,t.options)}),this.masks.length&&e.each(this.masks,function(e,i){t=o.updateProps({},i.options,{fillOpacity:1,fillColor:i.options.fillColorMask}),a.renderShape(i.mapArea,t,"mapster_mask")}),this.active=!1,this.canvas},createCanvasFor:function(t){var a=t.scaleInfo.width,t=t.scaleInfo.height;return e('<var width="'+a+'" height="'+t+'" style="zoom:1;overflow:hidden;display:block;width:'+a+"px;height:"+t+'px;"></var>')[0]},clearHighlight:function(){e(this.map_data.overlay_canvas).children().remove()},removeSelections:function(t){(0<=t?e(this.map_data.base_canvas).find('[name="static_'+t.toString()+'"]'):e(this.map_data.base_canvas).children()).remove()}},e.each(["renderShape","addAltImage","render","createCanvasFor","clearHighlight","removeSelections","refreshSelections"],function(e,o){var s;t[o]=(s=o,function(){return t[s]=(n.hasCanvas()?a:i)[s]||l,t[s].apply(this,arguments)})})}(jQuery),function(e){"use strict";var t=e.mapster,a=t.utils,i=[];t.MapImages=function(e){this.owner=e,this.clear()},t.MapImages.prototype={constructor:t.MapImages,slice:function(){return i.slice.apply(this,arguments)},splice:function(){return i.slice.apply(this.status,arguments),i.slice.apply(this,arguments)},complete:function(){return e.inArray(!1,this.status)<0},_add:function(e){e=i.push.call(this,e)-1;return this.status[e]=!1,e},indexOf:function(e){return a.indexOf(this,e)},clear:function(){var t=this;t.ids&&0<t.ids.length&&e.each(t.ids,function(e,a){delete t[a]}),t.ids=[],t.length=0,t.status=[],t.splice(0)},add:function(t,a){var i,n,o=this;if(t){if("string"==typeof t){if("object"==typeof(t=o[n=t]))return o.indexOf(t);t=e("<img />").addClass("mapster_el").hide(),i=o._add(t[0]),t.on("load.mapster",function(e){o.imageLoaded.call(o,e)}).on("error.mapster",function(e){o.imageLoadError.call(o,e)}),t.attr("src",n)}else i=o._add(e(t)[0]);if(a){if(this[a])throw a+" is already used or is not available as an altImage alias.";o.ids.push(a),o[a]=o[i]}return i}},bind:function(){var e=this,t=e.owner.options.configTimeout/200,i=function(){for(var a=e.length;0<a--&&e.isLoaded(a););e.complete()?e.resolve():0<t--?e.imgTimeout=window.setTimeout(function(){i.call(e,!0)},50):e.imageLoadError.call(e)},n=e.deferred=a.defer();return i(),n},resolve:function(){var e=this.deferred;e&&(this.deferred=null,e.resolve())},imageLoaded:function(t){t=this.indexOf(t.target);0<=t&&(this.status[t]=!0,e.inArray(!1,this.status)<0&&this.resolve())},imageLoadError:function(e){throw clearTimeout(this.imgTimeout),this.triesLeft=0,e?"The image "+e.target.src+" failed to load.":"The images never seemed to finish loading. You may just need to increase the configTimeout if images could take a long time to load."},isLoaded:function(e){var t,i=this.status;return!!i[e]||(void 0!==(t=this[e]).complete?i[e]=t.complete:i[e]=!!a.imgWidth(t),i[e])}}}(jQuery),function(e){"use strict";var t=e.mapster,a=t.utils;function i(i){var n=i.options,o=i.images;t.hasCanvas()&&(e.each(n.altImages||{},function(e,t){o.add(t,e)}),e.each([n].concat(n.areas),function(t,a){e.each([a=a,a.render_highlight,a.render_select],function(e,t){t&&t.altImage&&(t.altImageId=o.add(t.altImage))})})),i.area_options=a.updateProps({},t.area_defaults,n)}function n(e){return!!e&&"#"!==e}function o(e){t.hasCanvas()||this.blur(),e.preventDefault()}function s(e,t){var i=e.getDataForArea(this),n=e.options;e.currentAreaId<0||!i||e.getDataForArea(t.relatedTarget)!==i&&(e.currentAreaId=-1,i.area=null,function e(t,i,n,o){return o=o||a.when.defer(),t.activeAreaEvent&&(window.clearTimeout(t.activeAreaEvent),t.activeAreaEvent=0),i<0?o.resolve({completeAction:!1}):n.owner.currentAction||i?t.activeAreaEvent=window.setTimeout(function(){e(t,0,n,o)},i||100):(i=n.areaId,t.currentAreaId!==i&&0<=t.highlightId&&o.resolve({completeAction:!0})),o}(e,n.mouseoutDelay,i).then(function(t){t.completeAction&&e.clearEffects()}),a.isFunction(n.onMouseout)&&n.onMouseout.call(this,{e:t,options:n,key:i.key,selected:i.isSelected()}))}t.MapData=function(i,r){var c=this;c.image=i,c.images=new t.MapImages(c),c.graphics=new t.Graphics(c),c.imgCssText=i.style.cssText||null,i=c,e.extend(i,{complete:!1,map:null,base_canvas:null,overlay_canvas:null,commands:[],data:[],mapAreas:[],_xref:{},highlightId:-1,currentAreaId:-1,_tooltip_events:[],scaleInfo:null,index:-1,activeAreaEvent:null,autoResizeTimer:null}),c.configureOptions(r),c.mouseover=function(t){!function(t,i){var n=t.getAllDataForArea(this),o=n.length?n[0]:null;!o||o.isNotRendered()||o.owner.currentAction||t.currentAreaId!==o.areaId&&(t.highlightId!==o.areaId&&(t.clearEffects(),o.highlight(),t.options.showToolTip&&e.each(n,function(e,t){t.effectiveOptions().toolTip&&t.showToolTip()})),t.currentAreaId=o.areaId,a.isFunction(t.options.onMouseover)&&t.options.onMouseover.call(this,{e:i,options:o.effectiveOptions(),key:o.key,selected:o.isSelected()}))}.call(this,c,t)},c.mouseout=function(e){s.call(this,c,e)},c.click=function(i){!function(i,s){var r,c,l,u,h,p=this,d=i.getDataForArea(this),f=i.options;function m(e,t,a){return"open"!==e?void(window.location.href=t):void window.open(t,a||"_self")}function g(t,a,i){if("open"!==a)return{href:i};a=e(t.area).attr("href"),i=n(a);return{href:i?a:t.href,target:i?e(t.area).attr("target"):t.hrefTarget}}function v(i){var o;if(l=i.isSelectable()&&(i.isDeselectable()||!i.isSelected()),c=l?!i.isSelected():i.isSelected(),r=t.getBoundList(f,i.key),a.isFunction(f.onClick)&&(u=f.onClick.call(p,{e:s,listTarget:r,key:i.key,selected:c}),a.isBool(u))){if(!u)return;if(n((o=g(i,f.navigateMode,e(i.area).attr("href"))).href))return void m(f.navigateMode,o.href,o.target)}l&&i.toggle()}o.call(this,s),h=g(d,f.navigateMode,d.href),f.clickNavigate&&n(h.href)?m(f.navigateMode,h.href,h.target):d&&!d.owner.currentAction&&(f=i.options,v(d),(d=d.effectiveOptions()).includeKeys&&(d=a.split(d.includeKeys),e.each(d,function(e,t){t=i.getDataForKey(t.toString());t.options.isMask||v(t)})))}.call(this,c,i)},c.clearEffects=function(t){!function(t){var a=t.options;t.ensureNoHighlight(),a.toolTipClose&&0<=e.inArray("area-mouseout",a.toolTipClose)&&t.activeToolTip&&t.clearToolTip()}.call(this,c,t)},c.mousedown=function(e){o.call(this,e)}},t.MapData.prototype={constructor:t.MapData,configureOptions:function(e){this.options=a.updateProps({},t.defaults,e)},bindImages:function(){var e=this,t=e.images;return 2<t.length?t.splice(2):0===t.length&&(t.add(e.image),t.add(e.image.src)),i(e),e.images.bind()},isActive:function(){return!this.complete||this.currentAction},state:function(){return{complete:this.complete,resizing:"resizing"===this.currentAction,zoomed:this.zoomed,zoomedArea:this.zoomedArea,scaleInfo:this.scaleInfo}},wrapId:function(){return"mapster_wrap_"+this.index},instanceEventNamespace:function(){return".mapster."+this.wrapId()},_idFromKey:function(e){return"string"==typeof e&&Object.prototype.hasOwnProperty.call(this._xref,e)?this._xref[e]:-1},getSelected:function(){var t="";return e.each(this.data,function(e,a){a.isSelected()&&(t+=(t?",":"")+this.key)}),t},getAllDataForArea:function(t,i){var n,o,s,r=e(t).filter("area").attr(this.options.mapKey);if(r)for(s=[],r=a.split(r),n=0;n<(i||r.length);n++)(o=this.data[this._idFromKey(r[n])])&&(o.area=t.length?t[0]:t,s.push(o));return s},getDataForArea:function(e){e=this.getAllDataForArea(e,1);return e&&e[0]||null},getDataForKey:function(e){return this.data[this._idFromKey(e)]},getKeysForGroup:function(e){e=this.getDataForKey(e);return e?e.isPrimary?e.key:this.getPrimaryKeysForMapAreas(e.areas()).join(","):""},getPrimaryKeysForMapAreas:function(t){var a=[];return e.each(t,function(t,i){e.inArray(i.keys[0],a)<0&&a.push(i.keys[0])}),a},getData:function(e){return"string"==typeof e?this.getDataForKey(e):e&&e.mapster||a.isElement(e)?this.getDataForArea(e):null},ensureNoHighlight:function(){0<=this.highlightId&&(this.graphics.clearHighlight(),this.data[this.highlightId].changeState("highlight",!1),this.setHighlightId(-1))},setHighlightId:function(e){this.highlightId=e},clearSelections:function(){e.each(this.data,function(e,t){t.selected&&t.deselect(!0)}),this.removeSelectionFinish()},setAreaOptions:function(e){for(var t,i,n=(e=e||[]).length-1;0<=n;n--)(t=e[n])&&(i=this.getDataForKey(t.key))&&(a.updateProps(i.options,t),a.isBool(t.selected)&&(i.selected=t.selected))},drawSelections:function(e){for(var t=a.asArray(e),i=t.length-1;0<=i;i--)this.data[t[i]].drawSelection()},redrawSelections:function(){e.each(this.data,function(e,t){t.isSelectedOrStatic()&&t.drawSelection()})},setBoundListProperties:function(t,a,i){a.each(function(a,n){t.listSelectedClass&&(i?e(n).addClass(t.listSelectedClass):e(n).removeClass(t.listSelectedClass)),t.listSelectedAttribute&&e(n).prop(t.listSelectedAttribute,i)})},clearBoundListProperties:function(e){e.boundList&&this.setBoundListProperties(e,e.boundList,!1)},refreshBoundList:function(e){this.clearBoundListProperties(e),this.setBoundListProperties(e,t.getBoundList(e,this.getSelected()),!0)},setBoundList:function(e){var t,a=this.data.slice(0);e.sortList&&(t="desc"===e.sortList?function(e,t){return e===t?0:t<e?-1:1}:function(e,t){return e===t?0:e<t?-1:1},a.sort(function(e,a){return e=e.value,a=a.value,t(e,a)})),this.options.boundList=e.onGetList.call(this.image,a)},initialize:function(){var i,n,o,s,r,c,l,u,h=this,p=h.options;if(!h.complete){for((c=(l=e(h.image)).parent().attr("id"))&&12<=c.length&&"mapster_wrap"===c.substring(0,12)?(s=l.parent()).attr("id",h.wrapId()):(s=e('<div id="'+h.wrapId()+'"></div>'),p.wrapClass&&(!0===p.wrapClass?s.addClass(l[0].className):s.addClass(p.wrapClass))),h.wrapper=s,h.scaleInfo=u=a.scaleMap(h.images[0],h.images[1],p.scaleMap),h.base_canvas=n=h.graphics.createVisibleCanvas(h),h.overlay_canvas=o=h.graphics.createVisibleCanvas(h),i=e(h.images[1]).addClass("mapster_el "+h.images[0].className).attr({id:null,usemap:null}),(c=a.size(h.images[0])).complete&&i.css({width:c.width,height:c.height}),h.buildDataset(),u=e.extend({display:"block",position:"relative",padding:0},!0===p.enableAutoResizeSupport?{}:{width:u.width,height:u.height}),p.wrapCss&&e.extend(u,p.wrapCss),l.parent()[0]!==h.wrapper[0]&&l.before(h.wrapper),s.css(u),e(h.images.slice(2)).hide(),r=1;r<h.images.length;r++)s.append(h.images[r]);s.append(n).append(o).append(l.css(t.canvas_style)),a.setOpacity(h.images[0],0),e(h.images[1]).show(),a.setOpacity(h.images[1],1),h.complete=!0,h.processCommandQueue(),!0===p.enableAutoResizeSupport&&h.configureAutoResize(),h.onConfigured()}},onConfigured:function(){var t=e(this.image),a=this.options;a.onConfigured&&"function"==typeof a.onConfigured&&a.onConfigured.call(t,!0)},buildDataset:function(a){var i,o,s,r,c,l,u,h,p,d,f,m,g,v,y=this,w=y.options;function b(e,a){a=new t.AreaData(y,e,a);return a.areaId=y._xref[e]=y.data.push(a)-1,a.areaId}for(y._xref={},y.data=[],a||(y.mapAreas=[]),(v=!w.mapKey)&&(w.mapKey="data-mapster-key"),i=t.hasVml()?"area":v?"area[coords]":"area["+w.mapKey+"]",o=e(y.map).find(i).off(".mapster"),d=0;d<o.length;d++)if(r=0,g=o[d],c=e(g),g.coords){for(v?(l=String(d),c.attr("data-mapster-key",l)):l=g.getAttribute(w.mapKey),a?((u=y.mapAreas[c.data("mapster")-1]).configure(l),u.areaDataXref=[]):(u=new t.MapArea(y,g,l),y.mapAreas.push(u)),s=(p=u.keys).length-1;0<=s;s--)h=p[s],w.mapValue&&(f=c.attr(w.mapValue)),v?(r=b(y.data.length,f),(m=y.data[r]).key=h=r.toString()):0<=(r=y._xref[h])?(m=y.data[r],f&&!y.data[r].value&&(m.value=f)):(r=b(h,f),(m=y.data[r]).isPrimary=0===s),u.areaDataXref.push(r),m.areasXref.push(d);n(g=c.attr("href"))&&!m.href&&(m.href=g,m.hrefTarget=c.attr("target")),u.nohref||c.on("click.mapster",y.click).on("mouseover.mapster touchstart.mapster.noPreventDefault",y.mouseover).on("mouseout.mapster touchend.mapster.noPreventDefault",y.mouseout).on("mousedown.mapster",y.mousedown),c.data("mapster",d+1)}y.setAreaOptions(w.areas),w.onGetList&&y.setBoundList(w),w.boundList&&0<w.boundList.length&&y.refreshBoundList(w),a?(y.graphics.removeSelections(),y.graphics.refreshSelections()):y.redrawSelections()},processCommandQueue:function(){for(var e;!this.currentAction&&this.commands.length;)e=this.commands[0],this.commands.splice(0,1),t.impl[e.command].apply(e.that,e.args)},clearEvents:function(){e(this.map).find("area").off(".mapster"),e(this.images).off(".mapster"),e(window).off(this.instanceEventNamespace()),e(window.document).off(this.instanceEventNamespace())},_clearCanvases:function(t){t||e(this.base_canvas).remove(),e(this.overlay_canvas).remove()},clearMapData:function(t){this._clearCanvases(t),e.each(this.data,function(e,t){t.reset()}),this.data=null,t||(this.image.style.cssText=this.imgCssText,e(this.wrapper).before(this.image).remove()),this.images.clear(),this.autoResizeTimer&&clearTimeout(this.autoResizeTimer),this.autoResizeTimer=null,this.image=null,a.ifFunction(this.clearToolTip,this)},removeSelectionFinish:function(){var e=this.graphics;e.refreshSelections(),e.clearHighlight()}}}(jQuery),function(e){"use strict";var t=e.mapster,a=t.utils;function i(t){t=e(t);return a.hasAttribute(t,"nohref")||!a.hasAttribute(t,"href")}t.AreaData=function(t,a,i){e.extend(this,{owner:t,key:a||"",isPrimary:!0,areaId:-1,href:"",hrefTarget:null,value:i||"",options:{},selected:null,staticStateOverridden:!1,areasXref:[],area:null,optsCache:null})},t.AreaData.prototype={constuctor:t.AreaData,select:function(t){var a=this,i=a.owner,n=(o=!e.isEmptyObject(t))?e.extend(a.effectiveRenderOptions("select"),t,{altImageId:i.images.add(t.altImage)}):null,t=o&&!(a.optsCache===n),o=a.isSelectedOrStatic();i.options.singleSelect&&(i.clearSelections(),o=a.isSelectedOrStatic()),t&&(a.optsCache=n),n=a.updateSelected(!0),o&&t?(i.graphics.removeSelections(a.areaId),i.graphics.refreshSelections()):o||a.drawSelection(),n&&a.changeState("select",!0)},deselect:function(e){var t=this,a=t.updateSelected(!1);t.optsCache=null,t.owner.graphics.removeSelections(t.areaId),e||t.owner.removeSelectionFinish(),a&&t.changeState("select",!1)},toggle:function(e){return this.isSelected()?this.deselect():this.select(e),this.isSelected()},updateSelected:function(e){var t=this.selected;return this.selected=e,this.staticStateOverridden=!!a.isBool(this.effectiveOptions().staticState),t!==e},areas:function(){for(var e=[],t=0;t<this.areasXref.length;t++)e.push(this.owner.mapAreas[this.areasXref[t]]);return e},coords:function(t){var a=[];return e.each(this.areas(),function(e,i){a=a.concat(i.coords(t))}),a},reset:function(){e.each(this.areas(),function(e,t){t.reset()}),this.areasXref=[],this.options=null},isSelectedOrStatic:function(){var e=this.effectiveOptions();return!a.isBool(e.staticState)||this.staticStateOverridden?this.isSelected():e.staticState},isSelected:function(){return a.isBool(this.selected)?this.selected:!!a.isBool(this.owner.area_options.selected)&&this.owner.area_options.selected},isSelectable:function(){return!a.isBool(this.effectiveOptions().staticState)&&(!a.isBool(this.owner.options.staticState)&&a.boolOrDefault(this.effectiveOptions().isSelectable,!0))},isDeselectable:function(){return!a.isBool(this.effectiveOptions().staticState)&&(!a.isBool(this.owner.options.staticState)&&a.boolOrDefault(this.effectiveOptions().isDeselectable,!0))},isNotRendered:function(){return i(this.area)||this.effectiveOptions().isMask},effectiveOptions:function(e){e=a.updateProps({},this.owner.area_options,this.options,e||{},{id:this.areaId});return e.selected=this.isSelected(),e},effectiveRenderOptions:function(t,i){var n=this.optsCache;return n&&"highlight"!==t||(i=this.effectiveOptions(i),n=a.updateProps({},i,i["render_"+t]),"highlight"!==t&&(this.optsCache=n)),e.extend({},n)},changeState:function(e,i){a.isFunction(this.owner.options.onStateChange)&&this.owner.options.onStateChange.call(this.owner.image,{key:this.key,state:e,selected:i}),"select"===e&&this.owner.options.boundList&&this.owner.setBoundListProperties(this.owner.options,t.getBoundList(this.owner.options,this.key),i)},highlight:function(e){var t=this.owner;t.ensureNoHighlight(),this.effectiveOptions().highlight&&t.graphics.addShapeGroup(this,"highlight",e),t.setHighlightId(this.areaId),this.changeState("highlight",!0)},drawSelection:function(){this.owner.graphics.addShapeGroup(this,"select")}},t.MapArea=function(t,n,o){var s;t&&((s=this).owner=t,s.area=n,s.areaDataXref=[],s.originalCoords=[],e.each(a.split(n.coords),function(e,t){s.originalCoords.push(parseFloat(t))}),s.length=s.originalCoords.length,s.shape=a.getShape(n),s.nohref=i(n),s.configure(o))},t.MapArea.prototype={constructor:t.MapArea,configure:function(e){this.keys=a.split(e)},reset:function(){this.area=null},coords:function(t){return e.map(this.originalCoords,function(e){return t?e:e+t})}}}(jQuery),function(e){"use strict";var t=e.mapster.utils;t.areaCorners=function(a,i,n,o,s){var r,c,l,u,h,p,d,f,m,g,v,y,w,b,k,A,S,C,_,T,I=0,x=0,M=[];for(a=a.length?a:[a],r=(n=e(n||document.body)).offset(),k=r.left,A=r.top,i&&(I=(r=e(i).offset()).left,x=r.top),b=0;b<a.length;b++)if("AREA"===(T=a[b]).nodeName){switch(S=t.split(T.coords,parseInt),t.getShape(T)){case"circle":case"circ":for(v=S[0],y=S[1],C=S[2],M=[],b=0;b<360;b+=20)_=b*Math.PI/180,M.push(v+C*Math.cos(_),y+C*Math.sin(_));break;case"rectangle":case"rect":M.push(S[0],S[1],S[2],S[1],S[2],S[3],S[0],S[3]);break;default:M=M.concat(S)}for(b=0;b<M.length;b+=2)M[b]=parseInt(M[b],10)+I,M[b+1]=parseInt(M[b+1],10)+x}else r=(T=e(T)).position(),M.push(r.left,r.top,r.left+T.width(),r.top,r.left+T.width(),r.top+T.height(),r.left,r.top+T.height());for(l=u=d=m=999999,h=p=f=g=-1,b=M.length-2;0<=b;b-=2)v=M[b],y=M[b+1],v<l&&(l=v,g=y),h<v&&(h=v,m=y),y<u&&(u=y,f=v),p<y&&(p=y,d=v);return o&&s&&(c=!1,e.each([[f-o,u-s],[d,u-s],[l-o,g-s],[l-o,m],[h,g-s],[h,m],[f-o,p],[d,p]],function(e,t){if(!c&&t[0]>k&&t[1]>A)return w=t,!(c=!0)}),c||(w=[h,p])),w}}(jQuery),function(e){"use strict";var t=e.mapster,a=t.utils,i=t.MapArea.prototype;t.utils.getScaleInfo=function(e,t){var a;return t?.98<(a=e.width/t.width||e.height/t.height)&&a<1.02&&(a=1):(a=1,t=e),{scale:1!==a,scalePct:a,realWidth:t.width,realHeight:t.height,width:e.width,height:e.height,ratio:e.width/e.height}},t.utils.scaleMap=function(e,t,i){e=a.size(e),t=a.size(t,!0);if(!t.complete())throw"Another script, such as an extension, appears to be interfering with image loading. Please let us know about this.";return e.complete()||(e=t),this.getScaleInfo(e,i?t:null)},t.MapData.prototype.resize=function(i,n,o,s){var r,c,l,u,h,p=this;function d(a,i,n){t.hasCanvas()?(a.width=i,a.height=n):(e(a).width(i),e(a).height(n))}function f(){var e;d(p.overlay_canvas,i,n),0<=u&&((e=p.data[u]).tempOptions={fade:!1},p.getDataForKey(e.key).highlight(),e.tempOptions=null),d(p.base_canvas,i,n),p.redrawSelections(),p.currentAction="",a.isFunction(s)&&s(),p.processCommandQueue()}function m(){e(p.image).css(l),p.scaleInfo=a.getScaleInfo({width:i,height:n},{width:p.scaleInfo.realWidth,height:p.scaleInfo.realHeight}),e.each(p.data,function(t,a){e.each(a.areas(),function(e,t){t.resize()})})}s=s||o,p.scaleInfo.width===i&&p.scaleInfo.height===n||(u=p.highlightId,i||(h=n/p.scaleInfo.realHeight,i=Math.round(p.scaleInfo.realWidth*h)),n||(h=i/p.scaleInfo.realWidth,n=Math.round(p.scaleInfo.realHeight*h)),l={width:String(i)+"px",height:String(n)+"px"},t.hasCanvas()||e(p.base_canvas).children().remove(),h=e(p.wrapper).find(".mapster_el"),!0!==p.options.enableAutoResizeSupport&&(h=h.add(p.wrapper)),o?(c=[],p.currentAction="resizing",h.filter(":visible").each(function(t,i){r=a.defer(),c.push(r),e(i).animate(l,{duration:o,complete:r.resolve,easing:"linear"})}),h.filter(":hidden").css(l),r=a.defer(),c.push(r),a.when.all(c).then(f),m(),r.resolve()):(h.css(l),m(),f()))},t.MapData.prototype.autoResize=function(t,a){this.resize(e(this.wrapper).width(),null,t,a)},t.MapData.prototype.configureAutoResize=function(){var t=this,a=t.instanceEventNamespace();function i(){!0===t.options.autoResize&&t.autoResize(t.options.autoResizeDuration,t.options.onAutoResize)}e(t.image).on("load"+a,i),e(window).on("focus"+a,i),e(window).on("resize"+a,function(){t.autoResizeTimer&&clearTimeout(t.autoResizeTimer),t.autoResizeTimer=setTimeout(i,t.options.autoResizeDelay)}),e(window).on("readystatechange"+a,i),e(window.document).on("fullscreenchange"+a,i),i()},t.MapArea=a.subclass(t.MapArea,function(){this.base.init(),this.owner.scaleInfo.scale&&this.resize()}),i.coords=function(e,t){var a,i=[],n=e||this.owner.scaleInfo.scalePct,o=t||0;if(1===n&&0===t)return this.originalCoords;for(a=0;a<this.length;a++)i.push(Math.round(this.originalCoords[a]*n)+o);return i},i.resize=function(){this.area.coords=this.coords().join(",")},i.reset=function(){this.area.coords=this.coords(1).join(",")},t.impl.resize=function(e,a,i,n){return new t.Method(this,function(){var t=!e&&!a;if(!(this.options.enableAutoResizeSupport&&this.options.autoResize&&t))return!t&&void this.resize(e,a,i,n);this.autoResize(i,n)},null,{name:"resize",args:arguments}).go()}}(jQuery),function(e){"use strict";var t=e.mapster,a=t.utils;function i(t,a,i){var n;return a?(n="string"==typeof a?e(a):e(a).clone()).append(t):n=e(t),n.css(e.extend(i||{},{display:"block",position:"absolute"})).hide(),e("body").append(n),n.attr("data-opacity",n.css("opacity")).css("opacity",0),n.show()}function n(t,a,i,n,o,s){var r=".mapster.tooltip",i=i+r;return 0<=e.inArray(a,t)&&(n.off(i).on(i,function(e){o&&!o.call(this,e)||(n.off(r),s&&s.call(this))}),1)}function o(e,t,i,n,o){var s,r={};return o=o||{},t?(s=a.areaCorners(t,i,n,e.outerWidth(!0),e.outerHeight(!0)),r.left=s[0],r.top=s[1]):(r.left=o.left,r.top=o.top),r.left+=o.offsetx||0,r.top+=o.offsety||0,r.css=o.css,r.fadeDuration=o.fadeDuration,i=e,s={left:(n=r).left+"px",top:n.top+"px"},o=i.attr("data-opacity")||0,r=i.css("z-index"),0!==parseInt(r,10)&&"auto"!==r||(s["z-index"]=9999),i.css(s).addClass("mapster_tooltip"),n.fadeDuration&&0<n.fadeDuration?a.fader(i[0],0,o,n.fadeDuration):a.setOpacity(i[0],o),e}function s(e){return e?"string"==typeof e||e.jquery||a.isFunction(e)?e:e.content:null}function r(e){return e?"string"==typeof e||e.jquery||a.isFunction(e)?{content:e}:e:{}}e.extend(t.defaults,{toolTipContainer:'<div style="border: 2px solid black; background: #EEEEEE; width:160px; padding:4px; margin: 4px; -moz-box-shadow: 3px 3px 5px #535353; -webkit-box-shadow: 3px 3px 5px #535353; box-shadow: 3px 3px 5px #535353; -moz-border-radius: 6px 6px 6px 6px; -webkit-border-radius: 6px; border-radius: 6px 6px 6px 6px; opacity: 0.9;"></div>',showToolTip:!1,toolTip:null,toolTipFade:!0,toolTipClose:["area-mouseout","image-mouseout","generic-mouseout"],onShowToolTip:null,onHideToolTip:null}),e.extend(t.area_defaults,{toolTip:null,toolTipClose:null}),t.MapData.prototype.clearToolTip=function(){this.activeToolTip&&(this.activeToolTip.stop().remove(),this.activeToolTip=null,this.activeToolTipID=null,a.ifFunction(this.options.onHideToolTip,this))},t.AreaData.prototype.showToolTip=function(t,s){var r,c,l,u=this,h=u.owner,p=u.effectiveOptions();if(s=s?e.extend({},s):{},t=t||p.toolTip,r=s.closeEvents||p.toolTipClose||h.options.toolTipClose||"tooltip-click",l=void 0!==s.template?s.template:h.options.toolTipContainer,s.closeEvents="string"==typeof r?r=a.split(r):r,s.fadeDuration=s.fadeDuration||(h.options.toolTipFade?h.options.fadeDuration||p.fadeDuration:0),c=u.area||e.map(u.areas(),function(e){return e.area}),h.activeToolTipID!==u.areaId){h.clearToolTip();var t=a.isFunction(t)?t({key:this.key,target:c}):t;if(t)return h.activeToolTip=t=i(t,l,s.css),h.activeToolTipID=u.areaId,l=function(){h.clearToolTip()},n(r,"area-click","click",e(h.map),null,l),n(r,"tooltip-click","click",t,null,l),n(r,"image-mouseout","mouseout",e(h.image),function(e){return e.relatedTarget&&"AREA"!==e.relatedTarget.nodeName&&e.relatedTarget!==u.area},l),n(r,"image-click","click",e(h.image),null,l),o(t,c,h.image,s.container,s),a.ifFunction(h.options.onShowToolTip,u.area,{toolTip:t,options:{},areaOptions:p,key:u.key,selected:u.isSelected()}),t}},t.impl.tooltip=function(c,l){return new t.Method(this,function(){var t,u,h,p,d,f=this;c?(d=(t=e(c))&&0<t.length?t[0]:null,f.activeToolTipID!==d&&(f.clearToolTip(),d&&(h=s(l),(p=a.isFunction(h)?h({key:this.key,target:t}):h)&&(u=(l=r(l)).closeEvents||f.options.toolTipClose||"tooltip-click",l.closeEvents="string"==typeof u?u=a.split(u):u,l.fadeDuration=l.fadeDuration||(f.options.toolTipFade?f.options.fadeDuration:0),h=function(){f.clearToolTip()},f.activeToolTip=p=i(p,l.template||f.options.toolTipContainer,l.css),f.activeToolTipID=d,n(u,"tooltip-click","click",p,null,h),n(u,"generic-mouseout","mouseout",t,null,h),n(u,"generic-click","click",t,null,h),f.activeToolTip=p=o(p,t,f.image,l.container,l))))):f.clearToolTip()},function(){e.isPlainObject(c)&&!l&&(l=c),this.showToolTip(s(l),r(l))},{name:"tooltip",args:arguments,key:c}).go()}}(jQuery)});