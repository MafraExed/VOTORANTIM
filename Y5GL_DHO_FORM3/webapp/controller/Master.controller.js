sap.ui.define(["Y5GL_DHO_FORM3/Y5GL_DHO_FORM3/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/GroupHeaderListItem","sap/ui/Device","Y5GL_DHO_FORM3/Y5GL_DHO_FORM3/model/formatter"],function(t,e,i,r,n,o,a){"use strict";return t.extend("Y5GL_DHO_FORM3.Y5GL_DHO_FORM3.controller.Master",{formatter:a,onInit:function(){var t=this.byId("list"),e=this._createViewModel(),i=t.getBusyIndicatorDelay();this._oList=t;this._oListFilterState={aFilter:[],aSearch:[]};this.setModel(e,"masterView");t.attachEventOnce("updateFinished",function(){e.setProperty("/delay",i)});this.getView().addEventDelegate({onBeforeFirstShow:function(){this.getOwnerComponent().oListSelector.setBoundMasterList(t)}.bind(this)});this.getRouter().getRoute("master").attachPatternMatched(this._onMasterMatched,this);this.getRouter().attachBypassed(this.onBypassed,this)},onSearch:function(t){if(t.getParameters().refreshButtonPressed){this.onRefresh();return}var e=t.getParameter("query");if(e){this._oListFilterState.aSearch=[new i("DescInfotipo",r.Contains,e)]}else{this._oListFilterState.aSearch=[]}this._applyFilterSearch()},onRefresh:function(){this._oList.getBinding("items").refresh()},onSelectionChange:function(t){this._showDetail(t.getParameter("listItem")||t.getSource())},onBypassed:function(){this._oList.removeSelections(true)},createGroupHeader:function(t){return new n({title:t.text,upperCase:false})},onNavBack:function(){history.go(-1)},_createViewModel:function(){return new e({isFilterBarVisible:false,filterBarLabel:"",delay:0,title:this.getResourceBundle().getText("masterTitleCount",[0]),noDataText:this.getResourceBundle().getText("masterListNoDataText"),sortBy:"DescInfotipo",groupBy:"None"})},_onMasterMatched:function(){this.getOwnerComponent().oListSelector.oWhenListLoadingIsDone.then(function(t){if(t.list.getMode()==="None"){return}var e=t.firstListitem.getBindingContext().getProperty("Infty");var i=t.firstListitem.getBindingContext().getProperty("Subty");this.getRouter().navTo("object",{Infty:e,Subty:i},true)}.bind(this),function(t){if(t.error){return}this.getRouter().getTargets().display("detailNoObjectsAvailable")}.bind(this))},_showDetail:function(t){var e=!o.system.phone;var i=t.getBindingContext().getProperty("Infty");var r=t.getBindingContext().getProperty("Subty");this.getRouter().navTo("object",{Infty:i,Subty:r},e)},_updateListItemCount:function(t){var e;if(this._oList.getBinding("items").isLengthFinal()){e=this.getResourceBundle().getText("masterTitleCount",[t]);this.getModel("masterView").setProperty("/title",e)}},_applyFilterSearch:function(){var t=this._oListFilterState.aSearch.concat(this._oListFilterState.aFilter),e=this.getModel("masterView");this._oList.getBinding("items").filter(t,"Application");if(t.length!==0){e.setProperty("/noDataText",this.getResourceBundle().getText("masterListNoDataWithFilterOrSearchText"))}else if(this._oListFilterState.aSearch.length>0){e.setProperty("/noDataText",this.getResourceBundle().getText("masterListNoDataText"))}},_applyGroupSort:function(t){this._oList.getBinding("items").sort(t)},_updateFilterBar:function(t){var e=this.getModel("masterView");e.setProperty("/isFilterBarVisible",this._oListFilterState.aFilter.length>0);e.setProperty("/filterBarLabel",this.getResourceBundle().getText("masterFilterBarText",[t]))},formatIconList:function(t){var e=jQuery.sap.getModulePath("Y5GL_DHO_FORM3.Y5GL_DHO_FORM3");var i=e+"/Icone/";var r;if(t==="EMP CONSIGNADO"){r=i+"EMPRESTIMO.png";return r}if(t==="ADELANTO"||t==="ADELANTO SUELDOS"||t==="ASIGNACION"||t==="AGUINALDO NAVIDENO"){r=i+"PPRRV.png";return r}if(t==="ESTAC MOVBUS"){r=i+"ESTACIONAMENTO.png";return r}if(t==="LABORAL"){r=i+"PPRRV.png";return r}if(t==="PASAJE"){r=i+"TRANSPORTE.png";return r}if(t==="REEMBOLSO CURSOS"||t==="ASIGNACION ESCOLAR"||t==="PASAJE UNIVERSITARIO"){r=i+"FORMACAO.png";return r}if(t==="REEMBOLSO EXPATRIADO"){r=i+"ADIANTAMENTO_15.png";return r}if(t==="REEMBOLSO IDIOMA"){r=i+"FORMACAO.png";return r}if(t==="SEGURO DE VIDA"){r=i+"SEGURO_VIDA.png";return r}if(t==="PLANO MEDICO"){r=i+"PLANO_MEDICO.png";return r}return" "},formatName:function(t){var e;if(t==="EMP CONSIGNADO"){e="PRESTAMO"}if(t==="REEMBOLSO MEDICAM"){e="REEMBOLSO MEDICAMENTO"}if(t==="ESTAC MOVBUS"){e="ESTACIONAMIENTO MOVILIDAD BUS"}if(t==="LABORAL"){e="Reembolso Laboral / Convenio Colectivo"}if(t==="PASAJE"){e="Pasaje Universitario / Asignacion Escolar / Aguinaldo Navideño"}if(t==="PLANO MEDICO"){e="Plan de Salud"}if(t==="SEGURO DE VIDA"){e="Essalud Vida\t"}if(t==="ADELANTO"){e="Adelanto de Gratificación a Solicitud"}if(t==="ADELANTO SUELDOS"){e="Adelanto de Sueldos"}if(t==="ASIGNACION"){e="Asignación por Fallecimiento"}if(t==="PASAJE UNIVERSITARIO"){e="Pasaje Universitario"}if(t==="ASIGNACION ESCOLAR"){e="Asignación Escolar"}if(t==="AGUINALDO NAVIDENO"){e="Aguinaldo Navideño"}if(!e){e=t}return e}})});