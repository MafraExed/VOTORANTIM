(function(e){function t(t){for(var o,r,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);_&&_(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},s={app:0},n=[];function r(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0e22c7":"15170e9d"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,o){a=s[e]=[t,o]}));t.push(a[2]=o);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=r(e);var l=new Error;n=function(t){c.onerror=c.onload=null,clearTimeout(d);var a=s[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",l.name="ChunkLoadError",l.type=o,l.request=n,a[1](l)}s[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var _=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1053:function(e,t,a){"use strict";var o=a("4739"),s=a.n(o);s.a},"1d67":function(e,t,a){},"21a7":function(e,t,a){"use strict";var o=a("e12d"),s=a.n(o);s.a},"30ec":function(e,t,a){"use strict";var o=a("1d67"),s=a.n(o);s.a},4739:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("c975"),a("d3b7"),a("498a"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var o,s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",clipped:"",permanent:"","expand-on-hover":""}},[a("v-list-item",{attrs:{link:"",to:{path:"/"}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-folder")])],1),a("v-list-item-title",[e._v("HISTÓRICO")])],1),a("v-list-item",{attrs:{link:"",to:{path:"/nfesaida"}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-arrow-up-bold-hexagon-outline")])],1),a("v-list-item-title",[e._v("BUSCA NFE SAÍDA")])],1),a("v-list-item",{attrs:{link:"",to:{path:"/nfeentrada"}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-arrow-down-bold-hexagon-outline")])],1),a("v-list-item-title",[e._v("BUSCA NFE ENTRADA")])],1),a("v-list-item",{attrs:{link:"",to:{path:"/cteentrada"}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-car-connected")])],1),a("v-list-item-title",[e._v("BUSCA CTE ENTRADA")])],1),a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.showHelp()}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-help-network")])],1),a("v-list-item-title",[e._v("AJUDA")])],1),a("v-spacer"),a("v-spacer")],1),a("v-app-bar",{attrs:{app:"","clipped-left":"",color:"secondary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"NFe App",contain:"","min-width":"100",src:"/sap/bc/ui5_ui5/sap/y5nfedown_serv/img/footer-votorantim.png",width:"300"}})],1),a("v-spacer"),a("v-btn",{attrs:{href:"",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[e._v("Download em massa")]),a("v-icon",[e._v("mdi-power-plug-off-outline")])],1)],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("v-fade-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",[a("v-spacer"),a("div",[e._v("© "+e._s((new Date).getFullYear())+" by COE SISTEMAS")])],1),a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:this.$store.getters.nfe_getTimeout,callback:function(t){e.$set(this.$store.getters,"nfe_getTimeout",t)},expression:"this.$store.getters.nfe_getTimeout"}},[a("v-card",[a("v-card-title",{staticClass:"text",staticStyle:{"word-break":"normal"}},[e._v("Devido a falta de acesso ou período de inatividade sua sessão foi interrompida. "),a("br"),e._v(" Requisições não salvas, foram perdidas.")]),a("v-card-actions",{staticStyle:{"justify-content":"center",width:"100%"}},[a("v-btn",{attrs:{color:"primary",large:""},on:{click:function(t){return e.callReload()}}},[e._v("Clique Aqui para reiniciar")])],1)],1)],1)],1)},r=[],i={name:"App",components:{},props:{},data:function(){return{job_return:{status:"",jobname:""}}},beforeMount:function(){this.getToken(),this.job_return.jobname="",this.id_job=this.job_return.jobname},methods:{callReload:function(){document.location.reload()},showHelp:function(){window.open("/sap/bc/ui5_ui5/sap/y5nfedown_serv/files/GUIA_RAPIDO_PORTAL_FIORI_XML.docx")},getToken:function(){var e=this;this.$http.get(this.$host+"?$format=json",{headers:{"X-CSRF-Token":"Fetch"}}).then((function(t){e.$store.dispatch("nfe_setCsrfToken",t.headers["x-csrf-token"])})).catch((function(t){e.$store.dispatch("nfe_setCsrfToken",t.response.headers["x-csrf-token"]),console.log("consultar nfe:"+t)}))}}},c=i,l=a("2877"),d=Object(l["a"])(c,n,r,!1,null,null,null),_=d.exports,p=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{elevation:"2"}},[a("v-card-title",[e._v("Legendas:")]),a("v-divider",{staticClass:"mx-4"}),a("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[a("v-col",{staticClass:"border: black;  "},[a("div",{staticClass:"pa-4 yellow darken-3 rounded-circle d-inline-block"}),a("div",[e._v("Processando seleção do usuário")])]),a("v-col",{staticClass:"border: black;  "},[a("div",{staticClass:"pa-4 orange darken-3 rounded-circle d-inline-block"}),a("div",[e._v("Seleção do usuário finalizado.")])]),a("v-col",[a("div",{staticClass:"pa-4 blue darken-3 rounded-circle d-inline-block"}),a("div",[e._v("Processando Download.")])]),a("v-col",[a("div",{staticClass:"pa-4 green darken-3 rounded-circle d-inline-block"}),a("div",[e._v("Download Finalizado.")])]),a("v-col",[a("div",{staticClass:"pa-4 purple darken-3 rounded-circle d-inline-block"}),a("div",[e._v("Arquivos ZIP deletados.")])]),a("v-col",[a("div",{staticClass:"pa-4 red darken-3 rounded-circle d-inline-block"}),a("div",[e._v("Erro no processamento JOB/Serviço.")])])],1)],1),a("v-timeline",{attrs:{dense:""}},[a("v-container",[a("v-data-iterator",{attrs:{items:e.items,"items-per-page.sync":"itemsPerPage",page:e.page,search:e.search,"sort-by":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc,loading:e.v_loadingFullPage,"loading-text":"Carregando dados - A G U A R D E ...","hide-default-footer":""},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue-grey darken-3"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-file-find",label:"Buscar por palavras"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"default",fn:function(t){return e._l(t.items,(function(t){return a("v-row",{key:t.jobname},[a("v-col",[a("v-list",{attrs:{dense:""}},e._l(e.filteredKeys,(function(o,s){return a("v-list-item",{key:s},[a("v-list-item-content",[a("v-card",{attrs:{"max-width":"98%",elevation:"2"}},[a("v-card-title",{staticClass:"blue-grey darken-2"},[a("v-tooltip",{attrs:{top:"",color:e.showColor(t.status)},scopedSlots:e._u([{key:"activator",fn:function(o){var s=o.on,n=o.attrs;return[a("v-icon",e._g(e._b({staticClass:"mr-4",attrs:{dark:"",size:"42",color:e.showColor(t.status)}},"v-icon",n,!1),s),[e._v(" mdi-checkbox-blank-circle ")])]}}],null,!0)},[a("span",[e._v(e._s(t.status_desc))])]),"F"==t.status?a("h4",{staticClass:"white--text font-weight-light"},[a("b",{staticStyle:{"font-size":"x-large"}},[e._v(e._s(t.title)+" ")]),e._v(" "),a("br"),e._v(" Criado pelo usuário: "+e._s(t.user_created)+" "),a("br"),e._v(" Data de Criação: "+e._s(e.formatDate(t.date_created)))]):a("h4",{staticClass:"white--text font-weight-light"},[a("b",{staticStyle:{"font-size":"x-large"}},[e._v(e._s(t.title)+" ")]),e._v(" "+e._s("00000000"!=t.date_delete_file?" - Arquivo ZIP expira dia "+e.formatDate(t.date_delete_file)+" (Faltam "+e.dateDiffInDays(t.date_delete_file,"spacer")+" dias)":"")+" "),a("br"),e._v(" Criado pelo usuário: "+e._s(t.user_created)+" "),a("br"),e._v(" Data de Criação: "+e._s(e.formatDate(t.date_created)))])],1),a("v-container",[a("v-row",["D"==t.status?a("v-col",[e._v(" "+e._s(t.description)),a("br"),a("br"),a("router-link",{attrs:{to:{path:"/download/"+t.jobname}}},[e._v("+ Detalhes")])],1):"B"==t.status?a("v-col",[e._v(" "+e._s(t.description)),a("br"),a("br"),a("router-link",{attrs:{to:{path:"/details/"+t.jobname}}},[e._v("+ Detalhes")])],1):"E"==t.status?a("v-col",[e._v(" "+e._s(t.description)),a("br"),a("br"),e._v(" Causa do erro: "+e._s(""===t.error_desc?" Não foi possível definir.":t.error_desc)+" ")]):a("v-col",[e._v(" "+e._s(t.description)+" ")]),a("v-col",{staticClass:"hidden-sm-and-down text-left",attrs:{md:"2"}})],1)],1)],1)],1)],1)})),1)],1)],1)}))}},{key:"footer",fn:function(){return[a("v-row",{staticClass:"mt-2",attrs:{align:"center",justify:"center"}},[a("span",{staticClass:"mr-4\n                    grey--text"},[e._v(" Página "+e._s(e.page)+" de "+e._s(e.numberOfPages)+" ")]),a("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.formerPage}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.nextPage}},[a("v-icon",[e._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1)],1)],1)},v=[],h=(a("a4d3"),a("e01a"),a("99af"),a("4de4"),a("4160"),a("159b"),a("ddb0"),{data:function(){return{jobdetails:[],v_loading:!0,v_loadingFullPage:!0,itemsPerPageArray:[4,8,16],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:4,sortBy:"",keys:["Jobname",""],items:[]}},methods:{formatDate:function(e,t){if(!e)return null;var a=e.substr(0,4),o=e.substr(4,2),s=e.substr(6,2);return t?"".concat(a," ").concat(o," ").concat(s):"".concat(s,"/").concat(o,"/").concat(a)},dateDiffInDays:function(e){var t=864e5,a=new Date(Date.now()),o=new Date(this.formatDate(e,"spacer")),s=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),n=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()),r=Math.floor((n-s)/t);return r},getJobDetails:function(){var e=this,t=this.$host+"jobs?$skip=0&$top=150&$orderby=jobname&$format=json";this.$http.get(t,{}).then((function(t){t.data.d.results.forEach((function(t){var a="";switch(t.status){case"D":a="Download Finalizado.";break;case"C":a="Processando Download.";break;case"B":a="Seleção do usuário finalizado.";break;case"A":a="Seleção do usuário finalizado.";break;case"F":a="Arquivos ZIP deletados.";break;default:a="Erro no processamento JOB/Serviço.";break}e.jobdetails.push({jobname:t.jobname,date_created:t.date_created,time_created:t.time_created,user_created:t.user_created,status:t.status,title:t.title,description:t.description,date_last_modif:t.date_last_modif,time_last_modif:t.time_last_modif,user_last_modif:t.user_last_modif,doc_type:t.doc_type,status_desc:a,date_delete_file:t.date_delete_file,error_desc:t.error_desc})})),e.items=e.jobdetails,e.v_loadingFullPage=!1}))},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e},showColor:function(e){switch(e){case"D":return"green darken-3";case"C":return"blue darken-3";case"B":return"orange darken-3";case"A":return"yellow darken-3";case"F":return"purple darken-3";default:return"red darken-3"}}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(e){return"Jobname"!==e}))},get_id_job:function(){return this.$route.params.id_job}},beforeMount:function(){this.getJobDetails()}}),m=h,f=(a("30ec"),Object(l["a"])(m,u,v,!1,null,"a1f9e0c0",null)),g=f.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-content",[a("v-card",{staticClass:"mx-auto mt-5",attrs:{width:"400px"}},[a("v-card-title",[e._v("Portal Services")]),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Usuário/email","prepend-icon":"mdi-account-circle"}}),a("v-text-field",{attrs:{label:"Senha",type:e.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"info",to:"main"}},[e._v("Acessar")]),a("v-spacer"),a("v-btn",{attrs:{color:"gray"}},[e._v("Reset de Senha")])],1)],1)],1)],1)},j=[],x={name:"login",data:function(){return{showPassword:!1}}},C=x,k=Object(l["a"])(C,b,j,!1,null,null,null),y=(k.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{color:"grey darken-3",extended:"",flat:""}}),a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"-64px"},attrs:{"max-width":"100%;"},scopedSlots:e._u([{key:"footer",fn:function(){return[a("v-toolbar",{staticClass:"mt-2",attrs:{color:"indigo",dark:"",flat:""}},[a("v-toolbar-title",{staticClass:"subheading"},[e._v("This is a footer")])],1)]},proxy:!0}])},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"black--text"},[e._v("NFE SAIDA")]),a("v-icon",{attrs:{right:""},on:{click:function(t){return e.initialState("company")}}},[e._v("mdi-dots-vertical")])],1),a("v-divider"),a("v-row",{staticStyle:{width:"100%",align:"center"}},[a("v-col",{attrs:{md:"1"}}),a("v-col",{attrs:{md:"4"}},[a("p",[e._v("Inserir via arquivo CSV: Para fazer a solicitação via arquivo CSV, é necessário fazer o upload com base no template de arquivos. "),a("br"),e._v("Para fazer o download do template "),a("a",{attrs:{href:"/sap/bc/ui5_ui5/sap/y5nfedown_serv/files/TEMPLATE_NFE_CSV.csv"}},[e._v(" Clique Aqui "),a("v-icon",[e._v("mdi-file-excel")])],1)])]),a("v-col",[a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"CARREGAR CSV"},on:{change:function(t){e.v_fillExcelFields=!0,e.uploadCSV(t)}}})],1)],1),0==e.v_excelParam?a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-form",[a("v-container",[a("v-row",[a("v-col",[this.$store.getters.nfe_getFiltrosChave44.length>=1?a("v-text-field",{attrs:{label:"Chave 44 Digitos",value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosChave44.length,readonly:"",outlined:""},on:{click:function(t){e.dialog_chave44=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_chave44=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e(),this.$store.getters.nfe_getFiltrosChave44.length<1?a("v-text-field",{attrs:{label:"Chave 44 Digitos",required:"",outlined:""},on:{click:function(t){e.dialog_chave44=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_chave44=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e()],1),a("v-col",[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters.nfe_getFiltrosChaveNf.length>=1,expression:"this.$store.getters.nfe_getFiltrosChaveNf.length >= 1"}],attrs:{label:"Número da Nota Fiscal",value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosChaveNf.length,readonly:"",outlined:""},on:{click:function(t){e.dialog_chavenf=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_chavenf=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1),this.$store.getters.nfe_getFiltrosChaveNf.length<1?a("v-text-field",{attrs:{label:"Número da Nota Fiscal",required:"",outlined:""},on:{click:function(t){e.dialog_chavenf=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_chavenf=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e()],1),a("v-col",{staticStyle:{align:"right","text-align":"right"},attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:"",color:"green"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("markALL")}}},[e._v("mdi-checkbox-multiple-marked-outline")])],1),a("v-btn",{attrs:{icon:"",color:"gray"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("")}}},[e._v("mdi-checkbox-multiple-blank-outline")])],1)],1),a("v-col",[a("v-select",{attrs:{"small-chips":"",items:this.$store.getters.nfe_getFiltrosEmpresa,chips:"",label:"Empresas",multiple:"",outlined:""},scopedSlots:e._u([{key:"selection",fn:function(t){var o=t.item,s=t.index;return[0===s?a("v-chip",{attrs:{small:""}},[e._v(" "+e._s(o)+" ")]):e._e(),1===s?a("span",{staticClass:"grey--text caption"},[e._v(" (+"+e._s(e.opt_value_empresa.length-1)+" selecionados) ")]):e._e()]}}],null,!1,3411563518),model:{value:e.opt_value_empresa,callback:function(t){e.opt_value_empresa=t},expression:"opt_value_empresa"}})],1)],1),a("v-row",[this.$store.getters.nfe_getFiltrosNfeEmissor.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ EMISSOR",required:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeEmissor.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosNfeEmissor.length,label:"CNPJ EMISSOR",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeDestinatario.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ RECEBEDOR",required:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeDestinatario.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosNfeDestinatario.length,label:"CNPJ RECEBEDOR",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e()],1),a("calendar_select")],1)],1)],1)],1):a("v-card",[a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},[a("div",[a("v-row",[a("v-col",{staticStyle:{align:"right","text-align":"right"},attrs:{cols:"2"}},[a("v-btn",{attrs:{icon:"",color:"green"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("markALL")}}},[e._v("mdi-checkbox-multiple-marked-outline")])],1),a("v-btn",{attrs:{icon:"",color:"gray"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("")}}},[e._v("mdi-checkbox-multiple-blank-outline")])],1)],1),a("v-col",[a("v-select",{attrs:{"small-chips":"",items:this.$store.getters.nfe_getFiltrosEmpresa,chips:"",label:"Empresas",multiple:"",outlined:""},scopedSlots:e._u([{key:"selection",fn:function(t){var o=t.item,s=t.index;return[0===s?a("v-chip",{attrs:{small:""}},[e._v(" "+e._s(o)+" ")]):e._e(),1===s?a("span",{staticClass:"grey--text caption"},[e._v(" (+"+e._s(e.opt_value_empresa.length-1)+" selecionados) ")]):e._e()]}}]),model:{value:e.opt_value_empresa,callback:function(t){e.opt_value_empresa=t},expression:"opt_value_empresa"}})],1)],1)],1)]),a("v-chip",{attrs:{color:"green","text-color":"white"}},[e._v(" Itens carregados corretamente: ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.values,"items-per-page":10,loading:e.v_excelLoading,"loading-text":"Carregando dados do arquivo, por favor, aguarde..."}}),a("v-chip",{attrs:{color:"red","text-color":"white"}},[e._v(" Itens com problemas no carregamento (ajuste no CSV e importe novamente): ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.errorValues,"items-per-page":10,loading:e.v_excelLoading,"loading-text":"Carregando dados do arquivo, por favor, aguarde..."}})],1),a("v-divider",{staticStyle:{width:"100%",display:"flex",align:"center",padding:"5px"}}),a("v-card",{staticStyle:{width:"100%",display:"flex",padding:"30px","justify-content":"center"},attrs:{elevation:"0"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"* Titulo Consulta ",required:"",outlined:""},model:{value:e.titulo_variante,callback:function(t){e.titulo_variante=t},expression:"titulo_variante"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"* Descrição Consulta ",required:"",outlined:""},model:{value:e.desc_variante,callback:function(t){e.desc_variante=t},expression:"desc_variante"}})],1)],1)],1),a("div",{staticStyle:{width:"100%",display:"flex",padding:"30px","justify-content":"center"}},[0==e.showButton?a("v-btn",{attrs:{"x-large":"",color:"primary",width:"80%",disabled:""}},[e._v("ANALISAR SOLICITAÇÃO")]):a("v-btn",{attrs:{"x-large":"",color:"primary",width:"80%"},on:{click:function(t){return e.analisarSolicitacao()}}},[e._v("ANALISAR SOLICITAÇÃO")])],1),e.errors.length?a("v-container",e._l(e.errors,(function(t,o){return a("v-row",{key:o,attrs:{"align-content":"center",justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"error"}},[e._v(e._s(t))])],1)],1)})),1):e._e(),e.showTable?a("v-container",[a("v-row",{attrs:{"align-content":"center",justify:"center"}},[a("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[a("div",["S"==e.job_return.status?a("v-alert",{attrs:{dense:"",type:"info"}},[e._v(' Serviço schedulado com sucesso. Em análise sob o job de verificação para "'+e._s(this.titulo_variante)+'"" ')]):e._e(),"S"!=e.job_return.status?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" Um erro ocorreu ao schedular o seu serviço. Tente novamente, se o problema persistir, abra um chamado. "+e._s(e.job_return.jobname)+" ErrorDetail: "+e._s(e.job_return.errorMsg)+" "),a("br"),e._v(" "+e._s(this.v_erroDescDump)+" ")]):e._e()],1)]),1!=e.jobSchedulerFinished?a("v-col",{attrs:{cols:"6"}},[a("v-progress-linear",{attrs:{color:"blue darken-4",indeterminate:"",rounded:"",height:"6"}})],1):a("v-col",{attrs:{cols:"6"}},[a("p"),a("div",[a("v-alert",{attrs:{type:"success"}},[e._v(" Análise realizada com sucesso. "),a("router-link",{attrs:{to:{path:"/details/"+this.job_return.jobname}}},[e._v("Clique Aqui")]),e._v(" para ver o resultado. ")],1)],1)])],1)],1):e._e()],1)],1),a("modal_nfe_dialog_chave44",{attrs:{dialog_chave44:e.dialog_chave44,props_chave44:e.props_chave44},on:{closemodal:function(t){e.dialog_chave44=!1}}},[e._v("Inserir Chave NFe 44 Digitos ")]),a("modal_nfe_dialog_chavenf",{attrs:{dialog_chavenf:e.dialog_chavenf,props_chavenf:e.props_chavenf},on:{closemodal:function(t){e.dialog_chavenf=!1}}},[e._v("Inserir Chave NFe ")]),a("modal_nfe_dialog_cnpj_emissor",{attrs:{dialog_nfe_cnpj_emissor:e.dialog_nfe_cnpj_emissor,props_cnpj_emissor:e.props_cnpj_emissor},on:{closemodal:function(t){e.dialog_nfe_cnpj_emissor=!1}}},[e._v("Inserir CNPJ Emissor ")]),a("modal_nfe_dialog_cnpj_destinatario",{attrs:{dialog_nfe_cnpj_destinario:e.dialog_nfe_cnpj_destinario,props_cnpj_destinatario:e.props_cnpj_destinatario},on:{closemodal:function(t){e.dialog_nfe_cnpj_destinario=!1}}},[e._v("Inserir CNPJ Destinatario ")]),a("v-dialog",{attrs:{persistent:""},model:{value:e.v_fillExcelFields,callback:function(t){e.v_fillExcelFields=t},expression:"v_fillExcelFields"}},[a("v-row",{attrs:{justify:"center","align-content":"center","no-gutters":""}},[a("v-card",{staticClass:"mx-auto my-12",attrs:{elevation:"0"}},[a("v-card-subtitle",{staticStyle:{align:"center"}},[e._v("Carregando. Isso pode demorar dependendo da quantidade de registros no documento.")]),a("div",{staticStyle:{"text-align":"center"}},[a("v-progress-circular",{attrs:{size:"100",width:"10",color:"primary",indeterminate:""}})],1)],1)],1)],1)],1)}),w=[],F=(a("ac1f"),a("5319"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog_chave44,callback:function(t){e.dialog_chave44=t},expression:"dialog_chave44"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._t("default")],2)]),a("v-card-text",[a("v-container",[a("v-row",e._l(e.items_chave44,(function(t,o){return a("v-col",{key:o,attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Chave 44 Digitos*",required:"",value:t,outlined:""},on:{focus:function(t){return e.inputAddField(o,"items_chave44")}},model:{value:t.fieldname,callback:function(a){e.$set(t,"fieldname",a)},expression:"number.fieldname"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o||!o&&e.items_chave44.length>1,expression:"index || (!index && items_chave44.length > 1)"}],attrs:{slot:"append-outer",color:"red"},on:{click:function(t){return e.inputRemoveField(o,"items_chave44")}},slot:"append-outer"},[e._v("mdi-minus-box-outline")]),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o==e.items_chave44.length-1,expression:"index == items_chave44.length - 1"}],attrs:{slot:"append",color:"blue"},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1)})),1)],1),a("small",[e._v("Favor preencher com dados pertinentes ao campo.")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1"},on:{click:function(t){return e.close("items_chave44")}}},[e._v("Fechar Janela")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save("items_chave44")}}},[e._v("Salvar entradas")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog_chavenf,callback:function(t){e.dialog_chavenf=t},expression:"dialog_chavenf"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._t("default")],2)]),a("v-card-text",[a("v-container",[a("v-row",e._l(e.items_chavenf,(function(t,o){return a("v-col",{key:o,attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Chave NFe",required:"",value:t,outlined:""},on:{focus:function(t){return e.inputAddField(o,"items_chavenf")}},model:{value:t.fieldname,callback:function(a){e.$set(t,"fieldname",a)},expression:"number.fieldname"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o||!o&&e.items_chavenf.length>1,expression:"index || (!index && items_chavenf.length > 1)"}],attrs:{slot:"append-outer",color:"red"},on:{click:function(t){return e.inputRemoveField(o,"items_chavenf")}},slot:"append-outer"},[e._v("mdi-minus-box-outline")]),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o==e.items_chavenf.length-1,expression:"index == items_chavenf.length - 1"}],attrs:{slot:"append",color:"blue"},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1)})),1)],1),a("small",[e._v("Favor preencher com dados pertinentes ao campo.")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1"},on:{click:function(t){return e.close("items_chavenf")}}},[e._v("Fechar Janela")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save("items_chavenf")}}},[e._v("Salvar entradas")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog_nfe_cnpj_emissor,callback:function(t){e.dialog_nfe_cnpj_emissor=t},expression:"dialog_nfe_cnpj_emissor"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._t("default")],2)]),a("v-card-text",[a("v-container",[a("v-row",e._l(e.items_cnpj_emissor,(function(t,o){return a("v-row",{key:o},[a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Emissor (de)",required:"",value:t.de,outlined:""},on:{focus:function(t){return e.inputAddField(o,"items_cnpj_emissor")}},model:{value:t.de,callback:function(a){e.$set(t,"de",a)},expression:"number.de"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o==e.items_cnpj_emissor.length-1,expression:"index == items_cnpj_emissor.length - 1"}],attrs:{slot:"append",color:"blue"},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1),a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Emissor (até)",required:"",value:t.ate,outlined:""},model:{value:t.ate,callback:function(a){e.$set(t,"ate",a)},expression:"number.ate"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o||!o&&e.items_cnpj_emissor.length>1,expression:"\n                      index || (!index && items_cnpj_emissor.length > 1)\n                    "}],attrs:{slot:"append-outer",color:"red"},on:{click:function(t){return e.inputRemoveField(o,"items_cnpj_emissor")}},slot:"append-outer"},[e._v("mdi-minus-box-outline")])],1)],1)],1)})),1)],1),a("small",[e._v("Favor preencher com dados pertinentes ao campo.")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1"},on:{click:function(t){return e.close("items_cnpj_emissor")}}},[e._v("Fechar Janela")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save("items_cnpj_emissor")}}},[e._v("Salvar entradas")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog_nfe_cnpj_destinario,callback:function(t){e.dialog_nfe_cnpj_destinario=t},expression:"dialog_nfe_cnpj_destinario"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._t("default")],2)]),a("v-card-text",[a("v-container",[a("v-row",e._l(e.items_cnpj_destinatario,(function(t,o){return a("v-row",{key:o},[a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Recebedor (de)",required:"",value:t.de,outlined:""},on:{focus:function(t){return e.inputAddField(o,"items_cnpj_destinatario")}},model:{value:t.de,callback:function(a){e.$set(t,"de",a)},expression:"number.de"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o==e.items_cnpj_destinatario.length-1,expression:"index == items_cnpj_destinatario.length - 1"}],attrs:{slot:"append",color:"blue"},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1),a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Recebedor (até)",required:"",value:t.ate,outlined:""},model:{value:t.ate,callback:function(a){e.$set(t,"ate",a)},expression:"number.ate"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o||!o&&e.items_cnpj_destinatario.length>1,expression:"\n                      index || (!index && items_cnpj_destinatario.length > 1)\n                    "}],attrs:{slot:"append-outer",color:"red"},on:{click:function(t){return e.inputRemoveField(o,"items_cnpj_destinatario")}},slot:"append-outer"},[e._v("mdi-minus-box-outline")])],1)],1)],1)})),1)],1),a("small",[e._v("Favor preencher com dados pertinentes ao campo.")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1"},on:{click:function(t){return e.close("items_cnpj_destinatario")}}},[e._v("Fechar Janela")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save("items_cnpj_destinatario")}}},[e._v("Salvar entradas")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog_cnpj_remetente,callback:function(t){e.dialog_cnpj_remetente=t},expression:"dialog_cnpj_remetente"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._t("default")],2)]),a("v-card-text",[a("v-container",[a("v-row",e._l(e.items_cnpj_remetente,(function(t,o){return a("v-row",{key:o},[a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Remetente (de)",required:"",value:t.de,outlined:""},on:{focus:function(t){return e.inputAddField(o,"items_cnpj_remetente")}},model:{value:t.de,callback:function(a){e.$set(t,"de",a)},expression:"number.de"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o==e.items_cnpj_remetente.length-1,expression:"index == items_cnpj_remetente.length - 1"}],attrs:{slot:"append",color:"blue"},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1),a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Remetente (até)",required:"",value:t.ate,outlined:""},model:{value:t.ate,callback:function(a){e.$set(t,"ate",a)},expression:"number.ate"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o||!o&&e.items_cnpj_destinatario.length>1,expression:"\n                            index || (!index && items_cnpj_destinatario.length > 1)\n                          "}],attrs:{slot:"append-outer",color:"red"},on:{click:function(t){return e.inputRemoveField(o,"items_cnpj_remetente")}},slot:"append-outer"},[e._v("mdi-minus-box-outline")])],1)],1)],1)})),1)],1),a("small",[e._v("Favor preencher com dados pertinentes ao campo.")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1"},on:{click:function(t){return e.close("items_cnpj_remetente")}}},[e._v("Fechar Janela")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save("items_cnpj_remetente")}}},[e._v("Salvar entradas")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog_cnpj_recebedor,callback:function(t){e.dialog_cnpj_recebedor=t},expression:"dialog_cnpj_recebedor"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._t("default")],2)]),a("v-card-text",[a("v-container",[a("v-row",e._l(e.items_cnpj_recebedor,(function(t,o){return a("v-row",{key:o},[a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Recebedor (de)",required:"",value:t.de,outlined:""},on:{focus:function(t){return e.inputAddField(o,"items_cnpj_recebedor")}},model:{value:t.de,callback:function(a){e.$set(t,"de",a)},expression:"number.de"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o==e.items_cnpj_recebedor.length-1,expression:"index == items_cnpj_recebedor.length - 1"}],attrs:{slot:"append",color:"blue"},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1),a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Recebedor (até)",required:"",value:t.ate,outlined:""},model:{value:t.ate,callback:function(a){e.$set(t,"ate",a)},expression:"number.ate"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o||!o&&e.items_cnpj_recebedor.length>1,expression:"\n                            index || (!index && items_cnpj_recebedor.length > 1)\n                          "}],attrs:{slot:"append-outer",color:"red"},on:{click:function(t){return e.inputRemoveField(o,"items_cnpj_recebedor")}},slot:"append-outer"},[e._v("mdi-minus-box-outline")])],1)],1)],1)})),1)],1),a("small",[e._v("Favor preencher com dados pertinentes ao campo.")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1"},on:{click:function(t){return e.close("items_cnpj_recebedor")}}},[e._v("Fechar Janela")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save("items_cnpj_recebedor")}}},[e._v("Salvar entradas")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog_cnpj_tomador,callback:function(t){e.dialog_cnpj_tomador=t},expression:"dialog_cnpj_tomador"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._t("default")],2)]),a("v-card-text",[a("v-container",[a("v-row",e._l(e.items_cnpj_tomador,(function(t,o){return a("v-row",{key:o},[a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Tomador (de)",required:"",value:t.de,outlined:""},on:{focus:function(t){return e.inputAddField(o,"items_cnpj_tomador")}},model:{value:t.de,callback:function(a){e.$set(t,"de",a)},expression:"number.de"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o==e.items_cnpj_tomador.length-1,expression:"index == items_cnpj_tomador.length - 1"}],attrs:{slot:"append",color:"blue"},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1),a("v-col",[a("v-text-field",{attrs:{label:"CNPJ Tomador (até)",required:"",value:t.ate,outlined:""},model:{value:t.ate,callback:function(a){e.$set(t,"ate",a)},expression:"number.ate"}},[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o||!o&&e.items_cnpj_tomador.length>1,expression:"\n                            index || (!index && items_cnpj_tomador.length > 1)\n                          "}],attrs:{slot:"append-outer",color:"red"},on:{click:function(t){return e.inputRemoveField(o,"items_cnpj_tomador")}},slot:"append-outer"},[e._v("mdi-minus-box-outline")])],1)],1)],1)})),1)],1),a("small",[e._v("Favor preencher com dados pertinentes ao campo.")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1"},on:{click:function(t){return e.close("items_cnpj_tomador")}}},[e._v("Fechar Janela")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save("items_cnpj_tomador")}}},[e._v("Salvar entradas")])],1)],1)],1)],1)}),S=[],E=(a("a434"),a("25f0"),a("ade3")),$={name:"NfeDialog",props:(o={dialog_chave44:Boolean,dialog_chavenf:Boolean,dialog_nfe_empresa:Boolean,dialog_nfe_cnpj_emissor:Boolean,dialog_nfe_cnpj_destinario:Boolean},Object(E["a"])(o,"dialog_nfe_empresa",Boolean),Object(E["a"])(o,"dialog_cnpj_remetente",Boolean),Object(E["a"])(o,"dialog_cnpj_recebedor",Boolean),Object(E["a"])(o,"dialog_cnpj_tomador",Boolean),Object(E["a"])(o,"props_chave44",String),Object(E["a"])(o,"props_chavenf",String),Object(E["a"])(o,"props_cnpj_emissor",String),Object(E["a"])(o,"props_cnpj_destinatario",String),Object(E["a"])(o,"props_cnpj_remetente",String),Object(E["a"])(o,"props_cnpj_recebedor",String),Object(E["a"])(o,"props_cnpj_tomador",String),o),data:function(){return{items_chave44:[{fieldname:""}],items_chavenf:[{fieldname:""}],items_empresa:[{fieldname:""}],items_cnpj_emissor:[{de:"",ate:""}],items_cnpj_destinatario:[{de:"",ate:""}],items_cnpj_remetente:[{de:"",ate:""}],items_cnpj_recebedor:[{de:"",ate:""}],items_cnpj_tomador:[{de:"",ate:""}]}},methods:{inputAddField:function(e,t){var a="";switch(t){case"items_chave44":try{a=this.items_chave44[e+1].fieldname.indexOf("")}catch(o){a="undefined"}"undefined"==a&&this.items_chave44.push({fieldname:""}),console.log(this.items_chave44);break;case"items_chavenf":try{a=this.items_chavenf[e+1].fieldname.indexOf("")}catch(o){a="undefined"}"undefined"==a&&this.items_chavenf.push({fieldname:""}),console.log(this.items_chavenf);break;case"items_cnpj_emissor":try{a=this.items_cnpj_emissor[e+1].de.indexOf("")}catch(o){a="undefined"}"undefined"==a&&this.items_cnpj_emissor.push({de:"",ate:""}),console.log("cnpj emissor>"+this.items_cnpj_emissor);break;case"items_cnpj_destinatario":try{a=this.items_cnpj_destinatario[e+1].de.indexOf("")}catch(o){a="undefined"}"undefined"==a&&this.items_cnpj_destinatario.push({de:"",ate:""}),console.log(this.items_cnpj_destinatario);break;case"items_cnpj_remetente":try{a=this.items_cnpj_remetente[e+1].de.indexOf("")}catch(o){a="undefined"}"undefined"==a&&this.items_cnpj_remetente.push({de:"",ate:""}),console.log(this.items_cnpj_remetente);break;case"items_cnpj_recebedor":try{a=this.items_cnpj_recebedor[e+1].de.indexOf("")}catch(o){a="undefined"}"undefined"==a&&this.items_cnpj_recebedor.push({de:"",ate:""}),console.log(this.items_cnpj_recebedor);break;case"items_cnpj_tomador":try{a=this.items_cnpj_tomador[e+1].de.indexOf("")}catch(o){a="undefined"}"undefined"==a&&this.items_cnpj_tomador.push({de:"",ate:""}),console.log(this.items_cnpj_tomador);break}},inputRemoveField:function(e,t){switch(t){case"items_chave44":this.items_chave44.splice(e,1);break;case"items_chavenf":this.items_chavenf.splice(e,1);break;case"items_cnpj_emissor":this.items_cnpj_emissor.splice(e,1);break;case"items_cnpj_destinatario":this.items_cnpj_destinatario.splice(e,1);break;case"items_cnpj_remetente":this.items_cnpj_remetente.splice(e,1);break;case"items_cnpj_recebedor":this.items_cnpj_recebedor.splice(e,1);break;case"items_cnpj_tomador":this.items_cnpj_tomador.splice(e,1);break}},save:function(e){switch(e){case"items_chave44":for(var t=this.items_chave44.length,a=0;a<t;a++)t>1&&""==this.items_chave44[a].fieldname.toString()&&(this.items_chave44.splice(a,1),console.log("chave44-remove:"+this.items_chave44.length));this.$store.dispatch("nfe_setChaves44",this.items_chave44),console.log(this.items_chave44),this.$emit("closemodal");break;case"items_chavenf":t=this.items_chavenf.length;for(var o=0;o<t;o++)t>1&&""==this.items_chavenf[o].fieldname.toString()&&(this.items_chavenf.splice(o,1),console.log("items_chavenf-remove:"+this.items_chavenf.length));this.$store.dispatch("nfe_setChavesNf",this.items_chavenf),console.log(this.items_chavenf),this.$emit("closemodal");break;case"items_cnpj_emissor":t=this.items_cnpj_emissor.length;for(var s=0;s<t;s++)t>1&&""==this.items_cnpj_emissor[s].de.toString()&&(this.items_cnpj_emissor.splice(s,1),console.log("items_cnpj_emissor-remove:"+this.items_cnpj_emissor.length));this.$store.dispatch("nfe_setNfeEmissor",this.items_cnpj_emissor),console.log(this.items_cnpj_emissor),this.$emit("closemodal");break;case"items_cnpj_destinatario":t=this.items_cnpj_destinatario.length;for(var n=0;n<t;n++)t>1&&""==this.items_cnpj_destinatario[n].de.toString()&&(this.items_cnpj_destinatario.splice(n,1),console.log("items_cnpj_emissor-remove:"+this.items_cnpj_destinatario.length));this.$store.dispatch("nfe_setNfeDestinatario",this.items_cnpj_destinatario),console.log("CNPJ DESTINATARIO>>"+this.items_cnpj_destinatario),this.$emit("closemodal");break;case"items_cnpj_remetente":t=this.items_cnpj_remetente.length;for(var r=0;r<t;r++)t>1&&""==this.items_cnpj_remetente[r].de.toString()&&(this.items_cnpj_remetente.splice(r,1),console.log("items_cnpj_remetente-remove:"+this.items_cnpj_remetente.length));this.$store.dispatch("nfe_setFiltrosCteRemCNPJ",this.items_cnpj_remetente),console.log("CNPJ rementente>>"),console.log(this.items_cnpj_remetente),this.$emit("closemodal");break;case"items_cnpj_recebedor":t=this.items_cnpj_recebedor.length;for(var i=0;i<t;i++)t>1&&""==this.items_cnpj_recebedor[i].de.toString()&&(this.items_cnpj_recebedor.splice(i,1),console.log("items_cnpj_recebedor-remove:"),console.log(this.items_cnpj_recebedor));this.$store.dispatch("nfe_setFiltrosCteRecebedorCnpj",this.items_cnpj_recebedor),console.log("CNPJ recebedor>>"),console.log(this.items_cnpj_recebedor),this.$emit("closemodal");break;case"items_cnpj_tomador":t=this.items_cnpj_tomador.length;for(var c=0;c<t;c++)t>1&&""==this.items_cnpj_tomador[c].de.toString()&&(this.items_cnpj_tomador.splice(c,1),console.log("items_cnpj_recebedor-remove:"+this.items_cnpj_tomador.length));this.$store.dispatch("nfe_setFiltrosCteTomadorCnpj",this.items_cnpj_tomador),console.log("CNPJ items_cnpj_tomador>>"),console.log(this.items_cnpj_tomador),this.$emit("closemodal");break}},close:function(e){switch(e){case"items_chave44":for(var t=this.items_chave44.length,a=0;a<t;a++)a>1&&""==this.items_chave44[a].fieldname.toString()&&this.items_chave44.splice(a,1);break;case"items_chavenf":t=this.items_chavenf.length;for(var o=0;o<t;o++)o>1&&""==this.items_chavenf[o].fieldname.toString()&&this.items_chavenf.splice(o,1);break;case"items_cnpj_emissor":t=this.items_cnpj_emissor.length;for(var s=0;s<t;s++)s>1&&""==this.items_cnpj_emissor[s].de.toString()&&this.items_cnpj_emissor.splice(s,1);break;case"items_cnpj_destinatario":t=this.items_cnpj_destinatario.length;for(var n=0;n<t;n++)n>1&&""==this.items_cnpj_destinatario[n].de.toString()&&this.items_cnpj_items_cnpj_destinatario.splice(n,1);break;case"items_cnpj_remetente":t=this.items_cnpj_remetente.length;for(var r=0;r<t;r++)r>1&&""==this.items_cnpj_remetente[r].de.toString()&&this.items_cnpj_remetente.splice(r,1);break;case"items_cnpj_recebedor":t=this.items_cnpj_recebedor.length;for(var i=0;i<t;i++)i>1&&""==this.items_cnpj_recebedor[i].de.toString()&&this.items_cnpj_recebedor.splice(i,1);break;case"items_cnpj_tomador":t=this.items_cnpj_tomador.length;for(var c=0;c<t;c++)c>1&&""==this.items_cnpj_tomador[c].de.toString()&&this.items_cnpj_tomador.splice(c,1);break}this.$emit("closemodal")}},watch:{props_chave44:function(e,t){this.items_chave44=this.$store.getters.nfe_getFiltrosChave44,console.log(e)},props_chavenf:function(e,t){this.items_chavenf=this.$store.getters.nfe_getFiltrosChaveNf,console.log(e)},props_cnpj_emissor:function(e,t){this.items_cnpj_emissor=this.$store.getters.nfe_getFiltrosNfeEmissor,console.log(e)},props_cnpj_destinatario:function(e,t){this.items_cnpj_destinatario=this.$store.getters.nfe_getFiltrosNfeDestinatario,console.log(e)},props_cnpj_remetente:function(e,t){this.items_cnpj_remetente=this.$store.getters.nfe_getFiltrosCteRemCNPJ,console.log(e)},props_cnpj_recebedor:function(e,t){this.items_cnpj_recebedor=this.$store.getters.nfe_getFiltrosCteRecebedorCnpj,console.log(e)},props_cnpj_tomador:function(e,t){this.items_cnpj_tomador=this.$store.getters.nfe_getFiltrosCteTomadorCnpj,console.log(e)}},mounted:function(){},beforeMount:function(){}},D=$,P=Object(l["a"])(D,F,S,!1,null,null,null),N=P.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data (De)",hint:"Formato YYYY-MM-DD","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date_b,callback:function(t){e.date_b=t},expression:"date_b"}},"v-text-field",s,!1),o))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1,e.setDateVuex()}},model:{value:e.date_b,callback:function(t){e.date_b=t},expression:"date_b"}})],1),a("p",[e._v("Data da Consulta: "),a("strong",[e._v(e._s(this.date_b))])])],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data (Até)",hint:"Formato YYYY-MM-DD","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date_e,callback:function(t){e.date_e=t},expression:"date_e"}},"v-text-field",s,!1),o))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu2=!1,e.setDateVuex()}},model:{value:e.date_e,callback:function(t){e.date_e=t},expression:"date_e"}})],1),a("p",[e._v("Data da Consulta: "),a("strong",[e._v(e._s(e.date_e))])])],1)],1)],1)},J=[],R=(a("4d90"),a("3835")),A={name:"CalendarSelect",data:function(e){return{date_b:(new Date).toISOString().substr(0,10),date_e:(new Date).toISOString().substr(0,10),dateFormatted:e.formatDate((new Date).toISOString().substr(0,10)),menu1:!1,menu2:!1}},computed:{computedDateFormatted_b:function(){return this.formatDate(this.date_b)},computedDateFormatted_e:function(){return this.formatDate(this.date_e)}},watch:{date_b:function(e){this.dateFormatted=this.formatDate(this.date_b)},date_e:function(e){this.dateFormatted=this.formatDate(this.date_e)}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(R["a"])(t,3),o=a[0],s=a[1],n=a[2];return"".concat(n,"/").concat(s,"/").concat(o)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(R["a"])(t,3),o=a[0],s=a[1],n=a[2];return"".concat(n,"-").concat(s.padStart(2,"0"),"-").concat(o.padStart(2,"0"))},setDateVuex:function(){this.$store.dispatch("nfe_setFiltrosDataInicioConsulta",this.date_b),this.$store.dispatch("nfe_setFiltrosDataFimConsulta",this.date_e),console.log("data> inicio:"+this.$store.getters.nfe_getFiltrosDataInicioConsulta+" / datafim:"+this.$store.getters.nfe_getFiltrosDataFimConsulta)}}},O=A,I=Object(l["a"])(O,T,J,!1,null,null,null),L=I.exports,q={components:{modal_nfe_dialog_chave44:N,modal_nfe_dialog_chavenf:N,modal_nfe_dialog_cnpj_emissor:N,modal_nfe_dialog_cnpj_destinatario:N,calendar_select:L},data:function(e){return{publicPath:"/",dialog_chave44:!1,dialog_chavenf:!1,dialog_nfe_cnpj_emissor:!1,dialog_nfe_cnpj_destinario:!1,dialog_nfe_empresa:!1,props_chave44:"",props_chavenf:"",props_cnpj_emissor:"",props_cnpj_destinatario:"",showTable:!1,showButton:!0,errors:[],opt_empresa:[],opt_value_empresa:[],dataInicio:"",dataFim:"",titulo_variante:"",desc_variante:"",job_return:{status:"",jobname:"",errorMsg:""},jobFinishRun:"false",jobSchedulerFinished:"",v_excelParam:!1,v_excelLoading:!0,v_fillExcelFields:!1,csv_rotate:"360",csv_size:100,csv_width:"15",csv_value:0,headers:[{text:"LINHA",value:"linha",align:"start"},{text:"CHAVE44",value:"chave44",align:"right"},{text:"NFNUM",value:"chavenf",align:"right"},{text:"CNPJ_EMISSOR",value:"cnpj_emissor_de",align:"right"},{text:"CNPJ_EMISSOR_ATE",value:"cnpj_emissor_ate",align:"right"},{text:"CNPJ_RECEBEDOR",value:"cnpj_recebedor_de",align:"right"},{text:"CNPJ_RECEBEDOR_ATE",value:"cnpj_recebedor_ate",align:"right"},{text:"DATA",value:"data_de",align:"right",sortable:!1},{text:"DATA_ATE",value:"data_ate",align:"right",sortable:!1},{text:"EMPRESA",value:"empresa",align:"right"}],values:[],errorValues:[],v_erroDescDump:""}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(e){return"Name"!==e}))}},watch:{},beforeMount:function(){this.fetchEmpresas()},methods:{checkForm:function(e){if(this.errors=[],""==this.titulo_variante&&this.errors.push('O campo "Titulo Consulta" é obrigatório.'),""==this.desc_variante&&this.errors.push('O campo "Descrição Consulta" é obrigatório.'),0==this.v_excelParam&&(""==this.$store.getters.nfe_getFiltrosDataInicioConsulta&&this.errors.push('O campo "Data Inicial (De)" é obrigatório.'),0==this.opt_value_empresa.length&&this.errors.push('O campo "Empresas" é obrigatório. Você precisa selecionar a empresa que irá realizar a consulta solicitada. ')),0==this.errors.length)return!0},fetchEmpresas:function(){var e=this,t=this.$host+"companies?$format=json";this.$http.get(t,{}).then((function(t){var a=[];t.data.d.results.forEach((function(t){a.push(t.bukrs),e.opt_value_empresa.push(t.bukrs)})),e.$store.dispatch("nfe_setEmpresas",a)})).catch((function(e){}))},analisarSolicitacao:function(){var e=this,t=this.checkForm();if(1==t){var a=this.$host+"searchDocuments";this.showButton=!1;var o=[],s=[],n=[],r=[],i=[],c=[],l="",d="";if(this.opt_value_empresa.length>0&&this.opt_value_empresa.forEach((function(e){i.push({bukrs:e})})),1!=this.v_excelParam&&(this.$store.getters.nfe_getFiltrosChave44.length>0&&this.$store.getters.nfe_getFiltrosChave44.forEach((function(e){o.push({id:e.fieldname})})),this.$store.getters.nfe_getFiltrosChaveNf.length>0&&this.$store.getters.nfe_getFiltrosChaveNf.forEach((function(e){s.push({ide_nnf:e.fieldname})})),this.$store.getters.nfe_getFiltrosNfeEmissor.length>0&&this.$store.getters.nfe_getFiltrosNfeEmissor.forEach((function(e){n.push({de:e.de,ate:e.ate})})),this.$store.getters.nfe_getFiltrosNfeDestinatario.length>0&&this.$store.getters.nfe_getFiltrosNfeDestinatario.forEach((function(e){r.push({de:e.de,ate:e.ate})}))),1==this.v_excelParam){var _=[];this.values.forEach((function(e){e.chave44.length>0&&o.push({id:e.chave44}),e.chavenf.length>0&&s.push({ide_nnf:e.chavenf}),e.cnpj_emissor_de.length>0&&n.push({de:e.cnpj_emissor_de,ate:e.cnpj_emissor_ate}),e.cnpj_recebedor_de.length>0&&r.push({de:e.cnpj_recebedor_de,ate:e.cnpj_recebedor_ate}),l={inicial:e.data_de,final:e.data_ate},c.push({bukrs:e.empresa.replace("\r","")}),""==e.empresa.trim()&&(c=i),_.push({chave:o,nnfes:s,emit_cnpj:n,dest_cnpj:r,empresas:c,data:l}),o=[],s=[],n=[],r=[],l="",c=[]})),d={title:this.titulo_variante,desc:this.desc_variante,docType:"nfeout",filtros:_}}else d={title:this.titulo_variante,desc:this.desc_variante,docType:"nfeout",filtros:[{chave:o,nnfes:s,emit_cnpj:n,dest_cnpj:r,empresas:i,data:{inicial:this.$store.getters.nfe_getFiltrosDataInicioConsulta,final:this.$store.getters.nfe_getFiltrosDataFimConsulta}}]};d=JSON.stringify(d),d={json:d},this.$http.post(a,d,{headers:{"x-csrf-token":this.$store.getters.nfe_getCsrfToken,"Content-Type":"application/json"}}).then((function(t){e.job_return=JSON.parse(t.data.d.json),e.showTable=!0,e.buscaRetornoSchedulerSolicitacao(e.job_return.status,e.job_return.jobname)})).catch((function(t){e.showButton=!0}))}},buscaRetornoSchedulerSolicitacao:function(e,t){var a=this;if("S"==e){var o,s=5e3,n=43200,r=0;setTimeout((function(){}),s),o=setInterval((function(){n<=r?clearInterval(o):(a.api_buscaStatusJobScheduler(t),"true"==a.jobFinishRun&&(a.jobSchedulerFinished=!0,clearInterval(o))),r++}),1e4)}},api_buscaStatusJobScheduler:function(e){var t=this,a=this.$host+"/jobs('".concat(e,"')?$format=json");this.$http.get(a,{}).then((function(e){"B"==e.data.d.status?t.jobFinishRun="true":"E"==e.data.d.status&&(t.jobFinishRun="true",t.v_erroDescDump=e.data.d.error_desc)})).catch((function(e){t.jobFinishRun="False"}))},api_buscaDetalhesJobScheduler:function(e){var t=this.$host+"/jobHeaders(jobname='".concat(e,"',company='*')?$expand=navJobHeaderToJobHeaders,navJobHeadersToJobFilters&$format=json");this.$http.get(t,{}).then((function(e){return!0})).catch((function(e){return!1}))},uploadCSV:function(e){var t=this;setTimeout((function(){var a=t,o=[],s=[],n=[],r=[];t.initialState();var i=new FileReader,c=[];i.onload=function(){a.v_excelParam=!0;i.result;for(var e=i.result.split("\n"),t=0;t<e.length;t++)e[t]=e[t].replace("\r",""),e[t]=e[t].replace("'",""),c.push(e[t].split(";"));c.shift();var l=1,d=!1;c.forEach((function(e){"","";try{if(e.length<8||e.length>10)throw error;if(""!=e[0].trim()&&(o.push({fieldname:e[0]}),d=!0),""!=e[1].trim()&&(s.push({fieldname:e[1]}),d=!0),""!=e[2].trim()&&(n.push({de:e[2],ate:e[3]}),(""!=e[3]?"-":"")+e[3],d=!0),""!=e[4].trim()&&(r.push({de:e[4],ate:e[5]}),(""!=e[5]?"-":"")+e[5],d=!0),""!=e[6].trim()){e[6]=e[6].substr(0,10);e[7],e[7].substr(0,10);d=!0}if(""!=e[8].trim()){e[8];d=!0}if(1!=d)throw error;a.values.push({linha:"".concat(l),chave44:"".concat(e[0]),chavenf:"".concat(e[1]),cnpj_emissor_de:"".concat(e[2]),cnpj_emissor_ate:"".concat(e[3]),cnpj_recebedor_de:"".concat(e[4]),cnpj_recebedor_ate:"".concat(e[5]),data_de:"".concat(e[6]),data_ate:"".concat(e[7]),empresa:"".concat(e[8])})}catch(error){a.errorValues.push({linha:"".concat(l),chave44:"".concat(e[0]),chavenf:"".concat(e[1]),cnpj_emissor_de:"".concat(e[2]),cnpj_emissor_ate:"".concat(e[3]),cnpj_recebedor_de:"".concat(e[4]),cnpj_recebedor_ate:"".concat(e[5]),data_de:"".concat(e[6]),data_ate:"".concat(e[7]),empresa:"".concat(e[8])})}l++,d=!1})),s.length>0&&(a.$store.dispatch("nfe_setChavesNf",s),a.props_chavenf="chavenf_on"),o.length>0&&(a.$store.dispatch("nfe_setChaves44",o),a.props_chave44="chave44_on"),n.length>0&&(a.props_cnpj_emissor="emissor_on",a.$store.dispatch("nfe_setNfeEmissor",n)),r.length>0&&(a.props_cnpj_destinatario="destinatario_on",a.$store.dispatch("nfe_setNfeDestinatario",r)),a.v_excelLoading=!1,a.v_fillExcelFields=!1},i.onabort=function(){console.log("abort event"),a.initialState(),a.v_excelLoading=!1,a.v_fillExcelFields=!1},i.onloadend=function(){console.log("loadend event"),a.v_excelLoading=!1,a.v_fillExcelFields=!1};try{i.readAsText(e[0])}catch(error){console.log(error),a.initialState(),a.v_fillExcelFields=!1,a.v_excelLoading=!1}}),2e3)},companyCheckOption:function(e){this.opt_value_empresa=""!=e?this.$store.getters.nfe_getFiltrosEmpresa:[]},initialState:function(e){this.dialog_chave44=!1,this.dialog_chavenf=!1,this.dialog_nfe_cnpj_emissor=!1,this.dialog_nfe_cnpj_destinario=!1,this.dialog_nfe_empresa=!1,this.props_chave44="",this.props_chavenf="",this.props_cnpj_emissor="",this.props_cnpj_destinatario="",this.showTable=!1,this.v_excelParam=!1,this.opt_value_empresa=this.opt_empresa,this.values=[],this.errorValues=[],this.dataInicio="",this.dataFim="",this.titulo_variante="",this.desc_variante="",this.job_return.status="",this.job_return.jobname="",this.job_return.errorMsg="",this.$store.dispatch("nfe_setNfeDestinatario",""),this.$store.dispatch("nfe_setNfeEmissor",""),this.$store.dispatch("nfe_setChaves44",""),this.$store.dispatch("nfe_setChavesNf",""),this.$store.dispatch("nfe_setFiltrosDataInicioConsulta",""),this.$store.dispatch("nfe_setFiltrosDataFimConsulta",""),""!=e&&(this.opt_empresa=[])},showConsole:function(){},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e}},mounted:function(){this.initialState()}},M=q,B=(a("1053"),Object(l["a"])(M,y,w,!1,null,"1820b798",null)),H=B.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{color:"grey darken-3",extended:"",flat:""}}),a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"-64px"},attrs:{"max-width":"90%"},scopedSlots:e._u([{key:"footer",fn:function(){return[a("v-toolbar",{staticClass:"mt-2",attrs:{color:"indigo",dark:"",flat:""}},[a("v-toolbar-title",{staticClass:"subheading"},[e._v("This is a footer")])],1)]},proxy:!0}])},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"black--text"},[e._v("NFE ENTRADA")]),a("v-icon",{attrs:{right:""},on:{click:function(t){return e.initialState("company")}}},[e._v("mdi-dots-vertical")])],1),a("v-divider"),a("v-row",{staticStyle:{width:"100%",align:"center"}},[a("v-col",{attrs:{md:"1"}}),a("v-col",{attrs:{md:"4"}},[a("p",[e._v("Inserir via arquivo CSV: Para fazer a solicitação via arquivo CSV, é necessário fazer o upload com base no template de arquivos. "),a("br"),e._v("Para fazer o download do template "),a("a",{attrs:{href:"/sap/bc/ui5_ui5/sap/y5nfedown_serv/files/TEMPLATE_NFE_CSV.csv"}},[e._v(" Clique Aqui "),a("v-icon",[e._v("mdi-file-excel")])],1)])]),a("v-col",[a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"CARREGAR CSV"},on:{change:function(t){e.v_fillExcelFields=!0,e.uploadCSV(t)}}})],1)],1),0==e.v_excelParam?a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-form",[a("v-container",[a("v-row",[a("v-col",[this.$store.getters.nfe_getFiltrosChave44.length>=1?a("v-text-field",{attrs:{label:"Chave 44 Digitos",value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosChave44.length,readonly:"",outlined:""},on:{click:function(t){e.dialog_chave44=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_chave44=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e(),this.$store.getters.nfe_getFiltrosChave44.length<1?a("v-text-field",{attrs:{label:"Chave 44 Digitos",required:"",outlined:""},on:{click:function(t){e.dialog_chave44=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_chave44=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e()],1),a("v-col",[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters.nfe_getFiltrosChaveNf.length>=1,expression:"this.$store.getters.nfe_getFiltrosChaveNf.length >= 1"}],attrs:{label:"Número da Nota Fiscal",value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosChaveNf.length,readonly:"",outlined:""},on:{click:function(t){e.dialog_chavenf=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_chavenf=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1),this.$store.getters.nfe_getFiltrosChaveNf.length<1?a("v-text-field",{attrs:{label:"Número da Nota Fiscal",required:"",outlined:""},on:{click:function(t){e.dialog_chavenf=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_chavenf=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e()],1),a("v-col",{staticStyle:{align:"right","text-align":"right"},attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:"",color:"green"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("markALL")}}},[e._v("mdi-checkbox-multiple-marked-outline")])],1),a("v-btn",{attrs:{icon:"",color:"gray"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("")}}},[e._v("mdi-checkbox-multiple-blank-outline")])],1)],1),a("v-col",[a("v-select",{attrs:{"small-chips":"",items:this.$store.getters.nfe_getFiltrosEmpresa,chips:"",label:"Empresas",multiple:"",outlined:""},scopedSlots:e._u([{key:"selection",fn:function(t){var o=t.item,s=t.index;return[0===s?a("v-chip",{attrs:{small:""}},[e._v(" "+e._s(o)+" ")]):e._e(),1===s?a("span",{staticClass:"grey--text caption"},[e._v(" (+"+e._s(e.opt_value_empresa.length-1)+" selecionados) ")]):e._e()]}}],null,!1,3411563518),model:{value:e.opt_value_empresa,callback:function(t){e.opt_value_empresa=t},expression:"opt_value_empresa"}})],1)],1),a("v-row",[this.$store.getters.nfe_getFiltrosNfeEmissor.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ EMISSOR",required:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeEmissor.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosNfeEmissor.length,label:"CNPJ EMISSOR",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeDestinatario.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ RECEBEDOR",required:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeDestinatario.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosNfeDestinatario.length,label:"CNPJ RECEBEDOR",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e()],1),a("calendar_select")],1)],1)],1)],1):a("v-card",[a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},[a("div",[a("v-row",[a("v-col",{staticStyle:{align:"right","text-align":"right"},attrs:{cols:"2"}},[a("v-btn",{attrs:{icon:"",color:"green"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("markALL")}}},[e._v("mdi-checkbox-multiple-marked-outline")])],1),a("v-btn",{attrs:{icon:"",color:"gray"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("")}}},[e._v("mdi-checkbox-multiple-blank-outline")])],1)],1),a("v-col",[a("v-select",{attrs:{"small-chips":"",items:this.$store.getters.nfe_getFiltrosEmpresa,chips:"",label:"Empresas",multiple:"",outlined:""},scopedSlots:e._u([{key:"selection",fn:function(t){var o=t.item,s=t.index;return[0===s?a("v-chip",{attrs:{small:""}},[e._v(" "+e._s(o)+" ")]):e._e(),1===s?a("span",{staticClass:"grey--text caption"},[e._v(" (+"+e._s(e.opt_value_empresa.length-1)+" selecionados) ")]):e._e()]}}]),model:{value:e.opt_value_empresa,callback:function(t){e.opt_value_empresa=t},expression:"opt_value_empresa"}})],1)],1)],1)]),a("v-chip",{attrs:{color:"green","text-color":"white"}},[e._v(" Itens carregados corretamente: ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.values,"items-per-page":10,loading:e.v_excelLoading,"loading-text":"Carregando dados do arquivo, por favor, aguarde..."}}),a("v-chip",{attrs:{color:"red","text-color":"white"}},[e._v(" Itens com problemas no carregamento (ajuste no CSV e importe novamente): ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.errorValues,"items-per-page":10,loading:e.v_excelLoading,"loading-text":"Carregando dados do arquivo, por favor, aguarde..."}})],1),a("v-divider",{staticStyle:{width:"100%",display:"flex",align:"center",padding:"5px"}}),a("v-card",{staticStyle:{width:"100%",display:"flex",padding:"30px","justify-content":"center"},attrs:{elevation:"0"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"* Titulo Consulta ",required:"",outlined:""},model:{value:e.titulo_variante,callback:function(t){e.titulo_variante=t},expression:"titulo_variante"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"* Descrição Consulta ",required:"",outlined:""},model:{value:e.desc_variante,callback:function(t){e.desc_variante=t},expression:"desc_variante"}})],1)],1)],1),a("div",{staticStyle:{width:"100%",display:"flex",padding:"30px","justify-content":"center"}},[0==e.showButton?a("v-btn",{attrs:{"x-large":"",color:"primary",width:"80%",disabled:""}},[e._v("ANALISAR SOLICITAÇÃO")]):a("v-btn",{attrs:{"x-large":"",color:"primary",width:"80%"},on:{click:function(t){return e.analisarSolicitacao()}}},[e._v("ANALISAR SOLICITAÇÃO")])],1),e.errors.length?a("v-container",e._l(e.errors,(function(t,o){return a("v-row",{key:o,attrs:{"align-content":"center",justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"error"}},[e._v(e._s(t))])],1)],1)})),1):e._e(),e.showTable?a("v-container",[a("v-row",{attrs:{"align-content":"center",justify:"center"}},[a("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[a("div",["S"==e.job_return.status?a("v-alert",{attrs:{dense:"",type:"info"}},[e._v(' Serviço schedulado com sucesso. Em análise sob o job de verificação para "'+e._s(this.titulo_variante)+'"" ')]):e._e(),"S"!=e.job_return.status?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" Um erro ocorreu ao schedular o seu serviço. Tente novamente, se o problema persistir, abra um chamado. "+e._s(e.job_return.jobname)+" ErrorDetail: "+e._s(e.job_return.errorMsg)+" "),a("br"),e._v(" "+e._s(this.v_erroDescDump)+" ")]):e._e()],1)]),1!=e.jobSchedulerFinished?a("v-col",{attrs:{cols:"6"}},[a("v-progress-linear",{attrs:{color:"blue darken-4",indeterminate:"",rounded:"",height:"6"}})],1):a("v-col",{attrs:{cols:"6"}},[a("p"),a("div",[a("v-alert",{attrs:{type:"success"}},[e._v(" Análise realizada com sucesso. "),a("router-link",{attrs:{to:{path:"/details/"+this.job_return.jobname}}},[e._v("Clique Aqui")]),e._v(" para ver o resultado. ")],1)],1)])],1)],1):e._e()],1)],1),a("modal_nfe_dialog_chave44",{attrs:{dialog_chave44:e.dialog_chave44,props_chave44:e.props_chave44},on:{closemodal:function(t){e.dialog_chave44=!1}}},[e._v("Inserir Chave NFe 44 Digitos ")]),a("modal_nfe_dialog_chavenf",{attrs:{dialog_chavenf:e.dialog_chavenf,props_chavenf:e.props_chavenf},on:{closemodal:function(t){e.dialog_chavenf=!1}}},[e._v("Inserir Chave NFe ")]),a("modal_nfe_dialog_cnpj_emissor",{attrs:{dialog_nfe_cnpj_emissor:e.dialog_nfe_cnpj_emissor,props_cnpj_emissor:e.props_cnpj_emissor},on:{closemodal:function(t){e.dialog_nfe_cnpj_emissor=!1}}},[e._v("Inserir CNPJ Emissor ")]),a("modal_nfe_dialog_cnpj_destinatario",{attrs:{dialog_nfe_cnpj_destinario:e.dialog_nfe_cnpj_destinario,props_cnpj_destinatario:e.props_cnpj_destinatario},on:{closemodal:function(t){e.dialog_nfe_cnpj_destinario=!1}}},[e._v("Inserir CNPJ Destinatario ")]),a("v-dialog",{attrs:{persistent:""},model:{value:e.v_fillExcelFields,callback:function(t){e.v_fillExcelFields=t},expression:"v_fillExcelFields"}},[a("v-row",{attrs:{justify:"center","align-content":"center","no-gutters":""}},[a("v-card",{staticClass:"mx-auto my-12",attrs:{elevation:"0"}},[a("v-card-subtitle",{staticStyle:{align:"center"}},[e._v("Carregando. Isso pode demorar dependendo da quantidade de registros no documento.")]),a("div",{staticStyle:{"text-align":"center"}},[a("v-progress-circular",{attrs:{size:"100",width:"10",color:"primary",indeterminate:""}})],1)],1)],1)],1)],1)},z=[],G={components:{modal_nfe_dialog_chave44:N,modal_nfe_dialog_chavenf:N,modal_nfe_dialog_cnpj_emissor:N,modal_nfe_dialog_cnpj_destinatario:N,calendar_select:L},data:function(e){return{publicPath:"/",dialog_chave44:!1,dialog_chavenf:!1,dialog_nfe_cnpj_emissor:!1,dialog_nfe_cnpj_destinario:!1,dialog_nfe_empresa:!1,props_chave44:"",props_chavenf:"",props_cnpj_emissor:"",props_cnpj_destinatario:"",showTable:!1,showButton:!0,errors:[],opt_empresa:[],opt_value_empresa:[],dataInicio:"",dataFim:"",titulo_variante:"",desc_variante:"",job_return:{status:"",jobname:"",errorMsg:""},jobFinishRun:"false",jobSchedulerFinished:"",v_excelParam:!1,v_excelLoading:!0,v_fillExcelFields:!1,csv_rotate:"360",csv_size:100,csv_width:"15",csv_value:0,headers:[{text:"LINHA",value:"linha",align:"start"},{text:"CHAVE44",value:"chave44",align:"right"},{text:"NFNUM",value:"chavenf",align:"right"},{text:"CNPJ_EMISSOR",value:"cnpj_emissor_de",align:"right"},{text:"CNPJ_EMISSOR_ATE",value:"cnpj_emissor_ate",align:"right"},{text:"CNPJ_RECEBEDOR",value:"cnpj_recebedor_de",align:"right"},{text:"CNPJ_RECEBEDOR_ATE",value:"cnpj_recebedor_ate",align:"right"},{text:"DATA",value:"data_de",align:"right",sortable:!1},{text:"DATA_ATE",value:"data_ate",align:"right",sortable:!1},{text:"EMPRESA",value:"empresa",align:"right"}],values:[],errorValues:[],v_erroDescDump:""}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(e){return"Name"!==e}))}},watch:{},beforeMount:function(){this.fetchEmpresas()},methods:{checkForm:function(e){if(this.errors=[],""==this.titulo_variante&&this.errors.push('O campo "Titulo Consulta" é obrigatório.'),""==this.desc_variante&&this.errors.push('O campo "Descrição Consulta" é obrigatório.'),0==this.v_excelParam&&(""==this.$store.getters.nfe_getFiltrosDataInicioConsulta&&this.errors.push('O campo "Data Inicial (De)" é obrigatório.'),0==this.opt_value_empresa.length&&this.errors.push('O campo "Empresas" é obrigatório. Você precisa selecionar a empresa que irá realizar a consulta solicitada.')),0==this.errors.length)return!0},fetchEmpresas:function(){var e=this,t=this.$host+"companies?$format=json";this.$http.get(t,{}).then((function(t){var a=[];t.data.d.results.forEach((function(t){a.push(t.bukrs),e.opt_value_empresa.push(t.bukrs)})),e.$store.dispatch("nfe_setEmpresas",a)})).catch((function(e){}))},analisarSolicitacao:function(){var e=this,t=this.checkForm();if(1==t){var a=this.$host+"searchDocuments";this.showButton=!1;var o=[],s=[],n=[],r=[],i=[],c=[],l="",d="";if(this.opt_value_empresa.length>0&&this.opt_value_empresa.forEach((function(e){i.push({bukrs:e})})),1!=this.v_excelParam&&(this.$store.getters.nfe_getFiltrosChave44.length>0&&this.$store.getters.nfe_getFiltrosChave44.forEach((function(e){o.push({id:e.fieldname})})),this.$store.getters.nfe_getFiltrosChaveNf.length>0&&this.$store.getters.nfe_getFiltrosChaveNf.forEach((function(e){s.push({ide_nnf:e.fieldname})})),this.$store.getters.nfe_getFiltrosNfeEmissor.length>0&&this.$store.getters.nfe_getFiltrosNfeEmissor.forEach((function(e){n.push({de:e.de,ate:e.ate})})),this.$store.getters.nfe_getFiltrosNfeDestinatario.length>0&&this.$store.getters.nfe_getFiltrosNfeDestinatario.forEach((function(e){r.push({de:e.de,ate:e.ate})}))),1==this.v_excelParam){var _=[];this.values.forEach((function(e){e.chave44.length>0&&o.push({id:e.chave44}),e.chavenf.length>0&&s.push({ide_nnf:e.chavenf}),e.cnpj_emissor_de.length>0&&n.push({de:e.cnpj_emissor_de,ate:e.cnpj_emissor_ate}),e.cnpj_recebedor_de.length>0&&r.push({de:e.cnpj_recebedor_de,ate:e.cnpj_recebedor_ate}),l={inicial:e.data_de,final:e.data_ate},c.push({bukrs:e.empresa.replace("\r","")}),""==e.empresa.trim()&&(c=i),_.push({chave:o,nnfes:s,emit_cnpj:n,dest_cnpj:r,empresas:c,data:l}),o=[],s=[],n=[],r=[],l="",c=[]})),d={title:this.titulo_variante,desc:this.desc_variante,docType:"nfein",filtros:_}}else d={title:this.titulo_variante,desc:this.desc_variante,docType:"nfein",filtros:[{chave:o,nnfes:s,emit_cnpj:n,dest_cnpj:r,empresas:i,data:{inicial:this.$store.getters.nfe_getFiltrosDataInicioConsulta,final:this.$store.getters.nfe_getFiltrosDataFimConsulta}}]};d=JSON.stringify(d),d={json:d},this.$http.post(a,d,{headers:{"x-csrf-token":this.$store.getters.nfe_getCsrfToken,"Content-Type":"application/json"}}).then((function(t){e.job_return=JSON.parse(t.data.d.json),e.showTable=!0,e.buscaRetornoSchedulerSolicitacao(e.job_return.status,e.job_return.jobname)})).catch((function(t){e.showButton=!0}))}},buscaRetornoSchedulerSolicitacao:function(e,t){var a=this;if("S"==e){var o,s=5e3,n=43200,r=0;setTimeout((function(){}),s),o=setInterval((function(){n<=r?clearInterval(o):(a.api_buscaStatusJobScheduler(t),"true"==a.jobFinishRun&&(a.jobSchedulerFinished=!0,clearInterval(o))),r++}),1e4)}},api_buscaStatusJobScheduler:function(e){var t=this,a=this.$host+"/jobs('".concat(e,"')?$format=json");this.$http.get(a,{}).then((function(e){"B"==e.data.d.status?t.jobFinishRun="true":"E"==e.data.d.status&&(t.jobFinishRun="true",t.v_erroDescDump=e.data.d.error_desc)})).catch((function(e){t.jobFinishRun="False"}))},api_buscaDetalhesJobScheduler:function(e){var t=this.$host+"/jobHeaders(jobname='".concat(e,"',company='*')?$expand=navJobHeaderToJobHeaders,navJobHeadersToJobFilters&$format=json");this.$http.get(t,{}).then((function(e){return!0})).catch((function(e){return!1}))},uploadCSV:function(e){var t=this;setTimeout((function(){var a=t,o=[],s=[],n=[],r=[];t.initialState();var i=new FileReader,c=[];i.onload=function(){a.v_excelParam=!0;i.result;for(var e=i.result.split("\n"),t=0;t<e.length;t++)e[t]=e[t].replace("\r",""),e[t]=e[t].replace("'",""),c.push(e[t].split(";"));c.shift();var l=1,d=!1;c.forEach((function(e){"","";try{if(e.length<8||e.length>10)throw error;if(""!=e[0].trim()&&(o.push({fieldname:e[0]}),d=!0),""!=e[1].trim()&&(s.push({fieldname:e[1]}),d=!0),""!=e[2]&&(n.push({de:e[2],ate:e[3]}),(""!=e[3]?"-":"")+e[3],d=!0),""!=e[4]&&(r.push({de:e[4],ate:e[5]}),(""!=e[5]?"-":"")+e[5],d=!0),""!=e[6]){e[6]=e[6].substr(0,10);e[7],e[7].substr(0,10);d=!0}if(""!=e[8].trim()){e[8];d=!0}if(1!=d)throw error;a.values.push({linha:"".concat(l),chave44:"".concat(e[0]),chavenf:"".concat(e[1]),cnpj_emissor_de:"".concat(e[2]),cnpj_emissor_ate:"".concat(e[3]),cnpj_recebedor_de:"".concat(e[4]),cnpj_recebedor_ate:"".concat(e[5]),data_de:"".concat(e[6]),data_ate:"".concat(e[7]),empresa:"".concat(e[8])})}catch(error){a.errorValues.push({linha:"".concat(l),chavenf:"".concat(e[0]),chave44:"".concat(e[1]),cnpj_emissor_de:"".concat(e[2]),cnpj_emissor_ate:"".concat(e[3]),cnpj_recebedor_de:"".concat(e[4]),cnpj_recebedor_ate:"".concat(e[5]),data_de:"".concat(e[6]),data_ate:"".concat(e[7]),empresa:"".concat(e[8])})}l++,d=!1})),s.length>0&&(a.$store.dispatch("nfe_setChavesNf",s),a.props_chavenf="chavenf_on"),o.length>0&&(a.$store.dispatch("nfe_setChaves44",o),a.props_chave44="chave44_on"),n.length>0&&(a.props_cnpj_emissor="emissor_on",a.$store.dispatch("nfe_setNfeEmissor",n)),r.length>0&&(a.props_cnpj_destinatario="destinatario_on",a.$store.dispatch("nfe_setNfeDestinatario",r)),a.v_excelLoading=!1,a.v_fillExcelFields=!1},i.onabort=function(){console.log("abort event"),a.initialState(),a.v_excelLoading=!1,a.v_fillExcelFields=!1},i.onloadend=function(){console.log("loadend event"),a.v_excelLoading=!1,a.v_fillExcelFields=!1};try{i.readAsText(e[0])}catch(error){console.log(error),a.initialState(),a.v_fillExcelFields=!1,a.v_excelLoading=!1}}),2e3)},companyCheckOption:function(e){this.opt_value_empresa=""!=e?this.$store.getters.nfe_getFiltrosEmpresa:[]},initialState:function(e){this.dialog_chave44=!1,this.dialog_chavenf=!1,this.dialog_nfe_cnpj_emissor=!1,this.dialog_nfe_cnpj_destinario=!1,this.dialog_nfe_empresa=!1,this.props_chave44="",this.props_chavenf="",this.props_cnpj_emissor="",this.props_cnpj_destinatario="",this.showTable=!1,this.v_excelParam=!1,this.opt_value_empresa=this.opt_empresa,this.values=[],this.errorValues=[],this.dataInicio="",this.dataFim="",this.titulo_variante="",this.desc_variante="",this.job_return.status="",this.job_return.jobname="",this.job_return.errorMsg="",this.$store.dispatch("nfe_setNfeDestinatario",""),this.$store.dispatch("nfe_setNfeEmissor",""),this.$store.dispatch("nfe_setChaves44",""),this.$store.dispatch("nfe_setChavesNf",""),this.$store.dispatch("nfe_setFiltrosDataInicioConsulta",""),this.$store.dispatch("nfe_setFiltrosDataFimConsulta",""),""!=e&&(this.opt_empresa=[])},showConsole:function(){},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e}},mounted:function(){this.initialState()}},U=G,Y=(a("21a7"),Object(l["a"])(U,V,z,!1,null,"dfd14b42",null)),W=Y.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{color:"grey darken-3",extended:"",flat:""}}),a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"-64px"},attrs:{"max-width":"100%"},scopedSlots:e._u([{key:"footer",fn:function(){return[a("v-toolbar",{staticClass:"mt-2",attrs:{color:"indigo",dark:"",flat:""}},[a("v-toolbar-title",{staticClass:"subheading"},[e._v("This is a footer")])],1)]},proxy:!0}])},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"black--text"},[e._v("CTE ENTRADA")]),a("v-icon",{attrs:{right:""},on:{click:function(t){return e.initialState("company")}}},[e._v("mdi-dots-vertical")])],1),a("v-divider"),a("v-row",{staticStyle:{width:"100%",align:"center"}},[a("v-col",{attrs:{md:"1"}}),a("v-col",{attrs:{md:"4"}},[a("p",[e._v("Inserir via arquivo CSV: Para fazer a solicitação via arquivo CSV, é necessário fazer o upload com base no template de arquivos. "),a("br"),e._v("Para fazer o download do template "),a("a",{attrs:{href:"/sap/bc/ui5_ui5/sap/y5nfedown_serv/files/TEMPLATE_CTE_CSV.csv"}},[e._v(" Clique Aqui "),a("v-icon",[e._v("mdi-file-excel")])],1)])]),a("v-col",[a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"CARREGAR CSV"},on:{change:function(t){e.v_fillExcelFields=!0,e.uploadCSV(t)}}})],1)],1),0==e.v_excelParam?a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-form",[a("v-container",[a("v-row",[a("v-col",[this.$store.getters.nfe_getFiltrosChave44.length>=1?a("v-text-field",{attrs:{label:"Chave 44 Digitos",value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosChave44.length,readonly:"",outlined:""},on:{click:function(t){e.dialog_chave44=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_chave44=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e(),this.$store.getters.nfe_getFiltrosChave44.length<1?a("v-text-field",{attrs:{label:"Chave 44 Digitos",required:"",outlined:""},on:{click:function(t){e.dialog_chave44=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_chave44=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e()],1),a("v-col",[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters.nfe_getFiltrosChaveNf.length>=1,expression:"this.$store.getters.nfe_getFiltrosChaveNf.length >= 1"}],attrs:{label:"Número da Nota CTE",value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosChaveNf.length,readonly:"",outlined:""},on:{click:function(t){e.dialog_chavenf=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_chavenf=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1),this.$store.getters.nfe_getFiltrosChaveNf.length<1?a("v-text-field",{attrs:{label:"Número da Nota CTE",required:"",outlined:""},on:{click:function(t){e.dialog_chavenf=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_chavenf=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1):e._e()],1),a("v-col",{staticStyle:{align:"right","text-align":"right"},attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:"",color:"green"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("markALL")}}},[e._v("mdi-checkbox-multiple-marked-outline")])],1),a("v-btn",{attrs:{icon:"",color:"gray"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("")}}},[e._v("mdi-checkbox-multiple-blank-outline")])],1)],1),a("v-col",[a("v-select",{attrs:{"small-chips":"",items:this.$store.getters.nfe_getFiltrosEmpresa,chips:"",label:"Empresas",multiple:"",outlined:""},scopedSlots:e._u([{key:"selection",fn:function(t){var o=t.item,s=t.index;return[0===s?a("v-chip",{attrs:{small:""}},[e._v(" "+e._s(o)+" ")]):e._e(),1===s?a("span",{staticClass:"grey--text caption"},[e._v(" (+"+e._s(e.opt_value_empresa.length-1)+" selecionados) ")]):e._e()]}}],null,!1,3411563518),model:{value:e.opt_value_empresa,callback:function(t){e.opt_value_empresa=t},expression:"opt_value_empresa"}})],1)],1),a("v-row",[this.$store.getters.nfe_getFiltrosNfeEmissor.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ EMISSOR",required:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeEmissor.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosNfeEmissor.length,label:"CNPJ EMISSOR",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_nfe_cnpj_emissor=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeDestinatario.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ DESTINATARIO",required:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosNfeDestinatario.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosNfeDestinatario.length,label:"CNPJ DESTINATARIO",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_nfe_cnpj_destinario=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e()],1),a("v-row",[this.$store.getters.nfe_getFiltrosCteRemCNPJ.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ REMETENTE",required:"",outlined:""},on:{click:function(t){e.dialog_cnpj_remetente=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_cnpj_remetente=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosCteRemCNPJ.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosCteRemCNPJ.length,label:"CNPJ REMETENTE",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_cnpj_remetente=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_cnpj_remetente=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosCteRecebedorCnpj.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ RECEBEDOR",required:"",outlined:""},on:{click:function(t){e.dialog_cnpj_recebedor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_cnpj_remetente=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosCteRecebedorCnpj.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosCteRecebedorCnpj.length,label:"CNPJ RECEBEDOR",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_cnpj_recebedor=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_cnpj_recebedor=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosCteTomadorCnpj.length<1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"CNPJ TOMADOR",required:"",outlined:""},on:{click:function(t){e.dialog_cnpj_tomador=!0}}},[a("v-icon",{attrs:{slot:"append",color:"blue"},on:{click:function(t){e.dialog_cnpj_tomador=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e(),this.$store.getters.nfe_getFiltrosCteTomadorCnpj.length>=1?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:"Total preenchido: "+this.$store.getters.nfe_getFiltrosCteTomadorCnpj.length,label:"CNPJ TOMADOR",required:"",readonly:"",outlined:""},on:{click:function(t){e.dialog_cnpj_tomador=!0}}},[a("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(t){e.dialog_cnpj_tomador=!0}},slot:"append"},[e._v("mdi-plus-box-outline")])],1)],1):e._e()],1),a("calendar_select")],1)],1)],1)],1):a("v-card",[a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},[a("div",[a("v-row",[a("v-col",{staticStyle:{align:"right","text-align":"right"},attrs:{cols:"2"}},[a("v-btn",{attrs:{icon:"",color:"green"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("markALL")}}},[e._v("mdi-checkbox-multiple-marked-outline")])],1),a("v-btn",{attrs:{icon:"",color:"gray"}},[a("v-icon",{on:{click:function(t){return e.companyCheckOption("")}}},[e._v("mdi-checkbox-multiple-blank-outline")])],1)],1),a("v-col",[a("v-select",{attrs:{"small-chips":"",items:this.$store.getters.nfe_getFiltrosEmpresa,chips:"",label:"Empresas",multiple:"",outlined:""},scopedSlots:e._u([{key:"selection",fn:function(t){var o=t.item,s=t.index;return[0===s?a("v-chip",{attrs:{small:""}},[e._v(" "+e._s(o)+" ")]):e._e(),1===s?a("span",{staticClass:"grey--text caption"},[e._v(" (+"+e._s(e.opt_value_empresa.length-1)+" selecionados) ")]):e._e()]}}]),model:{value:e.opt_value_empresa,callback:function(t){e.opt_value_empresa=t},expression:"opt_value_empresa"}})],1)],1)],1)]),a("v-chip",{attrs:{color:"green","text-color":"white"}},[e._v(" Itens carregados corretamente: ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.values,"items-per-page":10,loading:e.v_excelLoading,"loading-text":"Carregando dados do arquivo, por favor, aguarde..."}}),a("v-chip",{attrs:{color:"red","text-color":"white"}},[e._v(" Itens com problemas no carregamento (ajuste no CSV e importe novamente): ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.errorValues,"items-per-page":10,loading:e.v_excelLoading,"loading-text":"Carregando dados do arquivo, por favor, aguarde..."}})],1),a("v-divider",{staticStyle:{width:"100%",display:"flex",align:"center",padding:"5px"}}),a("v-card",{staticStyle:{width:"100%",display:"flex",padding:"30px","justify-content":"center"},attrs:{elevation:"0"}},[a("v-row",{staticStyle:{width:"90%",align:"center"}},[a("v-col",[a("v-text-field",{attrs:{label:"* Titulo Consulta ",required:"",outlined:""},model:{value:e.titulo_variante,callback:function(t){e.titulo_variante=t},expression:"titulo_variante"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"* Descrição Consulta ",required:"",outlined:""},model:{value:e.desc_variante,callback:function(t){e.desc_variante=t},expression:"desc_variante"}})],1)],1)],1),a("div",{staticStyle:{width:"100%",display:"flex",padding:"30px","justify-content":"center"}},[0==e.showButton?a("v-btn",{attrs:{"x-large":"",color:"primary",width:"80%",disabled:""}},[e._v("ANALISAR SOLICITAÇÃO")]):a("v-btn",{attrs:{"x-large":"",color:"primary",width:"80%"},on:{click:function(t){return e.analisarSolicitacao()}}},[e._v("ANALISAR SOLICITAÇÃO")])],1),e.errors.length?a("v-container",e._l(e.errors,(function(t,o){return a("v-row",{key:o,attrs:{"align-content":"center",justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"error"}},[e._v(e._s(t))])],1)],1)})),1):e._e(),e.showTable?a("v-container",[a("v-row",{attrs:{"align-content":"center",justify:"center"}},[a("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[a("div",["S"==e.job_return.status?a("v-alert",{attrs:{dense:"",type:"info"}},[e._v(' Serviço schedulado com sucesso. Em análise sob o job de verificação para "'+e._s(this.titulo_variante)+'"" ')]):e._e(),"S"!=e.job_return.status?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" Um erro ocorreu ao schedular o seu serviço. Tente novamente, se o problema persistir, abra um chamado. "+e._s(e.job_return.jobname)+" ErrorDetail: "+e._s(e.job_return.errorMsg)+" ")]):e._e()],1)]),1!=e.jobSchedulerFinished?a("v-col",{attrs:{cols:"6"}},[a("v-progress-linear",{attrs:{color:"blue darken-4",indeterminate:"",rounded:"",height:"6"}})],1):a("v-col",{attrs:{cols:"6"}},[a("p"),a("div",[a("v-alert",{attrs:{type:"success"}},[e._v(" Análise realizada com sucesso. "),a("router-link",{attrs:{to:{path:"/details/"+this.job_return.jobname}}},[e._v("Clique Aqui")]),e._v(" para ver o resultado. ")],1)],1)])],1)],1):e._e()],1)],1),a("modal_nfe_dialog_chave44",{attrs:{dialog_chave44:e.dialog_chave44,props_chave44:e.props_chave44},on:{closemodal:function(t){e.dialog_chave44=!1}}},[e._v("Inserir Chave NFe 44 Digitos ")]),a("modal_nfe_dialog_chavenf",{attrs:{dialog_chavenf:e.dialog_chavenf,props_chavenf:e.props_chavenf},on:{closemodal:function(t){e.dialog_chavenf=!1}}},[e._v("Inserir Chave NFe ")]),a("modal_nfe_dialog_cnpj_emissor",{attrs:{dialog_nfe_cnpj_emissor:e.dialog_nfe_cnpj_emissor,props_cnpj_emissor:e.props_cnpj_emissor},on:{closemodal:function(t){e.dialog_nfe_cnpj_emissor=!1}}},[e._v("Inserir CNPJ Emissor ")]),a("modal_nfe_dialog_cnpj_destinatario",{attrs:{dialog_nfe_cnpj_destinario:e.dialog_nfe_cnpj_destinario,props_cnpj_destinatario:e.props_cnpj_destinatario},on:{closemodal:function(t){e.dialog_nfe_cnpj_destinario=!1}}},[e._v("Inserir CNPJ Destinatario ")]),a("modal_nfe_dialog_cnpj_remetente",{attrs:{dialog_cnpj_remetente:e.dialog_cnpj_remetente,props_cnpj_remetente:e.props_cnpj_remetente},on:{closemodal:function(t){e.dialog_cnpj_remetente=!1}}},[e._v("Inserir CNPJ Remetente ")]),a("modal_nfe_dialog_cnpj_recebedor",{attrs:{dialog_cnpj_recebedor:e.dialog_cnpj_recebedor,props_cnpj_recebedor:e.props_cnpj_recebedor},on:{closemodal:function(t){e.dialog_cnpj_recebedor=!1}}},[e._v("Inserir CNPJ Recebedor ")]),a("modal_nfe_dialog_cnpj_tomador",{attrs:{dialog_cnpj_tomador:e.dialog_cnpj_tomador,props_cnpj_tomador:e.props_cnpj_tomador},on:{closemodal:function(t){e.dialog_cnpj_tomador=!1}}},[e._v("Inserir CNPJ Tomador ")]),a("v-dialog",{attrs:{persistent:""},model:{value:e.v_fillExcelFields,callback:function(t){e.v_fillExcelFields=t},expression:"v_fillExcelFields"}},[a("v-row",{attrs:{justify:"center","align-content":"center","no-gutters":""}},[a("v-card",{staticClass:"mx-auto my-12",attrs:{elevation:"0"}},[a("v-card-subtitle",{staticStyle:{align:"center"}},[e._v("Carregando. Isso pode demorar dependendo da quantidade de registros no documento.")]),a("div",{staticStyle:{"text-align":"center"}},[a("v-progress-circular",{attrs:{size:"100",width:"10",color:"primary",indeterminate:""}})],1)],1)],1)],1)],1)},Z=[],X={components:{modal_nfe_dialog_chave44:N,modal_nfe_dialog_chavenf:N,modal_nfe_dialog_cnpj_emissor:N,modal_nfe_dialog_cnpj_destinatario:N,modal_nfe_dialog_cnpj_remetente:N,modal_nfe_dialog_cnpj_recebedor:N,modal_nfe_dialog_cnpj_tomador:N,calendar_select:L},data:function(e){return{publicPath:"/",dialog_chave44:!1,dialog_chavenf:!1,dialog_nfe_cnpj_emissor:!1,dialog_nfe_cnpj_destinario:!1,dialog_nfe_empresa:!1,dialog_cnpj_remetente:!1,dialog_cnpj_recebedor:!1,dialog_cnpj_tomador:!1,props_chave44:"",props_chavenf:"",props_cnpj_emissor:"",props_cnpj_destinatario:"",props_cnpj_remetente:"",props_cnpj_recebedor:"",props_cnpj_tomador:"",showTable:!1,showButton:!0,errors:[],opt_empresa:[],opt_value_empresa:[],dataInicio:"",dataFim:"",titulo_variante:"",desc_variante:"",job_return:{status:"",jobname:"",errorMsg:""},jobFinishRun:"false",jobSchedulerFinished:"",v_excelParam:!1,v_excelLoading:!0,v_fillExcelFields:!1,csv_rotate:"360",csv_size:100,csv_width:"15",csv_value:0,headers:[{text:"LINHA",value:"linha",align:"start"},{text:"CHAVE44",value:"chave44",align:"right"},{text:"NFNUM",value:"chavenf",align:"right"},{text:"CNPJ_EMISSOR",value:"cnpj_emissor_de",align:"right"},{text:"CNPJ_EMISSOR_ATE",value:"cnpj_emissor_ate",align:"right"},{text:"CNPJ_DESTINATARIO",value:"cnpj_destinatario_de",align:"right"},{text:"CNPJ_DESTINATARIO_ATE",value:"cnpj_destinatario_ate",align:"right"},{text:"DATA",value:"data_de",align:"right",sortable:!1},{text:"DATA_ATE",value:"data_ate",align:"right",sortable:!1},{text:"CNPJ_REMETENTE",value:"rem_cnpj",align:"right"},{text:"CNPJ_REMETENTE_ATE",value:"rem_cnpj_ate",align:"right"},{text:"CNPJ_RECEBEDOR",value:"recebe_cnpj",align:"right"},{text:"CNPJ_RECEBEDOR_ATE",value:"recebe_cnpj_ate",align:"right"},{text:"CNPJ_TOMADOR",value:"toma_cnpj",align:"right"},{text:"CNPJ_TOMADOR_ATE",value:"toma_cnpj_ate",align:"right"},{text:"EMPRESA",value:"empresa",align:"right"}],values:[],errorValues:[]}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(e){return"Name"!==e}))}},watch:{},beforeMount:function(){this.fetchEmpresas()},methods:{checkForm:function(e){if(this.errors=[],""==this.titulo_variante&&this.errors.push('O campo "Titulo Consulta" é obrigatório.'),""==this.desc_variante&&this.errors.push('O campo "Descrição Consulta" é obrigatório.'),0==this.v_excelParam&&(""==this.$store.getters.nfe_getFiltrosDataInicioConsulta&&this.errors.push('O campo "Data Inicial (De)" é obrigatório.'),0==this.opt_value_empresa.length&&this.errors.push('O campo "Empresas" é obrigatório. Você precisa selecionar a empresa que irá realizar a consulta solicitada.')),0==this.errors.length)return!0},fetchEmpresas:function(){var e=this,t=this.$host+"companies?$format=json";this.$http.get(t,{}).then((function(t){var a=[];t.data.d.results.forEach((function(t){a.push(t.bukrs),e.opt_value_empresa.push(t.bukrs)})),e.$store.dispatch("nfe_setEmpresas",a)})).catch((function(e){}))},analisarSolicitacao:function(){var e=this,t=this.checkForm();if(1==t){var a=this.$host+"searchDocuments";this.showButton=!1;var o=[],s=[],n=[],r=[],i=[],c=[],l=[],d=[],_=[],p="",u="";if(this.opt_value_empresa.length>0&&this.opt_value_empresa.forEach((function(e){i.push({bukrs:e})})),1!=this.v_excelParam&&(this.$store.getters.nfe_getFiltrosChave44.length>0&&this.$store.getters.nfe_getFiltrosChave44.forEach((function(e){o.push({id:e.fieldname})})),this.$store.getters.nfe_getFiltrosChaveNf.length>0&&this.$store.getters.nfe_getFiltrosChaveNf.forEach((function(e){s.push({ide_nnf:e.fieldname})})),this.$store.getters.nfe_getFiltrosNfeEmissor.length>0&&this.$store.getters.nfe_getFiltrosNfeEmissor.forEach((function(e){n.push({de:e.de,ate:e.ate})})),this.$store.getters.nfe_getFiltrosNfeDestinatario.length>0&&this.$store.getters.nfe_getFiltrosNfeDestinatario.forEach((function(e){r.push({de:e.de,ate:e.ate})})),this.$store.getters.nfe_getFiltrosCteRemCNPJ.length>0&&this.$store.getters.nfe_getFiltrosCteRemCNPJ.forEach((function(e){l.push({de:e.de,ate:e.ate})})),this.$store.getters.nfe_getFiltrosCteRecebedorCnpj.length>0&&this.$store.getters.nfe_getFiltrosCteRecebedorCnpj.forEach((function(e){d.push({de:e.de,ate:e.ate})})),this.$store.getters.nfe_getFiltrosCteTomadorCnpj.length>0&&this.$store.getters.nfe_getFiltrosCteTomadorCnpj.forEach((function(e){_.push({de:e.de,ate:e.ate})}))),1==this.v_excelParam){var v=[];this.values.forEach((function(e){e.chave44.length>0&&o.push({id:e.chave44}),e.chavenf.length>0&&s.push({ide_nnf:e.chavenf}),e.cnpj_emissor_de.length>0&&n.push({de:e.cnpj_emissor_de,ate:e.cnpj_emissor_ate}),e.cnpj_recebedor_de.length>0&&r.push({de:e.cnpj_recebedor_de,ate:e.cnpj_recebedor_ate}),p={inicial:e.data_de,final:e.data_ate},e.rem_cnpj.length>0&&l.push({de:e.rem_cnpj,ate:e.rem_cnpj_ate}),e.recebe_cnpj.length>0&&d.push({de:e.recebe_cnpj,ate:e.recebe_cnpj_ate}),e.toma_cnpj.length>0&&_.push({de:e.toma_cnpj,ate:e.toma_cnpj_ate}),c.push({bukrs:e.empresa.replace("\r","")}),""==e.empresa.trim()&&(c=i),v.push({chave:o,nctes:s,emit_cnpj:n,dest_cnpj:r,rem_cnpj:l,recebe_cnpj:d,toma_cnpj:_,empresas:c,data:p}),o=[],s=[],n=[],r=[],p="",c=[],l=[],d=[],_=[]})),u={title:this.titulo_variante,desc:this.desc_variante,docType:"cte",filtros:v}}else u={title:this.titulo_variante,desc:this.desc_variante,docType:"cte",filtros:[{chave:o,nctes:s,emit_cnpj:n,dest_cnpj:r,rem_cnpj:l,recebe_cnpj:d,toma_cnpj:_,empresas:i,data:{inicial:this.$store.getters.nfe_getFiltrosDataInicioConsulta,final:this.$store.getters.nfe_getFiltrosDataFimConsulta}}]};u=JSON.stringify(u),u={json:u},this.$http.post(a,u,{headers:{"x-csrf-token":this.$store.getters.nfe_getCsrfToken,"Content-Type":"application/json"}}).then((function(t){e.job_return=JSON.parse(t.data.d.json),e.showTable=!0,e.buscaRetornoSchedulerSolicitacao(e.job_return.status,e.job_return.jobname)})).catch((function(t){e.showButton=!0}))}},buscaRetornoSchedulerSolicitacao:function(e,t){var a=this;if("S"==e){var o,s=5e3,n=43200,r=0;setTimeout((function(){}),s),o=setInterval((function(){n<=r?clearInterval(o):(a.api_buscaStatusJobScheduler(t),"true"==a.jobFinishRun&&(a.jobSchedulerFinished=!0,clearInterval(o))),r++}),1e4)}},api_buscaStatusJobScheduler:function(e){var t=this,a=this.$host+"/jobs('".concat(e,"')?$format=json");this.$http.get(a,{}).then((function(e){"B"==e.data.d.status&&(t.jobFinishRun="true")})).catch((function(e){t.jobFinishRun="False"}))},api_buscaDetalhesJobScheduler:function(e){var t=this.$host+"/jobHeaders(jobname='".concat(e,"',company='*')?$expand=navJobHeaderToJobHeaders,navJobHeadersToJobFilters&$format=json");this.$http.get(t,{}).then((function(e){return!0})).catch((function(e){return!1}))},uploadCSV:function(e){var t=this;setTimeout((function(){var a=t,o=[],s=[],n=[],r=[],i=[],c=[],l=[];t.initialState();var d=new FileReader,_=[];d.onload=function(){a.v_excelParam=!0;d.result;for(var e=d.result.split("\n"),t=0;t<e.length;t++)e[t]=e[t].replace("\r",""),e[t]=e[t].replace("'",""),_.push(e[t].split(";"));_.shift();var p=1,u=!1;_.forEach((function(e){"","","","","";try{if(e.length<11||e.length>15)throw error;if(""!=e[0].trim()&&(o.push({fieldname:e[0]}),u=!0),""!=e[1].trim()&&(s.push({fieldname:e[1]}),u=!0),""!=e[2]&&(n.push({de:e[2],ate:e[3]}),(""!=e[3]?"-":"")+e[3],u=!0),""!=e[4]&&(r.push({de:e[4],ate:e[5]}),(""!=e[5]?"-":"")+e[5],u=!0),""!=e[6]&&(i.push({de:e[6],ate:e[7]}),(""!=e[6]?"-":"")+e[7],u=!0),""!=e[8]&&(c.push({de:e[8],ate:e[9]}),(""!=e[8]?"-":"")+e[9],u=!0),""!=e[10]&&(l.push({de:e[10],ate:e[11]}),(""!=e[10]?"-":"")+e[11],u=!0),""!=e[12]){e[12]=e[12].substr(0,10);e[12],e[13].substr(0,10);u=!0}if(""!=e[14].trim()){e[14];u=!0}if(1!=u)throw error;a.values.push({linha:"".concat(p),chave44:"".concat(e[0]),chavenf:"".concat(e[1]),cnpj_emissor_de:"".concat(e[2]),cnpj_emissor_ate:"".concat(e[3]),cnpj_recebedor_de:"".concat(e[4]),cnpj_recebedor_ate:"".concat(e[5]),rem_cnpj:"".concat(e[6]),rem_cnpj_ate:"".concat(e[7]),recebe_cnpj:"".concat(e[8]),recebe_cnpj_ate:"".concat(e[9]),toma_cnpj:"".concat(e[10]),toma_cnpj_ate:"".concat(e[11]),data_de:"".concat(e[12]),data_ate:"".concat(e[13]),empresa:"".concat(e[14])})}catch(error){a.errorValues.push({linha:"".concat(p),chave44:"".concat(e[0]),chavenf:"".concat(e[1]),cnpj_emissor_de:"".concat(e[2]),cnpj_emissor_ate:"".concat(e[3]),cnpj_recebedor_de:"".concat(e[4]),cnpj_recebedor_ate:"".concat(e[5]),rem_cnpj:"".concat(e[6]),rem_cnpj_ate:"".concat(e[7]),recebe_cnpj:"".concat(e[8]),recebe_cnpj_ate:"".concat(e[9]),toma_cnpj:"".concat(e[10]),toma_cnpj_ate:"".concat(e[11]),data_de:"".concat(e[12]),data_ate:"".concat(e[13]),empresa:"".concat(e[14])})}p++,u=!1})),s.length>0&&(a.$store.dispatch("nfe_setChavesNf",s),a.props_chavenf="chavenf_on"),o.length>0&&(a.$store.dispatch("nfe_setChaves44",o),a.props_chave44="chave44_on"),n.length>0&&(a.props_cnpj_emissor="emissor_on",a.$store.dispatch("nfe_setNfeEmissor",n)),r.length>0&&(a.props_cnpj_destinatario="destinatario_on",a.$store.dispatch("nfe_setNfeDestinatario",r)),i.length>0&&(a.props_cnpj_remetente="cteremetente_on",a.$store.dispatch("nfe_setFiltrosCteRemCNPJ",i)),c.length>0&&(a.props_cnpj_recebedor="cterecebedor_on",a.$store.dispatch("nfe_setFiltrosCteRecebedorCnpj",c)),l.length>0&&(a.props_cnpj_tomador="ctetomador_on",a.$store.dispatch("nfe_setFiltrosCteTomadorCnpj",l)),a.v_excelLoading=!1,a.v_fillExcelFields=!1},d.onabort=function(){console.log("abort event"),a.initialState(),a.v_excelLoading=!1,a.v_fillExcelFields=!1},d.onloadend=function(){console.log("loadend event"),a.v_excelLoading=!1,a.v_fillExcelFields=!1};try{d.readAsText(e[0])}catch(error){console.log(error),a.initialState(),a.v_fillExcelFields=!1,a.v_excelLoading=!1}}),2e3)},initialState:function(e){this.dialog_chave44=!1,this.dialog_chavenf=!1,this.dialog_nfe_cnpj_emissor=!1,this.dialog_nfe_cnpj_destinario=!1,this.dialog_nfe_empresa=!1,this.props_chave44="",this.props_chavenf="",this.props_cnpj_emissor="",this.props_cnpj_destinatario="",this.showTable=!1,this.v_excelParam=!1,this.opt_value_empresa=this.opt_empresa,this.values=[],this.errorValues=[],this.dataInicio="",this.dataFim="",this.titulo_variante="",this.desc_variante="",this.job_return.status="",this.job_return.jobname="",this.job_return.errorMsg="",this.$store.dispatch("nfe_setNfeDestinatario",""),this.$store.dispatch("nfe_setNfeEmissor",""),this.$store.dispatch("nfe_setChaves44",""),this.$store.dispatch("nfe_setChavesNf",""),this.$store.dispatch("nfe_setFiltrosDataInicioConsulta",""),this.$store.dispatch("nfe_setFiltrosDataFimConsulta",""),this.$store.dispatch("nfe_setFiltrosCteRemCNPJ",""),this.$store.dispatch("nfe_setFiltrosCteRecebedorCnpj",""),this.$store.dispatch("nfe_setFiltrosCteTomadorCnpj",""),""!=e&&(this.opt_empresa=[])},companyCheckOption:function(e){this.opt_value_empresa=""!=e?this.$store.getters.nfe_getFiltrosEmpresa:[]},showConsole:function(){},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e}},mounted:function(){this.initialState()}},Q=X,ee=Object(l["a"])(Q,K,Z,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{color:"grey darken-3",extended:"",flat:""}}),a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"-64px"},attrs:{"max-width":"90%"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"black--text"},[e._v('Resultado consulta "'+e._s(e.c_showName)+'" ( Data-Hora Criação:'+e._s(e.formatDate(e.navJobHeadersToJob.date_last_modif))+" - "+e._s(e.formatTime(e.navJobHeadersToJob.time_last_modif))+" ) ")])],1),a("v-spacer"),e._v(" Critérios de busca utilizados: "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.values,"item-key":"name","sort-by":"name","group-by":"categoria","show-group-by":"","single-select":"",loading:e.v_loadFullPage,"loading-text":"Carregando página - A G U A R D E ... "}}),a("v-divider",{staticClass:"mx-7"}),a("v-row",[a("v-col"),a("v-col",[a("v-chip",{staticStyle:{color:"white"},attrs:{label:"",large:"",color:"red darken-3"},on:{click:function(t){return e.api_downloadCSV(e.$route.params.id_job,"*","error")}}},[e._v(" TOTAL FALTANTES: "+e._s(e.totalGeralErros)+" "),a("br"),e._v(" baixar csv")])],1),a("v-col",[a("v-chip",{staticStyle:{color:"white"},attrs:{label:"",large:"",color:"green darken-3"},on:{click:function(t){return e.api_downloadCSV(e.$route.params.id_job,"*")}}},[e._v(" TOTAL ENCONTRADOS: "+e._s(e.totalGeral)+" "),a("br"),e._v(" baixar csv")])],1),a("v-col")],1),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-data-iterator",{attrs:{items:e.items,"items-per-page":e.itemsPerPage,page:e.page,search:e.search,"sort-by":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-file-find",label:"Buscar por Empresas"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.$vuetify.breakpoint.mdAndUp?[a("v-spacer"),a("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"mdi-sort",label:"Ordenar por"},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}}),a("v-spacer"),a("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1}},[a("v-icon",[e._v("mdi-arrow-up")])],1),a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[a("v-icon",[e._v("mdi-arrow-down")])],1)],1),a("v-spacer"),a("h3",[e._v("TOTAL GERAL: "),a("br"),e._v(" "+e._s(e.totalGeral+e.totalGeralErros))])]:e._e()],2)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",e._l(t.items,(function(t){return a("v-col",{key:t.empresa,attrs:{cols:"4"}},[a("v-card",[a("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(e._s(t.empresa)+" "),a("v-spacer"),a("a",{on:{click:function(a){return e.api_downloadCSV(e.$route.params.id_job,t.empresa)}}},[e._v(" Baixar CSV ")])],1),a("v-divider"),a("v-list",{attrs:{dense:""}},e._l(e.filteredKeys,(function(o,s){return a("v-list-item",{key:s},[a("v-list-item-content",{class:{"blue--text":e.sortBy===o}},[e._v(e._s(o)+":")]),a("v-list-item-content",{staticClass:"align-end",class:{"blue--text":e.sortBy===o}},["encontrados"===o.toLowerCase()?a("v-chip",{attrs:{color:"green"},on:{click:function(a){return e.showLogDetail("S",e.$route.params.id_job,t.empresa,"")}}},[a("v-row",[a("v-col",[a("v-icon",{attrs:{small:""}},[e._v("mdi-plus-box-outline")])],1),a("v-col",[e._v(e._s(t[o.toLowerCase()])+" ")])],1)],1):"faltantes"===o.toLowerCase()&&t[o.toLowerCase()]>0?a("v-chip",{attrs:{color:"red"},on:{click:function(a){return e.showLogDetail("E",e.$route.params.id_job,t.empresa,"")}}},[a("v-row",[a("v-col",[a("v-icon",{attrs:{small:""}},[e._v("mdi-plus-box-outline")])],1),a("v-col",[e._v(e._s(t[o.toLowerCase()])+" ")])],1)],1):"total"===o.toLowerCase()?a("v-chip",{on:{click:function(a){return e.showLogDetail("S",e.$route.params.id_job,t.empresa,"")}}},[a("v-col",[a("v-icon",{attrs:{small:""}},[e._v("mdi-plus-box-outline")])],1),a("v-col",[e._v(e._s(t[o.toLowerCase()]))])],1):e._e()],1)],1)})),1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[a("v-row",{staticClass:"mt-2",attrs:{align:"center",justify:"center"}},[a("span",{staticClass:"grey--text"},[e._v("Items per page")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",s,!1),o),[e._v(" "+e._s(e.itemsPerPage)+" "),a("v-icon",[e._v("mdi-chevron-down")])],1)]}}])},[a("v-list",e._l(e.itemsPerPageArray,(function(t,o){return a("v-list-item",{key:o,on:{click:function(a){return e.updateItemsPerPage(t)}}},[a("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1),a("v-spacer"),a("span",{staticClass:"mr-4\r\n                        grey--text"},[e._v(" Page "+e._s(e.page)+" of "+e._s(e.numberOfPages)+" ")]),a("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.formerPage}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.nextPage}},[a("v-icon",[e._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])}),a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"font-weight-medium"},[e._v(" É possível cadastrar emails para receber informações quando o processo de download for finalizado. "),a("br"),e._v(" Se desejar, informe os emails que devem receber a mensagem abaixo: "),a("v-text-field",{attrs:{label:"Emails (separados por ; )",required:"",outlined:""},model:{value:e.v_emails,callback:function(t){e.v_emails=t},expression:"v_emails"}})],1),""==e.showDownloadStatus?a("v-col",{staticStyle:{position:"absolute",bottom:"0","text-align":"center"}},[0==e.showDownloadProcessing&&e.totalGeral>0?a("v-btn",{attrs:{"x-large":"",color:"primary",width:"80%"},on:{click:function(t){e.dialogConfirmStart=!0}}},[e._v("Schedular Download")]):a("v-btn",{attrs:{large:"",color:"primary",disabled:"",width:"80%"}},[e._v("Schedular Download")])],1):e._e()],1),a("v-row",{attrs:{justify:"center"}},[1==e.showDownloadProcessing?a("v-col",{attrs:{cols:"6"}},[a("v-progress-linear",{attrs:{color:"blue darken-4",indeterminate:"",rounded:"",height:"10"}})],1):e._e()],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"6"}},["F"==e.showDownloadStatus?a("v-alert",{attrs:{type:"success"}},[e._v(" Extração Finalizada. "),a("router-link",{attrs:{to:{path:"/download/"+this.$route.params.id_job},width:"80%"}},[e._v("Clique Aqui")]),e._v(" para ver o resultado. ")],1):"S"==e.showDownloadStatus?a("v-alert",{attrs:{dense:"",type:"info"}},[e._v(' Serviço schedulado com sucesso. Em análise sob o job de verificação para "'+e._s(e.c_showName)+'"". Você pode pode aguardar o retorno do serviço, nessa tela, ou sair, que enviaremos um email quando a extração estiver sido finalizada. ')]):"E"==e.showDownloadStatus?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" Um erro ocorreu ao schedular o seu serviço. Tente novamente, se o problema persistir, abra um chamado. Não foi possível fazer extração para "),a("b",[e._v(e._s(e.c_showName)+". Erro "+e._s(e.error_desc)+".")]),a("router-link",{attrs:{to:{path:"/"}}},[e._v("Clique Aqui")]),e._v(" e verifique o status de sua execução. ")],1):e._e()],1)],1)],1)],1),a("v-divider")],1)],1),a("modal_logViewer",{attrs:{props_showLogDetails:e.props_showLogDetails,props_messageType:e.props_messageType,props_servico:e.props_servico,props_jobname:e.props_jobname,props_company:e.props_company,props_code:e.props_code},on:{closemodal:function(t){e.props_showLogDetails=!1}}},[e._v("Logs de Execução ")]),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogConfirmStart,callback:function(t){e.dialogConfirmStart=t},expression:"dialogConfirmStart"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Você está prestes a iniciar o processo de extração de XMLs com base nos critérios apresentados. Deseja continuar?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",large:""},on:{click:function(t){e.dialogConfirmStart=!1}}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",large:""},on:{click:function(t){return e.api_startDownload()}}},[e._v("Iniciar")]),a("v-spacer")],1)],1)],1)],1)},oe=[],se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},["E"==e.props_messageType?a("v-dialog",{attrs:{persistent:"","max-width":"80%"},model:{value:e.props_showLogDetails,callback:function(t){e.props_showLogDetails=t},expression:"props_showLogDetails"}},[a("v-card",[a("v-card-title",[e._t("default"),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],2),a("v-data-table",{attrs:{headers:e.headers_error,items:e.values,search:e.search,loading:e.v_tableloading}}),a("v-pagination",{attrs:{length:e.pageCount,"total-visible":7},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("v-btn",{on:{click:function(t){return e.$emit("closemodal")}}},[e._v(" FECHAR ")])],1):e._e(),"S"==e.props_messageType?a("v-dialog",{attrs:{persistent:"","max-width":"80%"},model:{value:e.props_showLogDetails,callback:function(t){e.props_showLogDetails=t},expression:"props_showLogDetails"}},[a("v-card",[a("v-card-title",[e._t("default"),a("v-spacer")],2),a("v-data-table",{attrs:{headers:e.headers_items,items:e.values,page:e.page,"items-per-page":e.itemsPerPage,"hide-default-footer":"",search:e.search,loading:e.v_tableloading},on:{"update:page":function(t){e.page=t}}}),a("v-pagination",{attrs:{length:e.pageCount,"total-visible":7},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("v-btn",{on:{click:function(t){return e.$emit("closemodal")}}},[e._v(" FECHAR ")])],1):e._e()],1)},ne=[],re={name:"DialogLogViewer",props:{props_showLogDetails:Boolean,props_messageType:String,props_servico:String,props_jobname:String,props_company:String,props_code:String},data:function(){return{v_tableloading:!0,v_checkDouble:!1,page:1,pageCount:0,itemsPerPage:10,nextPage:0,backPage:0,total_visible:"10",search:"",headers_error:[{text:"Documento",align:"start",sortable:!1,value:"doc"},{text:"mensagem",value:"msg"},{text:"codigo",value:"codigo"}],headers_items:[{text:"Empresa",align:"start",sortable:!1,value:"company"},{text:"chave44",value:"chave44"},{text:"nnfe",value:"nnfe"},{text:"cnpj_emitente",value:"cnpj_emit"},{text:"cnpj_destinatario",value:"cnpj_dest"},{text:"data_emissao",value:"data_emissao"}],values:[]}},methods:{api_buscaDadosLog:function(e,t,a,o,s){var n=this;n.values=[],"E"==n.props_messageType&&!1===n.v_checkDouble&&(n.v_checkDouble=!0,n.api_buscaLogsErro(e,t,a,o,s)),"S"==n.props_messageType&&!1===n.v_checkDouble&&(n.v_checkDouble=!0,n.api_buscaEntradadasEncontradas(e,t,a,o,s))},api_buscaLogsErro:function(e,t,a,o,s){var n=this;if("undefined"==typeof s){var r=n.$host+"logs(jobname='".concat(e,"',company='").concat(t,"',code='").concat(a,"')/navToLogs/$count");n.page=1,n.$http.get(r,{}).then((function(e){console.log("Count-Response:"),console.log(e.data),n.pageCount=Math.ceil(parseInt(e.data)/n.itemsPerPage)})).catch((function(e){console.log("errro carregar buscaStatusLogsError:"+e),n.jobFinishRun="False",n.v_tableloading=!1,n.v_checkDouble=!1}))}var i=n.$host+"logs(jobname='".concat(e,"',company='").concat(t,"',code='").concat(a,"')/navToLogs?$format=json&$skip=").concat(n.page*n.itemsPerPage-n.itemsPerPage,"&$top=").concat(n.itemsPerPage);console.log("messagetype-buscadadoslog"),console.log(n.props_messageType),n.$http.get(i,{}).then((function(e){console.log("resultLogViewerErrosIDS-Response:"),console.log(e.data.d),e.data.d.results.forEach((function(e){n.values.push({doc:e.doc,msg:e.msg,codigo:e.code})})),n.v_checkDouble=!1,n.v_tableloading=!1})).catch((function(e){console.log("errro carregar buscaStatusJobScheduler:"+e),n.jobFinishRun="False",n.v_tableloading=!1,n.v_checkDouble=!1}))},api_buscaEntradadasEncontradas:function(e,t,a,o,s){var n=this,r=this;if("undefined"==typeof s){var i=r.$host+"jobHeaders(jobname='".concat(e,"',company='").concat(t,"')/navJobHeadersToJobItems/$count");r.page=1,r.$http.get(i,{}).then((function(e){console.log("Count-Response:"),console.log(e.data),r.pageCount=Math.ceil(parseInt(e.data)/r.itemsPerPage)})).catch((function(e){console.log("errro carregar buscaStatusJobScheduler:"+e),r.jobFinishRun="False",r.v_tableloading=!1}))}var c=r.$host+"jobHeaders(jobname='".concat(e,"',company='").concat(t,"')/navJobHeadersToJobItems?$format=json&$skip=").concat(r.page*r.itemsPerPage-r.itemsPerPage,"&$top=").concat(r.itemsPerPage);console.log("pageURL"),console.log(c),console.log("messagetype-entradasEncontradas"),console.log(r.props_messageType),r.$http.get(c,{}).then((function(e){console.log("resultLogViewerIdEncontrados-Response:"),console.log(e.data.d),e.data.d.results.forEach((function(e){r.values.push({company:e.company,chave44:e.id,nnfe:e.nnfe,cnpj_emit:e.cnpj_emit,cnpj_dest:e.cnpj_dest,data_emissao:e.data_emissao})})),console.log("resultLogViewerIdEncontrados-Response-values:"),console.log(n.values),r.v_checkDouble=!1,r.v_tableloading=!1})).catch((function(e){console.log("errro carregar buscaStatusJobScheduler:"+e),r.jobFinishRun="False",r.v_tableloading=!1}))}},beforeMount:function(){},watch:{props_company:function(e,t){console.log("mudou jobname>"),console.log(e),this.v_tableloading=!0,this.api_buscaDadosLog(this.props_jobname,this.props_company,this.props_code)},props_messageType:function(e,t){this.v_tableloading=!0,this.api_buscaDadosLog(this.props_jobname,this.props_company,this.props_code)},page:function(e,t){this.v_tableloading=!0,this.api_buscaDadosLog(this.props_jobname,this.props_company,this.props_code,e,this.pageCount)}}},ie=re,ce=Object(l["a"])(ie,se,ne,!1,null,null,null),le=ce.exports,de={components:{modal_logViewer:le},props:{},name:"app",data:function(e){return{props_showLogDetails:!1,props_messageType:"",props_servico:"",props_jobname:"",props_company:"",props_code:"",opt_empresa:[],opt_value_empresa:[],showDownloadStatus:"",showDownloadProcessing:!1,totalGeral:0,totalGeralErros:0,v_loadFullPage:!0,schedulerDownloadStatus:{},jobFinishRun:!1,dialogConfirmStart:!1,v_emails:"",error_desc:"",headers:[{text:"Critérios de Filtro utilizados",align:"start",value:"name",groupable:!0},{text:"ID",value:"categoria",align:"right"},{text:"NFE",value:"dairy",align:"right"}],values:[],navJobHeadersToJob:{__metadata:{id:"",uri:"",type:""},jobname:"",date_created:"",time_created:"",user_created:"",status:"",title:"",description:"",date_last_modif:"",time_last_modif:"",user_last_modif:"",doc_type:""},itemsPerPageArray:[3,6,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:6,sortBy:"Empresa",keys:["Empresa","Total","Faltantes"],items:[],companyCheck:[]}},methods:{formatDate:function(e,t){if(!e)return null;var a=e.substr(0,4),o=e.substr(4,2),s=e.substr(6,2);return t?"".concat(a," ").concat(o," ").concat(s):"".concat(s,"/").concat(o,"/").concat(a)},formatTime:function(e,t){if(!e)return null;var a=e.substr(0,2),o=e.substr(2,2),s=e.substr(4,2);return t?"".concat(a," ").concat(o," ").concat(s):"".concat(a,":").concat(o,":").concat(s)},fetchEmpresas:function(){var e=this,t=this.$host+"companies?$format=json";this.$http.get(t,{}).then((function(t){var a=[];t.data.d.results.forEach((function(t){a.push(t.bukrs),e.opt_value_empresa.push(t.bukrs)})),e.$store.dispatch("nfe_setEmpresas",a)}))},api_downloadCSV:function(e,t,a){var o;o="error"==a?this.$host+"logs(jobname='".concat(e,"',company='").concat(t,"',code='*')/$value"):this.$host+"jobItems(jobname='".concat(e,"',company='").concat(t,"')/$value"),this.startDownloadWindow(o)},startDownloadWindow:function(e){window.open(e)},api_buscaDetalhesJobScheduler:function(e){var t=this,a=this.$host+"/jobHeaders(jobname='".concat(e,"',company='*')?$expand=navJobHeaderToJobHeaders,navJobHeadersToJobFilters,navJobHeadersToJob&$format=json"),o={results:[{__metadata:{id:"",uri:"",type:""},jobname:"",company:"",total:"",docsFound:"",notFound:"",status:"",msg:"",navJobHeaderToJobLogs:{__deferred:{uri:""}},navJobHeadersToJobFilters:{__deferred:{uri:""}},navJobHeaderToJobHeaders:{__deferred:{uri:""}},navJobHeadersToJobItems:{__deferred:{uri:""}},navJobHeaderToFiles:{__deferred:{uri:""}}}]},s={results:[{__metadata:{id:"",uri:"",type:""},jobname:"",fieldname:"",de:"",ate:""}]};this.$http.get(a,{}).then((function(e){return s=e.data.d.navJobHeadersToJobFilters,s.results.forEach((function(e){var a=(""!=e.ate?" até ":"")+e.ate,o=e.de.trim(),s=t.companyCheck.indexOf(o);e.de.length>0&&-1==s&&(t.values.push({name:"".concat(e.de).concat(a),categoria:e.fieldname,dairy:""}),"empresas"==e.fieldname&&t.companyCheck.push(e.de))})),o=e.data.d.navJobHeaderToJobHeaders,o.results.forEach((function(e){t.items.push({empresa:e.company,total:e.total,encontrados:e.docsFound,faltantes:e.notFound}),t.totalGeral=parseInt(t.totalGeral)+parseInt(e.docsFound),t.totalGeralErros=parseInt(e.notFound)+parseInt(t.totalGeralErros)})),t.navJobHeadersToJob=e.data.d.navJobHeadersToJob,t.v_loadFullPage=!1,!0})).catch((function(e){return!1}))},returnCompanyCheck:function(e){return this.companyCheck.forEach((function(t){if(e===t)return!0})),!1},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e},api_startDownload:function(){var e=this,t=this.$host+"downloadDocuments",a={jobname:this.$route.params.id_job,email:this.v_emails};this.showDownloadProcessing=!0,this.dialogConfirmStart=!1,this.$http.post(t,a,{headers:{"x-csrf-token":this.$store.getters.nfe_getCsrfToken,"Content-Type":"application/json"}}).then((function(t){e.schedulerDownloadStatus={jobname:t.data.d.jobname,company:t.data.d.company,status:t.data.d.status,msg:t.data.d.msg},e.buscaRetornoDownloadSolicitacao(t.data.d.status,e.$route.params.id_job)})).catch((function(e){}))},buscaRetornoDownloadSolicitacao:function(e,t){var a=this;if("S"==this.schedulerDownloadStatus.status){var o,s=43200,n=0;this.showDownloadStatus="S",o=setInterval((function(){s<=n?clearInterval(o):(a.api_buscaStatusJobScheduler(t),1==a.jobFinishRun&&(a.showDownloadStatus="F",a.showDownloadProcessing=!1,clearInterval(o))),n++}),1e4)}else this.showDownloadStatus="E",this.showDownloadProcessing=!1},api_buscaStatusJobScheduler:function(e){var t=this,a=this.$host+"/jobs('".concat(e,"')?$format=json");this.$http.get(a,{}).then((function(e){switch(e.data.d.status){case"C":t.showDownloadStatus="S";break;case"D":t.jobFinishRun=!0,t.showDownloadStatus="F";break;case"E":t.jobFinishRun=!0,t.showDownloadStatus="E",t.error_desc=e.data.d.error_desc;break;default:break}})).catch((function(e){t.jobFinishRun=!1}))},showLogDetail:function(e,t,a,o){this.props_messageType=e,this.props_jobname=t,this.props_company=a,this.props_code="*",this.props_showLogDetails=!0}},computed:{c_showName:function(){return""==this.navJobHeadersToJob.title?"N/A":this.navJobHeadersToJob.title},numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(e){return"Empresa"!==e}))},get_id_job:function(){return this.$route.params.id_job},getShowDownloadStatus:function(){return this.showDownloadStatus}},beforeMount:function(){"undefined"!=typeof this.$store.getters.nfe_getFiltrosEmpresa&&0!=this.$store.getters.nfe_getFiltrosEmpresa.length||this.fetchEmpresas(),this.api_buscaDetalhesJobScheduler(this.$route.params.id_job)}},_e=de,pe=Object(l["a"])(_e,ae,oe,!1,null,"3bb98f8a",null),ue=pe.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{color:"grey darken-3",extended:"",flat:""}}),a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"-64px"},attrs:{"max-width":"90%"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"black--text"},[e._v(" DOWNLOAD - "+e._s(e.c_showName)+" ( Data-Hora Criação: "+e._s(e.formatDate(e.navJobHeadersToJob.date_last_modif))+" - "+e._s(e.formatTime(e.navJobHeadersToJob.time_last_modif))+" ) ")])],1),a("v-spacer"),a("v-card",{attrs:{elevation:"2"}}),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-data-iterator",{attrs:{items:e.items,"items-per-page":e.itemsPerPage,page:e.page,search:e.search,"sort-by":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-file-find",label:"Buscar por Empresas"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.$vuetify.breakpoint.mdAndUp?[a("v-spacer"),a("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"mdi-sort",label:"Ordenar por"},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}}),a("v-spacer"),a("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1}},[a("v-icon",[e._v("mdi-arrow-up")])],1),a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[a("v-icon",[e._v("mdi-arrow-down")])],1)],1),a("v-spacer"),a("v-chip",{attrs:{label:"",large:""},on:{click:function(t){return e.api_downloadCSV(e.$route.params.id_job,"*")}}},[e._v(" TOTAL: "+e._s(e.totalGeral)+" "),a("br"),e._v(" baixar csv")])]:e._e()],2)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",e._l(t.items,(function(t){return a("v-col",{key:t.empresa,attrs:{cols:"4"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-chip",{staticStyle:{width:"50%","font-size":"large"},attrs:{color:"primary",large:"",outlined:""}},[e._v(" "+e._s(t.empresa)+" ")]),e._v(" "),a("v-spacer"),a("v-chip",{staticStyle:{"text-align":"right"},attrs:{color:"primary",large:""}},[a("a",{staticStyle:{color:"white"},on:{click:function(a){return e.api_downloadCSV(e.$route.params.id_job,t.empresa)}}},[e._v(" Baixar CSV ")])])],1)],1),a("v-list",e._l(e.filteredKeys,(function(o,s){return a("v-list-item",{key:s},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"5"}},[a("v-list-item-content",{class:{"blue--text":e.sortBy===o},staticStyle:{"font-size":"large"}},[e._v(e._s(o)+":")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-list-item-content",{staticClass:"title align-begin",class:{"blue--text":e.sortBy===o}},["arquivo"===o.toLowerCase()?a("v-list-item-content",{staticClass:"title align-begin"},[a("span",{staticStyle:{"font-size":"1.1vw"}},[e._v(" "+e._s(t[o.toLowerCase()])+" ")])]):"mediafile"===o.toLowerCase()?a("v-list-item-content",{staticClass:"title align-begin",staticStyle:{"text-align":"left"}},[a("a",{on:{click:function(a){e.startDownloadWindow(t[o.toLowerCase()])}}},[a("v-icon",[e._v("mdi-folder-download")]),e._v(" Download XMLs ")],1)]):"sequencia"===o.toLowerCase()?a("v-list-item-content",[e._v(" "+e._s(t[o.toLowerCase()])+" ")]):e._e()],1)],1)],1)],1)})),1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[a("v-row",{staticClass:"mt-2",attrs:{align:"center",justify:"center"}},[a("span",{staticClass:"grey--text"},[e._v("Items per page")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",s,!1),o),[e._v(" "+e._s(e.itemsPerPage)+" "),a("v-icon",[e._v("mdi-chevron-down")])],1)]}}])},[a("v-list",e._l(e.itemsPerPageArray,(function(t,o){return a("v-list-item",{key:o,on:{click:function(a){return e.updateItemsPerPage(t)}}},[a("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1),a("v-spacer"),a("span",{staticClass:"mr-4\r\n                        grey--text"},[e._v(" Page "+e._s(e.page)+" of "+e._s(e.numberOfPages)+" ")]),a("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.formerPage}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.nextPage}},[a("v-icon",[e._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1)],1),a("v-divider")],1)],1)],1)},he=[],me={props:{},name:"app",data:function(e){return{opt_empresa:[],opt_value_empresa:[],headers:[{text:"Critérios de Filtro utilizados",align:"start",value:"name",groupable:!0},{text:"ID",value:"category",align:"right"},{text:"NFE",value:"dairy",align:"right"}],values:[],navJobHeadersToJob:{__metadata:{id:"",uri:"",type:""},jobname:"",date_created:"",time_created:"",user_created:"",status:"",title:"",description:"",date_last_modif:"",time_last_modif:"",user_last_modif:"",doc_type:""},itemsPerPageArray:[3,6,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:6,sortBy:"Empresa",keys:["Empresa","Arquivo","Sequencia","MediaFile"],items:[],totalGeral:0}},methods:{formatDate:function(e,t){if(!e)return null;var a=e.substr(0,4),o=e.substr(4,2),s=e.substr(6,2);return t?"".concat(a," ").concat(o," ").concat(s):"".concat(s,"/").concat(o,"/").concat(a)},formatTime:function(e,t){if(!e)return null;var a=e.substr(0,2),o=e.substr(2,2),s=e.substr(4,2);return t?"".concat(a," ").concat(o," ").concat(s):"".concat(a,":").concat(o,":").concat(s)},fetchEmpresas:function(){var e=this,t=this.$host+"companies?$format=json";this.$http.get(t,{}).then((function(t){var a=[];t.data.d.results.forEach((function(t){a.push(t.bukrs),e.opt_value_empresa.push(t.bukrs)})),e.$store.dispatch("nfe_setEmpresas",a)}))},api_downloadCSV:function(e,t){var a=this.$host+"jobItems(jobname='".concat(e,"',company='").concat(t,"')/$value");this.startDownloadWindow(a)},api_buscaDetalhesJobScheduler:function(e){var t=this,a=this.$host+"jobHeaders(jobname='".concat(e,"',company='*')?$expand=navJobHeadersToJob,navJobHeaderToFiles&$format=json"),o={results:[{__metadata:{id:"",uri:"",type:"",content_type:"",media_src:""},jobname:"",company:"",seq:"",Mimetype:"",fileName:""}]};this.$http.get(a,{}).then((function(e){return console.log("navJobHeadersToJob>"),t.navJobHeadersToJob=e.data.d.navJobHeadersToJob,console.log(t.navJobHeadersToJob),o=e.data.d.navJobHeaderToFiles,console.log("LinksToDownloadDataResponse>"),o.results.forEach((function(e){t.items.push({empresa:e.company,arquivo:e.fileName,sequencia:e.seq,mediafile:t.$host+"files(jobname='".concat(e.jobname,"',company='").concat(e.company,"',seq='").concat(e.seq,"')/$value")}),t.totalGeral=parseInt(t.totalGeral)+1})),console.log(t.items),!0})).catch((function(e){return console.log("errro carregar empresas:"+e),!1}))},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e},startDownloadWindow:function(e){window.open(e)}},computed:{c_showName:function(){return""==this.navJobHeadersToJob.title?"N/A":this.navJobHeadersToJob.title},numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(e){return"Empresa"!==e}))},get_id_job:function(){return this.$route.params.id_job}},beforeMount:function(){"undefined"!=typeof this.$store.getters.nfe_getFiltrosEmpresa&&0!=this.$store.getters.nfe_getFiltrosEmpresa.length||this.fetchEmpresas(),this.api_buscaDetalhesJobScheduler(this.$route.params.id_job)}},fe=me,ge=Object(l["a"])(fe,ve,he,!1,null,"97fc1c0e",null),be=ge.exports;s["default"].use(p["a"]);var je=[{path:"/",name:"Main",component:g},{path:"/nfesaida",name:"NfeSaida",component:H},{path:"/details/:id_job",name:"SummaryDetail",component:ue},{path:"/download/:id_job",name:"DownloadPage",component:be},{path:"/nfeentrada",name:"NfeEntrada",component:W},{path:"/cteentrada",name:"CteEntrada",component:te},{path:"/ajuda",name:"Ajuda",component:function(){return a.e("chunk-2d0e22c7").then(a.bind(null,"7e25"))}}],xe=new p["a"]({base:"/",routes:je}),Ce=xe,ke=a("2f62");s["default"].use(ke["a"]);var ye=new ke["a"].Store({state:{filtros:{nfe_chave44:[],nfe_chavenf:[],nfe_empresa:[],nfe_cnpj_emissor:[],nfe_cnpj_destinario:[],nfe_data_inicio:"",nfe_data_fim:"",nfe_rem_cnpj:[],nfe_recebe_cnpj:[],nfe_toma_cnpj:[]},csrf_token:"",checkTimeout:!1},getters:{nfe_getTimeout:function(e){return e.checkTimeout},nfe_getFiltrosChave44:function(e){return e.filtros.nfe_chave44},nfe_getFiltros:function(e){return e.filtros.nfe_chave44},nfe_getFiltrosChaveNf:function(e){return e.filtros.nfe_chavenf},nfe_getFiltrosEmpresa:function(e){return e.filtros.nfe_empresa},nfe_getFiltrosNfeEmissor:function(e){return e.filtros.nfe_cnpj_emissor},nfe_getFiltrosNfeDestinatario:function(e){return e.filtros.nfe_cnpj_destinario},nfe_getFiltrosDataInicioConsulta:function(e){return e.filtros.nfe_data_inicio},nfe_getFiltrosDataFimConsulta:function(e){return e.filtros.nfe_data_fim},nfe_getCsrfToken:function(e){return e.csrf_token},nfe_getFiltrosCteRemCNPJ:function(e){return e.filtros.nfe_rem_cnpj},nfe_getFiltrosCteRecebedorCnpj:function(e){return e.filtros.nfe_recebe_cnpj},nfe_getFiltrosCteTomadorCnpj:function(e){return e.filtros.nfe_toma_cnpj}},mutations:{nfe_setTimeout:function(e,t){this.state.checkTimeout=t},nfe_setFiltrosChave44:function(e,t){this.state.filtros.nfe_chave44=t},nfe_setFiltrosChaveNf:function(e,t){this.state.filtros.nfe_chavenf=t},nfe_setFiltrosEmpresa:function(e,t){this.state.filtros.nfe_empresa=t},nfe_setFiltrosNfeEmissor:function(e,t){this.state.filtros.nfe_cnpj_emissor=t},nfe_setFiltrosNfeDestinatario:function(e,t){this.state.filtros.nfe_cnpj_destinario=t},nfe_setFiltrosDataInicioConsulta:function(e,t){this.state.filtros.nfe_data_inicio=t},nfe_setFiltrosDataFimConsulta:function(e,t){this.state.filtros.nfe_data_fim=t},nfe_setCsrfToken:function(e,t){this.state.csrf_token=t},nfe_setFiltrosCteRemCNPJ:function(e,t){this.state.filtros.nfe_rem_cnpj=t},nfe_setFiltrosCteRecebedorCnpj:function(e,t){this.state.filtros.nfe_recebe_cnpj=t},nfe_setFiltrosCteTomadorCnpj:function(e,t){this.state.filtros.nfe_toma_cnpj=t}},actions:{nfe_setTimeout:function(e,t){this.commit("nfe_setTimeout",t)},nfe_setChaves44:function(e,t){this.commit("nfe_setFiltrosChave44",t)},nfe_setChavesNf:function(e,t){this.commit("nfe_setFiltrosChaveNf",t)},nfe_setEmpresas:function(e,t){this.commit("nfe_setFiltrosEmpresa",t)},nfe_setNfeEmissor:function(e,t){this.commit("nfe_setFiltrosNfeEmissor",t)},nfe_setNfeDestinatario:function(e,t){this.commit("nfe_setFiltrosNfeDestinatario",t)},nfe_setFiltrosDataConsulta:function(e,t){this.commit("nfe_setFiltrosDataConsulta",t)},nfe_setFiltrosDataInicioConsulta:function(e,t){this.commit("nfe_setFiltrosDataInicioConsulta",t)},nfe_setFiltrosDataFimConsulta:function(e,t){this.commit("nfe_setFiltrosDataFimConsulta",t)},nfe_setCsrfToken:function(e,t){this.commit("nfe_setCsrfToken",t)},nfe_setFiltrosCteRemCNPJ:function(e,t){this.commit("nfe_setFiltrosCteRemCNPJ",t)},nfe_setFiltrosCteRecebedorCnpj:function(e,t){this.commit("nfe_setFiltrosCteRecebedorCnpj",t)},nfe_setFiltrosCteTomadorCnpj:function(e,t){this.commit("nfe_setFiltrosCteTomadorCnpj",t)}},modules:{}}),we=a("ce5b"),Fe=a.n(we),Se=(a("bf40"),a("eea9")),Ee=a.n(Se);s["default"].use(Fe.a);var $e=new Fe.a({lang:{locales:{pt:Ee.a},current:"pt"}}),De=a("bc3a"),Pe=a.n(De);a("d5e8"),a("5363");s["default"].config.productionTip=!1;var Ne="";Pe.a.interceptors.response.use((function(e){try{-1!==e.data.trim().indexOf("SAMLRequest")&&ye.dispatch("nfe_setTimeout",!0)}catch(error){return e}return e}),(function(e){if(403!==e.response.status&&401!==e.response.status)return Promise.reject(e);ye.dispatch("nfe_setTimeout",!0)})),s["default"].prototype.$http=Pe.a,Ne=window.location.href.toLowerCase().indexOf("localhost")>0?"https://fioridev.votorantim.com.br/sap/opu/odata/sap/ZGWBC_NFE_WEBAPP_SRV/":"/sap/opu/odata/sap/ZGWBC_NFE_WEBAPP_SRV/",s["default"].prototype.$host=Ne,s["default"].config.devtools=!0,new s["default"]({router:Ce,store:ye,vuetify:$e,render:function(e){return e(_)}}).$mount("#app")},e12d:function(e,t,a){}});
//# sourceMappingURL=app.631813b0.js.map