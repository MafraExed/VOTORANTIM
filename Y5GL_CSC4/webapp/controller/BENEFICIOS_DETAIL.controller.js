sap.ui.define(["Y5GL_CSC4/Y5GL_CSC4/controller/BaseController","sap/ui/Device","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/model/Filter","sap/m/Label","sap/m/TextArea","sap/m/ButtonType"],function(e,t,a,i,s,r,o,n,l){"use strict";var d,I,O,c,E,b,u;var A="";var _;return e.extend("Y5GL_CSC4.Y5GL_CSC4.controller.BENEFICIOS_DETAIL",{onInit:function(){this.getRouter().getRoute("BENEFICIOS_DETAIL").attachPatternMatched(this._onObjectMatched,this);var e=sap.ushell.Container.getUser().getFullName();this.getView().byId("idTitleDep").setText(e);var t=jQuery.sap.getModulePath("Y5GL_CSC4.Y5GL_CSC4");var a=t+"/imagens/loading.gif";this.getView().byId("idimg").setSrc(a)},formatVisibleMsg:function(e){if(e==="Em ResoluÃ§Ã£o"){return true}else{return false}},FormatEditable:function(e){return true},FormatValor:function(e){if(e===""||e===undefined){return 2}else{return e}},formathighlight:function(e){if(e==="X"){return"Success"}else{return"Error"}},formatVisiblebButton:function(e){if(e==="Em ResoluÃ§Ã£o"){return true}else{return false}},FormatBV:function(e){if(e==="Em ResoluÃ§Ã£o"||e===""){return false}else{return true}},formatVisibleEdit:function(e){if(e==="Em ResoluÃ§Ã£o"||e==="X"){return false}else{return true}},formatVisibleEditOpcoes:function(e){if(e==="Em ResoluÃ§Ã£o"){if(d==="SEGURO_VIDA"){return true}else{return false}}else{return true}},onchangeOpcoesSeguroVida:function(e){var t="0037";var a="PE05";var i=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();var s=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,u);var r=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,t);var o=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,a);var n=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var l=this.getView().byId("UploadCollection");l.getBinding("items").filter([s,r,o,n]);l.getBinding("items").refresh(true)},FormatForm:function(e){return false},onBindingContextUpload:function(e){var t=e},OnDelete:function(){var e=this.getView().getModel();var t=this.getView().byId("smartTable").getTable();var r=t._aSelectedPaths;var o=r.length;var n="Confirma a exclusão do dependente no plano?";var l={};var I="E$";var O;var c;var E;var b=d;var A=this;if(o===0){sap.m.MessageBox.error("Não existem dependentes marcados para inclusão");return}var _=new a({title:"Confirmação",type:"Message",content:new s({text:n}),beginButton:new i({text:"Sim",press:function(){for(var t=0;t<o;t++){var a=r[t];O=a.split(",");O=O[2];O=O.split("Subty=");O=O[1];while(O.indexOf("'")!==-1){O=O.replace("'","")}if(O<10){O="0"+O}c=a.split(",");c=c[3];c=c.split("Objps=");c=c[1];while(c.indexOf("'")!==-1){c=c.replace("'","")}while(c.indexOf(")")!==-1){c=c.replace(")","")}if(c===""){c="00"}I=I+O+"-"+c+"$"}E="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+u+"',Beneficio='"+b+"',Tipo='G')";l.Dependentes=I;switch(d){case"PLANO_MEDICO":l.Bplan=A.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();if(l.Bplan===""){A.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{A.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}l.Opcoes=A.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();if(l.Opcoes===""){A.getView().byId("IdOpcoes_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{A.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}l.CartMedica=A.getView().byId("idCartMedica").getValue();break}e.update(E,l,{success:function(e,t){sap.m.MessageBox.success("Benefício salvo com sucesso.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){A.getView().getModel().refresh(true);A.getView().byId("TextInclusao").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var a=JSON.parse(t);var i=a.error.message.value;sap.m.MessageBox.error(i,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){}});return}});_.close()}}),endButton:new i({text:"Não",press:function(){_.close()}}),afterClose:function(){_.destroy()}});_.open()},_onObjectMatched:function(e){this.getView().getModel().refresh(true);var t=e.getParameter("arguments").Beneficio;_=e.getParameter("arguments").Chamado;u=e.getParameter("arguments").Pernr;var a=e.getParameter("arguments").Zdesc;var i;var s;var r;this.getView().byId("idTitleDependentes").setText(a);d=t;r="V";this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.getModel().metadataLoaded().then(function(){var e=this.getModel().createKey("ZET_GLHR_EC_CSC_BENEFICIOSSet",{Pernr:u,Beneficio:t,Tipo:r,Chamado:_});this._bindView("/"+e)}.bind(this))},onBackMaster:function(){this.getView().getModel().refresh(true);this.getRouter().navTo("master")},onchangeIdMargemEmp:function(e){var t=this;var a;var i=e.getParameter("value");var s=e.getParameter("id");var r=s.split("DETAIL--")[1];var o;o=i;while(i.indexOf(",")!==-1){i=i.replace(",",".")}a=!isNaN(i);if(a===true){i=this.adicionarpontoFloat(o);this.getView().byId(r).setValue(i)}else{sap.m.MessageBox.error("O valor informado deverá ser um número.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){t.getView().byId("IdMargemEmp").setValue()}})}},onVoltar:function(){var e;var a;e=!t.system.phone;a="worklist";this.getRouter().navTo(a,e)},onCancel:function(){var e;var t=this;e=new a({title:"Confirmação",type:"Message",content:new s({text:"Deseja cancelar a alteração?"}),beginButton:new i({text:"Sim",press:function(){t.Cancela();t.getView().byId("TextInclusao").setVisible(false);e.close()}}),endButton:new i({text:"Não",press:function(){e.close()}}),afterClose:function(){e.destroy()}});e.open()},Cancela:function(){var e=this;e.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":e.getView().byId("TextInclusao").setVisible(false);e.getView().byId("TextExclusao").setVisible(false);e.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":e.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);e.getView().byId("TextInclusao").setVisible(false);e.getView().byId("TextExclusao").setVisible(false);break}e.getView().byId("IdIncluir").setVisible(false)},FormatIcon:function(e){if(e!=null){if(e==="Não"){return"sap-icon://add"}else if(e==="Sim"){return"sap-icon://delete"}}},FormatBVisible:function(e){if(e!=null){if(e==="Não"||e==="Sim"){return true}else{return false}}},FormatIncluir:function(e){var t=this.getView().byId("table1");var a=t.getBinding("rows").getLength();var i=0;var s;for(i;i<a;i++){s=t.getRows()[i].getCells()[1].getText();if(s==="Sim"){return true}else{return false}}},FormatExcluir:function(e){if(e==="Não"){return false}else{return true}},formatEditableUpload:function(e){var t=this.getView().byId("idVia2medico").getText();var a=this.getView().byId("idVia2Dent").getText();if(e==="Em ResoluÃ§Ã£o"){if(t==="X"||a==="X"){return false}else{return true}}else{return false}},onSave:function(e){var t;var a=this.getView().getModel();var i={};var s=this;var r=d;var o="0";var n="A";var l="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+u+"',Beneficio='"+r+"',Tipo='"+n+"')";var I="";switch(r){case"EMP_CONSIGNADO":I="x";break;case"ADELANTO":I="x";break;case"ADELANTO_SUELDOS":I="x";break;case"ASIGNACION":I="x";break;case"SEGURO_DE_VIDA":i.Bplan=this.getView().byId("IdPlano_SEGURO_DE_VIDA").getSelectedKey();i.Opcoes=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();I="x";break;case"PLANO_MEDICO":i.Bplan=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();i.Opcoes=this.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();I="x";break}if(I!=="x"){var O=this.getView().byId("IdPlano_"+d).getSelectedKey();var c=this.getView().byId("IdAno_"+d).getSelectedKey();i.Valor=O+"_"+c}i.Chamado=_;i.Tipo=i.Operation;i.Beneficio=r;if(i.Montante!==""&&i.Montante!==undefined){while(i.Montante.indexOf(".")!==-1){i.Montante=i.Montante.replace(".","")}i.Montante=i.Montante.replace(",",".")}this.GravaBeneficio(l,i,e)},FormatZero:function(){return""},GravaBeneficio:function(e,t,r){var o=this;var n=this.getView().getModel();var l="";var d;d="worklist";if(r==="X"){l="¿Confirmar pedido duplicado?"}else{l="¿Confirma el cambio / inclusión del beneficio?"}var I=new a({title:"Confirmação",type:"Message",content:new s({text:l}),beginButton:new i({text:"Si",press:function(){n.update(e,t,{success:function(e,t){sap.m.MessageBox.success("Beneficio aprobado con éxito",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){o.getView().getModel().refresh(true);o.getRouter().navTo(d)}})},error:function(e){var t=e;t=t.responseText;var a=JSON.parse(t);var i=a.error.message.value;sap.m.MessageBox.error(i,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){}});return}});I.close()}}),endButton:new i({text:"No",press:function(){I.close()}}),afterClose:function(){I.destroy()}});I.open()},onSaveCDep:function(){var e=this.getView().getModel();var t;var r={};var o=this;switch(d){case"PLANO_MEDICO":t=this.getView().byId("smartTable").getTable();r.Bplan=o.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();if(r.Bplan===""){o.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{o.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}r.Opcoes=o.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();if(r.Opcoes===""){o.getView().byId("IdOpcoes_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{o.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}r.CartMedica=o.getView().byId("idCartMedica").getValue();if(E==="X"){r.Via2medico=E}break;case"PLANO_ODONTOLOGICO":t=this.getView().byId("smartTable_PLANO_ODONTOLOGICO").getTable();r.Bplan=o.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();if(r.Bplan===""){o.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{o.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Success")}r.Opcoes=o.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getSelectedKey();if(r.Opcoes===""){o.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{o.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Success")}r.CartDentista=o.getView().byId("IdCartDentista").getValue();if(E==="X"){r.Via2Dent=E}break}var n;var l;var I;var O;var b="0";var u=d;var _;var g;g=t.getSelectedIndices();var V;if(A==="I"){_="Confirma a inclusão do dependente no plano?";n="I@"}else if(A==="C"){_="Confirma a solicitação da segunda via?";n="C@"}else if(E==="X"){n="2@"}else{_="Confirma a exclusão do dependente do plano?";n="E@"}if(E==="X"){V=new a({title:"Confirmação",type:"Message",content:new s({text:"Confirma a solicitação de segunda via para os dependentes selecionados?"}),beginButton:new i({text:"Sim",press:function(){var a;var i;for(var s=0;s<g.length;s++){a=t.getContextByIndex([g[s]]).getObject().Subty;i=t.getContextByIndex([g[s]]).getObject().Objps;n=n+a+"-"+i+"@"}O="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+u+"',Tipo='G')";r.Dependentes=n;e.update(O,r,{success:function(e,t){sap.m.MessageBox.success("Benefício salvo com sucesso.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){o.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);break}o.getView().byId("IdIncluir").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var a=JSON.parse(t);var i=a.error.message.value;sap.m.MessageBox.error(i,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){o.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);break}o.getView().byId("IdIncluir").setVisible(false)}});return}});V.close()}}),endButton:new i({text:"Não",press:function(){V.close()}}),afterClose:function(){V.destroy()}});V.open()}else{V=new a({title:"Confirmação",type:"Message",content:new s({text:_}),beginButton:new i({text:"Sim",press:function(){var t=c;l=t.split(",");l=l[2];l=l.split("Subty=");l=l[1];while(l.indexOf("'")!==-1){l=l.replace("'","")}if(l<10){l="0"+l}I=t.split(",");I=I[3];I=I.split("Objps=");I=I[1];while(I.indexOf("'")!==-1){I=I.replace("'","")}while(I.indexOf(")")!==-1){I=I.replace(")","")}if(I===""){I="00"}n=n+l+"-"+I;O="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+u+"',Tipo='G')";r.Dependentes=n;e.update(O,r,{success:function(e,t){sap.m.MessageBox.success("Benefício salvo com sucesso.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){o.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);break}o.getView().byId("IdIncluir").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var a=JSON.parse(t);var i=a.error.message.value;sap.m.MessageBox.error(i,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){o.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":o.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);o.getView().byId("TextInclusao").setVisible(false);o.getView().byId("TextExclusao").setVisible(false);break}o.getView().byId("IdIncluir").setVisible(false)}});return}});V.close()}}),endButton:new i({text:"Não",press:function(){V.close()}}),afterClose:function(){V.destroy()}});V.open()}},tirapontos:function(e){while(e.indexOf(".")!==-1){e=e.replace(".","")}while(e.indexOf(",")!==-1){e=e.replace(",",".")}return e},_bindView:function(e){var t=this.getView().getModel();var a=this;a.loading(false);this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){a.loading(true)},dataReceived:function(){a.loading(false)}}})},onAcao:function(e){O="X";var t=e.getSource().getId();var a=e.getSource().getIcon();this.getView().byId(t).setPressed(true);if(a==="sap-icon://add"){this.onIncluinoPlano(e)}else if(a==="sap-icon://delete"){this.onExluiPlano(e)}},AfterUpdate:function(e){var t=this.getView().byId("table1").getBinding("rows").getLength();if(t>0){this.getView().byId("table1").setVisibleRowCount(t)}else{this.getView().byId("FormContainer5_PLANO_MEDICO").setVisible(false)}},AfterUpdate_VALE_TRANSPORTE:function(e){var t=this.getView().byId("table1_VALE_TRANSPORT").getBinding("rows").getLength();if(t>0){this.getView().byId("table1_VALE_TRANSPORT").setVisibleRowCount(t)}else{this.getView().byId("FormContainer7_VALE_TRANSPORTE").setVisible(false)}},AfterUpdate_PLANO_ODONTOLOGICO:function(e){var t=this.getView().byId("table1_PLANO_ODONTOLOGICO").getBinding("rows").getLength();if(t>0){this.getView().byId("table1_PLANO_ODONTOLOGICO").setVisibleRowCount(t)}else{this.getView().byId("FormContainer5_PLANO_ODONTOLOGICO").setVisible(false)}},_onBindingChange:function(){this.filtraUploadCollection();this.getView().byId(d).setVisible(true);if(d!==undefined){switch(d){case"EMP_CONSIGNADO":this.empConsiginado();break;case"ADELANTO":this.adelanto();break;case"ADELANTO_SUELDOS":this.adelantoSueldos();break;case"ASIGNACION":this.asignacion();break;case"ESTAC_MOVBUS":this.estacMovBus();break;case"LABORAL":this.laboral();break;case"PASAJE":this.pasaje();break;case"REEMBOLSO_CURSOS":this.reembolsoCursos();break;case"REEMBOLSO_EXPATRIADO":this.reembolsoExpatriado();break;case"REEMBOLSO_IDIOMA":this.reembolsoIdioma();break;case"SEGURO_DE_VIDA":this.seguroVida();break;case"PLANO_MEDICO":this.planoMedico();break}}},empConsiginado:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},adelanto:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},adelantoSueldos:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},asignacion:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},estacMovBus:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},laboral:function(){var e,t,a;var e=this.getView().byId("idValor").getValue();var t;var a;e=e.split("_");t=e[0];a=e[1];this.getView().byId("IdPlano_LABORAL").setSelectedKey(t);this.getView().byId("IdAno_LABORAL").setSelectedKey(a)},pasaje:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},reembolsoCursos:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},reembolsoExpatriado:function(){var e=this.getView().byId("idValor").getValue();var t;var a;e=e.split("_");t=e[0];a=e[1];this.getView().byId("IdPlano_REEMBOLSO_EXPATRIADO").setSelectedKey(t);this.getView().byId("IdAno_REEMBOLSO_EXPATRIADO").setSelectedKey(a);this.getView().byId("IdEditDetailDep").setText("Solicitar")},reembolsoIdioma:function(){this.getView().byId("IdEditDetailDep").setText("Solicitar")},seguroVida:function(){var e=this.getView().byId("idValor").getValue();this.getView().byId("IdOpcoes_risco").setSelectedKey(e);var t=this.getView().byId("IdPlano_SEGURO_DE_VIDA").getSelectedKey();var a=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getBinding("items");var i=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,t);a.filter([i])},planoMedico:function(){var e=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();var t=this.getView().byId("IdOpcoes_PLANO_MEDICO").getBinding("items");var a=this.getView().byId("smartTable");var i=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,e);a.rebindTable("e");t.filter([i]);this.getView().byId("IdEditDetailDep").setText("Solicitar")},filtraUploadCollection:function(){var e,t,a,i;if(d!==undefined){switch(d){case"EMP_CONSIGNADO":e="XXXX";t="EMCO";a="x";break;case"ADELANTO":e="XXXX";t="ADEL";a="x";break;case"ADELANTO_SUELDOS":e="XXXX";t="ADES";a="x";break;case"ASIGNACION":e="XXXX";t="ASIG";a="x";break;case"ESTAC_MOVBUS":e="XXXX";t="ESMV";break;case"LABORAL":e="XXXX";t="LABO";break;case"PASAJE":e="XXXX";t="PASA";break;case"REEMBOLSO_CURSOS":e="XXXX";t="RECU";break;case"REEMBOLSO_EXPATRIADO":e="XXXX";t="REEX";break;case"REEMBOLSO_IDIOMA":e="XXXX";t="REID";break;case"SEGURO_DE_VIDA":e="0037";t="PE05";a="x";break;case"PLANO_MEDICO":e="0167";t="PS01";a="x";break}if(a!=="x"){i=this.getView().byId("idValor").getValue()}else{i=""}if(t!==""){var s=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,u);var r=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var o=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var n=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var l=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,i);var I=this.getView().byId("UploadCollection");I.getBinding("items").filter([s,r,o,n,l])}}},onConfirmMunicipio:function(e){var t=e.getParameter("selectedItem");this._valueHelpDialog1=null;if(t){var a=t.getTitle();var i=this.getView().byId(this.inputId);i.setValue(a)}},handleValueHelp:function(e){var t=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();if(t===""){sap.m.MessageBox.error("Informe o motivo.");return}var a=e.getSource().getValue();this.inputId=e.getSource().getId();if(!this._valueHelpDialog1){this._valueHelpDialog1=sap.ui.xmlfragment("Y5GL_EC_BENEFICIOS.Y5GL_EC_BENEFICIOS.view.Valor",this);this.getView().addDependent(this._valueHelpDialog1)}this._valueHelpDialog1.open(a);this._valueHelpDialog1.getBinding("items").filter([new r("IOpcao",sap.ui.model.FilterOperator.EQ,t)])},onchangeMotivo:function(e){var t=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();var a=new sap.ui.model.Filter("IOpcao",sap.ui.model.FilterOperator.EQ,t);var i=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA1").getBinding("items");i.filter([a])},onchangePlano:function(e){var t=e.getParameter("id");t=t.split("BENEFICIOS_DETAIL--");t=t[1];var a=this.getView().byId(t).getSelectedKey();var i=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,a);var s=new sap.ui.model.Filter("IBplan",sap.ui.model.FilterOperator.EQ,a);var r;var o;switch(d){case"PLANO_MEDICO":r=this.getView().byId("IdOpcoes_PLANO_MEDICO").getBinding("items");r.filter([i]);break;case"PLANO_ODONTOLOGICO":r=this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getBinding("items");r.filter([i]);break;case"FARMACIA":o=this.getView().byId("IdMotivo_FARMACIA").getBinding("items");o.filter([s]);break;case"PREVIDENCIA_PRIVADA":o=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getBinding("items");o.filter([s])}},onIncluinoPlano:function(e){sap.m.MessageBox.alert("Anexe o documento para prosseguir.");c=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);A="I";this.getView().byId("TextInclusao").setVisible(true);this.getView().byId("TextExclusao").setVisible(false)},onExluiPlano:function(e){sap.m.MessageBox.alert("Anexe o documento para prosseguir.");c=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);A="E";this.getView().byId("TextInclusao").setVisible(false);this.getView().byId("TextExclusao").setVisible(true)},onChange:function(e){var t=e.getSource();var a=this.getView().getModel();a.refreshSecurityToken();var i=a.oHeaders;var s=i["x-csrf-token"];var r=new sap.m.UploadCollectionParameter({name:"x-csrf-token",value:s});t.addHeaderParameter(r)},onBeforeUploadStarts:function(e){var t="0";var a;var a;var i;var s;var r="";switch(d){case"FUNSEJEM":a="";i="";break;case"PLANO_MEDICO":a="0167";i="MEDI";s=this.getView().byId("smartTable").getTable();break;case"PLANO_ODONTOLOGICO":a="0167";i="DENT";s=this.getView().byId("smartTable_PLANO_ODONTOLOGICO").getTable();r=b;break;case"PLANO_DENT_2":a="0167";i="ODNT";break;case"SEGURO_VIDA":a="0037";i="PE05";r=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":a="XXXX";i="TRAN";break;case"VALE_REFEICAO":a="0377";i="VALM";break;case"AUXILIO_CRECHE":a="XXXX";i="CREC";r=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break;case"COOPERATIVA":a="4707";i="";break;case"GREMIO_CLUBE":a="9003";i="";break;case"EMP_CONSIGINADO":a="";i="";break;case"ADELANTO":a="";i="";break;case"ADELANTO_SUELDOS":a="";i="";break;case"ASIGNACION":a="";i="";break;case"FARMACIA":a="0377";i="FARM";break;case"REEMBOLSO_SUBSIDIO":a="";i="";break;case"ALIMENTACAO":a="0377";i="VALM";break;case"OTICA":a="0377";i="OTIC";break;case"CESTA_BASICA":a="0377";i="CEST";r=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":a="0169";i="PREV";r=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":a="0169";i="PREB";break;case"PREV_PRIV_ESP":a="0169";i="PREE";break;case"PREV_PRIV_NOR":a="0169";i="PREN";break;case"PREV_PRIV_SUP":a="0169";i="PRES";break;case"REEMBOLSO_ESTACIONAM":a="XXXX";i="REES";r=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break;case"REEMBOLSO_EDUCACAO":a="XXXX";i="REED";r=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break}var o;var n="0";var l="";var I="";if(O==="X"){if(A==="I"){l="I@";I="Não existem dependentes marcados para inclusão"}else{l="E@";I="Não existem dependentes marcados para Exclusão"}var E=c;o=E.split(",");o=o[2];o=o.split("Subty=");o=o[1];while(o.indexOf("'")!==-1){o=o.replace("'","")}if(o<10){o="0"+o}n=E.split(",");n=n[3];n=n.split("Objps=");n=n[1];while(n.indexOf("'")!==-1){n=n.replace("'","")}while(n.indexOf(")")!==-1){n=n.replace(")","")}if(n===""){n="00"}l=l+o+"-"+n}if(t!==""||o!==""||n!==""){var u=t+"$"+a+"$"+i+"$"+n+"$"+e.getParameter("fileName")+"$ $ $"+l+"$"+r;var _=new sap.m.UploadCollectionParameter({name:"slug",value:u});e.getParameters().addHeaderParameter(_)}},onuploadComplete:function(e){var t="0";var a;var i;var s="";switch(d){case"FUNSEJEM":a="";i="";break;case"PLANO_MEDICO":a="0167";i="MEDI";break;case"PLANO_ODONTOLOGICO":a="0167";i="DENT";s=b;break;case"PLANO_DENT_2":a="0167";i="ODNT";break;case"SEGURO_VIDA":a="0037";i="PE05";s=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":a="XXXX";i="TRAN";break;case"VALE_REFEICAO":a="0377";i="VALM";break;case"AUXILIO_CRECHE":a="XXXX";i="CREC";s=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":a="4707";i="";break;case"GREMIO_CLUBE":a="9003";i="";break;case"EMP_CONSIGINADO":a="";i="";break;case"ADELANTO":a="";i="";break;case"ADELANTO_SUELDOS":a="";i="";break;case"ASIGNACION":a="";i="";break;case"FARMACIA":a="0377";i="FARM";break;case"REEMBOLSO_SUBSIDIO":a="";i="";break;case"ALIMENTACAO":a="0377";i="VALM";break;case"OTICA":a="0377";i="OTIC";break;case"CESTA_BASICA":a="0377";i="CEST";s=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":a="0169";i="PREV";s=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":a="0169";i="PREB";break;case"PREV_PRIV_ESP":a="0169";i="PREE";break;case"PREV_PRIV_NOR":a="0169";i="PREN";break;case"PREV_PRIV_SUP":a="0169";i="PRES";break;case"REEMBOLSO_ESTACIONAM":a="XXXX";i="REES";s=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();break;case"REEMBOLSO_EDUCACAO":a="XXXX";i="REED";s=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break}if(O==="X"){var r="";var o="";var n="";var l="";if(A==="I"){r="I@";o="Não existem dependentes marcados para inclusão"}else{r="E@";o="Não existem dependentes marcados para Exclusão"}var I=c;n=I.split(",");n=n[2];n=n.split("Subty=");n=n[1];while(n.indexOf("'")!==-1){n=n.replace("'","")}if(n<10){n="0"+n}l=I.split(",");l=l[3];l=l.split("Objps=");l=l[1];while(l.indexOf("'")!==-1){l=l.replace("'","")}while(l.indexOf(")")!==-1){l=l.replace(")","")}if(l===""){l="00"}r=r+n+"-"+l}if(t!==""||n!==""){var E=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var u=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,a);var _=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,i);var g=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,s);var V=this.getView().byId("UploadCollection");V.getBinding("items").filter([u,_,E,g])}},onmodelListContextChange:function(e){var t;var a;var i=" ";switch(d){case"FUNSEJEM":t="";a="";break;case"PLANO_MEDICO":t="0167";a="MEDI";break;case"PLANO_ODONTOLOGICO":t="0167";a="DENT";break;case"PLANO_DENT_2":t="0167";a="ODNT";break;case"SEGURO_VIDA":t="0037";a="PE05";i=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":t="XXXX";a="TRAN";break;case"VALE_REFEICAO":t="0377";a="VALM";break;case"AUXILIO_CRECHE":t="XXXX";a="CREC";i=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":t="4707";a="";break;case"GREMIO_CLUBE":t="9003";a="";break;case"EMP_CONSIGINADO":t="";a="";break;case"ADELANTO":t="";a="";break;case"ADELANTO_SUELDOS":t="";a="";break;case"ASIGNACION":t="";a="";break;case"FARMACIA":t="0377";a="FARM";break;case"REEMBOLSO_SUBSIDIO":t="";a="";break;case"ALIMENTACAO":t="0377";a="VALM";break;case"OTICA":t="0377";a="OTIC";break;case"CESTA_BASICA":t="0377";a="CEST";i=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":t="0169";a="PREV";i=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":t="0169";a="PREB";break;case"PREV_PRIV_ESP":t="0169";a="PREE";break;case"PREV_PRIV_NOR":t="0169";a="PREN";break;case"PREV_PRIV_SUP":t="0169";a="PRES";break;case"REEMBOLSO_ESTACIONAM":t="XXXX";a="REES";i=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();break;case"REEMBOLSO_EDUCACAO":t="XXXX";a="REED";i=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break}var s=a;if(u!==""||s!==""){var r=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,u);var o=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,t);var n=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,s);var l=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var I=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,i);var O=this.getView().byId("UploadCollection");O.getBinding("items").filter([r,o,n,l,I])}},onDeleteSelectedItems:function(e){var t=this.getView().byId("UploadCollection");var r=t.oList;var o;var n;var l=" ";switch(d){case"FUNSEJEM":o="";n="";break;case"PLANO_MEDICO":o="0167";n="MEDI";break;case"PLANO_ODONTOLOGICO":o="0167";n="DENT";break;case"PLANO_DENT_2":o="0167";n="ODNT";break;case"SEGURO_VIDA":o="0037";n="PE05";l=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":o="XXXX";n="TRAN";break;case"VALE_REFEICAO":o="0377";n="VALM";break;case"AUXILIO_CRECHE":o="XXXX";n="CREC";l=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":o="4707";n="";break;case"GREMIO_CLUBE":o="9003";n="";break;case"EMP_CONSIGINADO":o="";n="";break;case"ADELANTO":o="";n="";break;case"ADELANTO_SUELDOS":o="";n="";break;case"ASIGNACION":o="";n="";break;case"FARMACIA":o="0377";n="FARM";break;case"REEMBOLSO_SUBSIDIO":o="";n="";break;case"ALIMENTACAO":o="0377";n="VALM";break;case"OTICA":o="0377";n="OTIC";break;case"CESTA_BASICA":o="0377";n="CEST";l=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":o="0169";n="PREV";l=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":o="0169";n="PREB";break;case"PREV_PRIV_ESP":o="0169";n="PREE";break;case"PREV_PRIV_NOR":o="0169";n="PREN";break;case"PREV_PRIV_SUP":o="0169";n="PRES";break;case"REEMBOLSO_ESTACIONAM":o="XXXX";n="REES";l=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();break;case"REEMBOLSO_EDUCACAO":o="XXXX";n="REED";l=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break}var I=this.getView().getModel();var E="0";var b="0";var _=o;var g="0";var V="E";var p=e.getParameters("listItem");var C=p.documentId;C=parseInt(C);var f=this.getView().byId("idTipo").getValue();if(f==="Em ResoluÃ§Ã£o"){sap.m.MessageBox.error("Não será possivel exclusão do anexo, quando o chamado ja existir.");return}var S="";if(A==="I"){S="Não existem dependentes marcados para inclusão"}else{S="Não existem dependentes marcados para Exclusão"}var t=this.getView().byId("UploadCollection");var P="";if(O==="X"){var S="";var y="";var D="";if(A==="I"){P="I@";S="Não existem dependentes marcados para inclusão"}else{P="E@";S="Não existem dependentes marcados para Exclusão"}var N=c;y=N.split(",");y=y[2];y=y.split("Subty=");y=y[1];while(y.indexOf("'")!==-1){y=y.replace("'","")}if(y<10){y="0"+y}D=N.split(",");D=D[3];D=D.split("Objps=");D=D[1];while(D.indexOf("'")!==-1){D=D.replace("'","")}while(D.indexOf(")")!==-1){D=D.replace(")","")}if(D===""){D="00"}P=P+y+"-"+D}var v="/ZET_GLRH_UPLOADSet(Ano='"+E+"',Favor='"+b+"',Infty='"+_+"',Mes='"+g+"',Pernr='"+u+"',Tipo='"+V+"',Subty='"+n+"',DocId="+C+",Objps='',Icnum='',Valor='"+l+"',Dependentes='"+P+"')";var m={};m.DocId=C;m.Valor=l;var R=new a({title:"Confirmação",type:"Message",content:new s({text:"Confirma a exclusão anexo?"}),beginButton:new i({text:"Sim",press:function(){I.update(v,m,{success:function(e,a){sap.m.MessageBox.success("Documentos excluido com sucesso.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){t.getBinding("items").refresh(true)}})},error:function(e){var a=e;a=a.responseText;var i=JSON.parse(a);var s=i.error.message.value;sap.m.MessageBox.error(s,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){t.getBinding("items").refresh(true)}});return}});R.close()}}),endButton:new i({text:"Não",press:function(){R.close()}}),afterClose:function(){R.destroy()}});R.open()},FormatSelectionMode:function(e){return"None"},onAdd:function(){var e="A";var t="0";var a="-";var i="-";var s="DependentesAdd";var r="-";this.getRouter().navTo(s,{Pernr:u,Subty:a,Objps:t,Tipo:e,Favor:i,Icnum:r})},onSegunda:function(){var e=this;var t;E="X";var a=this.getView().byId("table1").getBinding("rows").getLength();if(a>0){t="Deseje solicitar segunda via da carterinha para:";sap.m.MessageBox.show(t,{actions:["Dependente","Titular"],onClose:function(t){if(t==="Dependente"){e.byId("table1").setSelectionMode("MultiToggle")}else if(t==="Titular"){e.onSave(E)}}})}else{e.onSave(E)}},onEdit:function(){var e=this.getView();I=true;O="";e.byId("UPLOAD").setVisible(true);switch(d){case"FUNSEJEM":e.byId("IdPlano_FUNSEJEM").setEditable(true);e.byId("IdMargemEmp").setEditable(true);break;case"PLANO_MEDICO":e.byId("IdPlano_PLANO_MEDICO").setEditable(true);e.byId("idCartMedica").setEditable(true);e.byId("IdOpcoes_PLANO_MEDICO").setEditable(true);e.byId("IdIncluir").setVisible(false);break;case"PLANO_ODONTOLOGICO":e.byId("IdPlano_PLANO_ODONTOLOGICO").setEditable(true);e.byId("IdCartDentista").setEditable(true);e.byId("IdOpcoes_PLANO_ODONTOLOGICO").setEditable(true);break;case"PLANO_DENT_2":e.byId("IdPlano_PLANO_DENT_2").setEditable(true);e.byId("IdCartPLANO_DENT_2").setEditable(true);break;case"SEGURO_VIDA":e.byId("IdOpcoes_SEGURO_DE_VIDA").setEditable(true);e.byId("TextPlano").setVisible(true);break;case"TRANSPORTE":e.byId("TextVALE_TRANSPORTE").setVisible(true);e.byId("FormContainer6_VALE_TRANSPORTE").setVisible(true);var t=this.getView().byId("smartTable_VALE_TRANSPORTE");t.rebindTable("e");break;case"VALE_REFEICAO":e.byId("IdPlano_VALE_REFEICAO").setEditable(true);e.byId("IdOpcoes_VALE_REFEICAO").setEditable(true);break;case"AUXILIO_CRECHE":e.byId("IdPlano_AUXILIO_CRECHE").setEditable(true);e.byId("TextAUXILIO_CRECHE").setVisible(true);break;case"COOPERATIVA":e.byId("IdRubrica_COOPERATIVA").setEditable(true);e.byId("IdMontanteCoop").setEditable(true);e.byId("IdValidadeCoop").setEditable(true);e.byId("IdObservacao_COOPERATIVA").setEditable(true);break;case"GREMIO_CLUBE":e.byId("IdPlano_GREMIO_CLUBE").setEditable(true);e.byId("IdObservacao_GREMIO_CLUBE").setEditable(true);break;case"EMP_CONSIGINADO":e.byId("IdPlano_EMPRESTIMO_CONSIGINADO").setEditable(true);e.byId("IdMontante_EMPRESTIMO_CONSIGINADO").setEditable(true);e.byId("IdValidade_EMPRESTIMO_CONSIGINADO").setEditable(true);e.byId("IdObservacao_EMPRESTIMO_CONSIGINADO").setEditable(true);break;case"ADELANTO":e.byId("IdPlano_ADELANTO").setEditable(true);e.byId("IdMontante_ADELANTO").setEditable(true);e.byId("IdValidade_ADELANTO").setEditable(true);e.byId("IdObservacao_ADELANTO").setEditable(true);break;case"ADELANTO_SUELDOS":e.byId("IdPlano_ADELANTO_SUELDOS").setEditable(true);e.byId("IdMontante_ADELANTO_SUELDOS").setEditable(true);e.byId("IdValidade_ADELANTO_SUELDOS").setEditable(true);e.byId("IdObservacao_ADELANTO_SUELDOS").setEditable(true);break;case"ASIGNACION":e.byId("IdPlano_ASIGNACION").setEditable(true);e.byId("IdMontante_ASIGNACION").setEditable(true);e.byId("IdValidade_ASIGNACION").setEditable(true);e.byId("IdObservacao_ASIGNACION").setEditable(true);break;case"FARMACIA":e.byId("IdPlano_FARMACIA").setEditable(true);e.byId("IdMotivo_FARMACIA").setEditable(true);break;case"REEMBOLSO_SUBSIDIO":e.byId("IdPlano_ALIMENTACAO").setEditable(true);e.byId("IdMontante_REEMBOLSO_SUBSIDIO").setEditable(true);e.byId("IdValidade_REEMBOLSO_SUBSIDIO").setEditable(true);e.byId("IdObservacao_REEMBOLSO_SUBSIDIO").setEditable(true);break;case"ALIMENTACAO":e.byId("IdPlano_ALIMENTACAO").setEditable(true);e.byId("IdOpcoes_ALIMENTACAO").setEditable(true);e.byId("IdObservacao_ALIMENTACAO").setEditable(true);break;case"OTICA":e.byId("IdPlano_OTICA").setEditable(true);e.byId("IdOpcoes_OTICA").setEditable(true);e.byId("IdObservacao_OTICA").setEditable(true);break;case"CESTA_BASICA":e.byId("IdMotivo_CESTA_BASICA").setEditable(true);e.byId("idTelefone").setEditable(true);e.byId("TextCesta").setVisible(true);break;case"PREVIDENCIA_PRIVADA":e.byId("IdMotivo_PREVIDENCIA_PRIVADA").setEditable(true);e.byId("IdValor1_PREVIDENCIA_PRIVADA1").setEditable(true);e.byId("TextPrevidencia").setVisible(true);break;case"PREV_PRIV_BAS":e.byId("IdPlano_PREV_PRIV_BAS").setEditable(true);break;case"PREV_PRIV_ESP":e.byId("IdPlano_PREV_PRIV_ESP").setEditable(true);break;case"PREV_PRIV_NOR":e.byId("IdPlano_PREV_PRIV_NOR").setEditable(true);break;case"PREV_PRIV_SUP":e.byId("IdPlano_PREV_PRIV_SUP").setEditable(true);break;case"REEMBOLSO_ESTACIONAM":e.byId("IdPlano_REEMBOLSO_ESTACIONAM").setEditable(true);e.byId("TextREEMBOLSO_ESTACIONAM").setVisible(true);break;case"REEMBOLSO_EDUCACAO":e.byId("IdPlano_REEMBOLSO_EDUCACAO").setEditable(true);e.byId("TextREEMBOLSO_EDUCACAO").setVisible(true);break}e.byId("IdEditDetailDep").setVisible(false)},formatFalse:function(){return false},onSelected:function(){this.getView().byId("FormContainer7_VALE_TRANSPORTE").setVisible(true)},onbeforeRebindTable_VALE_TRANSPORTE:function(e){var t="TRANSPORTE";if(t!==undefined||t!==""){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IBplan",operator:"EQ",value1:t}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IBeneficio",operator:"EQ",value1:t}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"Chamado",operator:"EQ",value1:_}))}},onbeforeRebindTable:function(e){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPernr",operator:"EQ",value1:u}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPlan",operator:"EQ",value1:"MEDI"}))},onbeforeRebindTable_smartTable_PLANO_ODONTOLOGICO:function(e){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPlan",operator:"EQ",value1:"DENT"}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPernr",operator:"EQ",value1:u}))},OnEditDep:function(){var e=this.getView().byId("table");var t=e.getSelectedItems();var a;var i;var s=t.length;var r;var o="V";var n;var l;var d="DepententeDetail";if(s>1){sap.m.MessageBox.error("Por favor, selecione apenas um dependente para edição.");return}a=t[0].getBindingContextPath();i=a.split(",");r=i[2];r=r.split("=");r=r[1];while(r.indexOf("'")!==-1){r=r.replace("'","")}n=i[3];n=n.split("=");n=n[1];this.getRouter().navTo(d,{Pernr:u,Subty:r,Objps:n,Tipo:o,Favor:l})},formatSelect:function(e){if(e==="X"){return true}else{return false}},onChangeMotivoPrev:function(){var e=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();var t=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA1");var a=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA");var i;switch(e){case"AB":i="Informe para alteração de beneficiários";t.setVisible(true);a.setVisible(false);break;case"AD":i="Informe valor da Adesão.";t.setVisible(true);a.setVisible(false);break;case"CA":i="Informe o valor da contribuição adicional.";t.setVisible(false);a.setVisible(true);break;case"CB":i="Informe o valor da contribuição básica.";t.setVisible(true);a.setVisible(false);break;case"MI":i="Informe o valor para alterar modalidade de investimento.";t.setVisible(true);a.setVisible(false);break}if(e==="CA"){this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(false);this.getView().byId("FormContainer5_PREVIDENCIA_PRIVADA").setVisible(true)}else if(e==="AB"){this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(false)}else{this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(true);this.getView().byId("FormContainer5_PREVIDENCIA_PRIVADA").setVisible(false);var s=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA1").getBinding("items");var r=new sap.ui.model.Filter("IOpcao",sap.ui.model.FilterOperator.EQ,e);s.filter([r])}t.setPlaceholder(i);a.setPlaceholder(i)},onCancelBeneficio:function(){sap.m.MessageBox.error("Anexe o formulario para continuar.");b="C";this.getView().byId("UPLOAD").setVisible(true)}})});