"use strict";
/*!
 * SiGC - GestiÃ³n de Compras
 * (c) Copyright 2022 Innova Internacional S.A.S.
 */sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/util/Storage","../numberFormat"],function(t,e,a){return t.extend("com.innova.sigc.model.session.SessionStorageModel",{_STORAGE_KEY:"oMQDlug5EfvVaKq2JiZ",_storage:null,constructor:function a(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++){r[o]=arguments[o]}var i=r[0];t.apply(this,[].slice.call(r,1));this.setSizeLimit(1e6);if(i){this._STORAGE_KEY=i}this._storage=new e(e.Type.session,this._STORAGE_KEY);this._loadData();return this},_loadData:function t(){var e=this._storage.get(this._STORAGE_KEY);if(e){var a=JSON.parse(e);this._setNumberFormat(a);this.setData(a)}this._bDataLoaded=true},_setNumberFormat:function t(e){if(this._STORAGE_KEY==="MAIN"){var s=e.sysParams.sepmil;var r=e.sysParams.sepdec;a.getNumberFormat(s,r);a.getFormatOptions(s,r)}},_storeData:function t(){var e=this.getData();var a=JSON.stringify(e);this._storage.put(this._STORAGE_KEY,a)},setProperty:function e(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++){s[r]=arguments[r]}t.prototype.setProperty.apply(this,s);this._storeData()},setData:function e(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++){s[r]=arguments[r]}t.prototype.setData.apply(this,s);if(this._bDataLoaded){this._storeData()}},refresh:function e(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++){s[r]=arguments[r]}t.prototype.refresh.apply(this,s);this._storeData()},destroy:function e(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++){s[r]=arguments[r]}t.prototype.destroy.apply(this,s);this._bDataLoaded=false;this._storage.remove(this._STORAGE_KEY)}})});