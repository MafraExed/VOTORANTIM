sap.ui.define(["./BaseController","sap/ui/Device","sap/m/Dialog","sap/m/Button","sap/ui/model/json/JSONModel"],function(e,t,a,i,r){"use strict";var s;var o;var n;return e.extend("Y5GL_RECIBOS.Y5GL_RECIBOS.controller.admto_15",{onInit:function(){this.getRouter().getRoute("admto_15").attachPatternMatched(this._onObjectMatched,this)},onmodelContextChange:function(e){var t=new sap.ui.model.Filter("Ano",sap.ui.model.FilterOperator.EQ,o);var a=new sap.ui.model.Filter("Mes",sap.ui.model.FilterOperator.EQ,n);var i=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,s);e.getSource().getBinding("items").filter([i,t,a])},onBackMaster:function(){this.getRouter().navTo("master")},onVoltar:function(){this.getRouter().navTo("master")},_onObjectMatched:function(e){o=e.getParameter("arguments").ano;n=e.getParameter("arguments").mes;var t=e.getParameter("arguments").desc;var a;this.getView().byId("idTitleRecibos").setText(t);switch(t){case"ADIANTAMENTO QUINZENAL":s="A";break;case"FÉRIAS":s="B";break;case"INFORME DE RENDIMENTOS":s="C";break;case"PAGAMENTO MENSAL":s="D";break;case"PPRV":s="E";break;case"PRV":s="F";break;case"13º SALÁRIO":s="G";break}a="/sap/opu/odata/sap/ZGWGLRH_MEU_CADASTRO_SRV/ZET_GLHR_UPFILESet('0$-$-$"+n+"$"+o+"$"+s+"')/$value";this.getView().byId("idUploadCollectionItem").setUrl(a);var i=new sap.ui.model.Filter("Ano",sap.ui.model.FilterOperator.EQ,o);var r=new sap.ui.model.Filter("Mes",sap.ui.model.FilterOperator.EQ,n);var l=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,s);this.getView().byId("UploadCollection").getBinding("items").filter([l,i,r])},_bindView:function(e){var t=this.getView().getModel();t.setProperty("/busy",false);this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(){t.setProperty("/busy",false)}}})},_onBindingChange:function(){var e=this.getView(),t=e.getElementBinding();if(!t.getBoundContext()){this.getRouter().getTargets().display("detailObjectNotFound");this.getOwnerComponent().oListSelector.clearMasterListSelection();return}var a=t.getPath(),i=this.getResourceBundle(),r=e.getModel().getObject(a),s=r.Programm,o=r.Zparam,n=r.Zdesc,l=this.getModel("detailView");this.getOwnerComponent().oListSelector.selectAListItem(a);l.setProperty("/saveAsTileTitle",i.getText("shareSaveTileAppTitle",[n]));l.setProperty("/shareOnJamTitle",o);l.setProperty("/shareSendEmailSubject",i.getText("shareSendEmailObjectSubject",[s]));l.setProperty("/shareSendEmailMessage",i.getText("shareSendEmailObjectMessage",[o,s,location.href]))}})});