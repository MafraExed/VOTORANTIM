sap.ui.define(["Y5GL_EC_BENEF2/Y5GL_EC_BENEF2/controller/BaseController","sap/ui/Device","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/model/Filter","sap/m/Label","sap/m/TextArea","sap/m/ButtonType"],function(e,t,i,s,a,r,l,I,o){"use strict";var d,n,O,b,V,E;var c="";return e.extend("Y5GL_EC_BENEF2.Y5GL_EC_BENEF2.controller.BENEFICIOS_DETAIL",{onInit:function(){this.getRouter().getRoute("BENEFICIOS_DETAIL").attachPatternMatched(this._onObjectMatched,this);this.buscaImagem()},formatVisibleMsg:function(e){if(e==="Aguardando aprovação"){return true}else{return false}},formatVisibleexcl:function(e){if(e==="F"){return false}else{return true}},FormatEditable:function(e){if(e===""){return true}else{return false}},FormatValor:function(e){if(e===""||e===undefined){return 2}else{return e}},formathighlight:function(e){if(e==="X"){return"Success"}else{return"Error"}},formatVisiblebButton:function(e){if(e==="Aguardando aprovação"){return true}else{return false}},FormatBV:function(e){if(d!=="COOPERATIVA"){if(d!=="TRANSPORTE"){if(e==="Aguardando aprovação"||e===""){return false}else{return true}}else{return false}}else{return false}},formatVisibleEdit:function(e){if(e==="Aguardando aprovação"||e==="X"){return false}else{return true}},formatVisibleEditOpcoes:function(e){if(e==="Aguardando aprovação"){if(d==="SEGURO_VIDA"){return true}else{return false}}else{return true}},onchangeOpcoesSeguroVida:function(e){var t="0";var i="0168";var s="VIDA";var a=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,t);var r=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,i);var l=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,s);var I=this.getView().byId("UploadCollection");I.getBinding("items").filter([a,r,l]);I.getBinding("items").refresh(true)},onchangeParentesco:function(e){var t=this.getView().byId("IdPlano_SEGURO_VIDA").getSelectedKey();var i=this.getView().byId("IdOpcoes_SEGURO_VIDA").getBinding("items");var s=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,t);i.filter([s])},onchangeOpcoes:function(e){if(d==="PLANO_ODONTOLOGICO"){var t=this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();var i=this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getSelectedKey();const e=this.getView().byId("idbPLAN").getValue();const s=this.getView().byId("idbOPCOES").getValue();if(e!==t||s!==i){this.getView().byId("CHECKBOX").setVisible(true);this.getView().byId("CheckBox").setSelected(false)}else{this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false)}}},FormatForm:function(e){return false},onBindingContextUpload:function(e){var t=e},onchangeModCesta:function(){var e=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();if(e==="1"){this.getView().byId("UPLOAD").setVisible(false)}else{this.getView().byId("UPLOAD").setVisible(true)}},OnDelete:function(){var e=this.getView().getModel();var t=this.getView().byId("smartTable_PLANO_MEDICO").getTable();var r=t._aSelectedPaths;var l=r.length;var I="Confirma a exclusão do dependente no plano?";var o={};var n="E$";var O;var b;var V;var E="0";var c=d;var g=this;if(l===0){sap.m.MessageBox.error("Não existem dependentes marcados para inclusão");return}var _=new i({title:"Confirmação",type:"Message",content:new a({text:I}),beginButton:new s({text:"Sim",press:function(){for(var t=0;t<l;t++){var i=r[t];O=i.split(",");O=O[2];O=O.split("Subty=");O=O[1];while(O.indexOf("'")!==-1){O=O.replace("'","")}if(O<10){O="0"+O}b=i.split(",");b=b[3];b=b.split("Objps=");b=b[1];while(b.indexOf("'")!==-1){b=b.replace("'","")}while(b.indexOf(")")!==-1){b=b.replace(")","")}if(b===""){b="00"}n=n+O+"-"+b+"$"}V="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+E+"',Beneficio='"+c+"',Tipo='G')";o.Dependentes=n;switch(d){case"PLANO_MEDICO":o.Bplan=g.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();if(o.Bplan===""){g.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{g.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}o.Opcoes=g.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();if(o.Opcoes===""){g.getView().byId("IdOpcoes_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{g.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}o.CartMedica=g.getView().byId("idCartMedica").getValue();break}e.update(V,o,{success:function(e,t){sap.m.MessageBox.success("Solicitação de exclusão enviada com sucesso.",{actions:["OK"],onClose:function(e){g.getView().getModel().refresh(true);g.getView().byId("TextInclusao").setVisible(false);g.getView().byId("TextInclusao_CNUN_BRAD").setVisible(false);g.getView().byId("TextInclusao_SCMP").setVisible(false);g.getView().byId("TextInclusao_UNCU").setVisible(false);g.getView().byId("TextInclusao_UNJZ").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var i=JSON.parse(t);var s=i.error.message.value;sap.m.MessageBox.error(s,{actions:["OK"],onClose:function(e){}});return}});_.close()}}),endButton:new s({text:"Não",press:function(){_.close()}}),afterClose:function(){_.destroy()}});_.open()},_onObjectMatched:function(e){this.getView().getModel().refresh(true);var t=e.getParameter("arguments").Zparam;var i=e.getParameter("arguments").Zdesc;var s="0";var a;var r;var l;this.getView().byId("idTitleDependentes").setText(i);d=t;l="V";switch(d){case"AUXILIO_CRECHE":l="N";break;case"REEMBOLSO_ESTACIONAM":break;case"REEMBOLSO_EDUCACAO":l="N";break;case"PREVIDENCIA_PRIVADA":break;case"REEMBOLSO_SUBSIDIO":l="N";break;case"FARMACIA":break;case"MATERIAL_ESCOLAR":l="N";break}this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.getModel().metadataLoaded().then(function(){var e=this.getModel().createKey("ZET_GLHR_DETAIL_BENEFICIOSSet",{Pernr:s,Beneficio:t,Tipo:l});this._bindView("/"+e)}.bind(this));var I;var o;switch(d){case"FUNSEJEM":I="";o="";break;case"PLANO_MEDICO":I="0167";o="MEDI";break;case"PLANO_ODONTOLOGICO":I="0167";o="DENT";break;case"PLANO_DENT_2":I="0167";o="ODNT";break;case"SEGURO_VIDA":I="0168";o="VIDA";break;case"TRANSPORTE":I="XXXX";o="TRAN";break;case"VALE_REFEICAO":I="0377";o="VALM";break;case"AUXILIO_CRECHE":I="XXXX";o="CREC";break;case"COOPERATIVA":I="XXXX";o="COOP";break;case"GREMIO_CLUBE":I="XXXX";o="GREM";break;case"EMP_CONSIGNADO":I="XXXX";o="EMCO";break;case"FARMACIA":I="XXXX";o="FARM";break;case"REEMBOLSO_SUBSIDIO":I="XXXX";o="SUBS";break;case"ALIMENTACAO":I="0377";o="VALM";break;case"OTICA":I="0377";o="OTIC";break;case"CESTA_BASICA":I="0377";o="CEST";break;case"PREVIDENCIA_PRIVADA":I="0169";o="PREV";break;case"PREV_PRIV_BAS":I="0169";o="PREB";break;case"PREV_PRIV_ESP":I="0169";o="PREE";break;case"PREV_PRIV_NOR":I="0169";o="PREN";break;case"PREV_PRIV_SUP":I="0169";o="PRES";break;case"REEMBOLSO_ESTACIONAM":I="XXXX";o="REES";break;case"REEMBOLSO_EDUCACAO":I="XXXX";o="REED";case"MATERIAL_ESCOLAR":I="XXXX";o="MATE";break;case"REEMBOLSO_MEDICAM":I="XXXX";o="REME";break;case"REEMBOLSO_ALUGUEL":I="XXXX";o="REAL";break;case"REEMBOLSO_EXT_UNIV":I="XXXX";o="REUN";break}},onBackMaster:function(){this.getView().getModel().refresh(true);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getRouter().navTo("master")},onchangeIdMargemEmp:function(e){var t=this;var i;var s=e.getParameter("value");var a=e.getParameter("id");var r=a.split("DETAIL--")[1];var l;l=s;while(s.indexOf(",")!==-1){s=s.replace(",",".")}i=!isNaN(s);if(i===true){s=this.adicionarpontoFloat(l);this.getView().byId(r).setValue(s)}else{sap.m.MessageBox.error("O valor informado deverá ser um número.",{actions:["OK"],onClose:function(e){t.getView().byId("IdMargemEmp").setValue()}})}},onVoltar:function(){var e;var i;this.getView().byId("IdCancelDetailDep").setVisible(false);e=!t.system.phone;i="master";this.getRouter().navTo(i,e)},onCancel:function(){var e;var t=this;e=new i({title:"Confirmação",type:"Message",content:new a({text:"Deseja cancelar a alteração?"}),beginButton:new s({text:"Sim",press:function(){t.Cancela();t.getView().byId("TextInclusao").setVisible(false);V="";e.close()}}),endButton:new s({text:"Não",press:function(){e.close()}}),afterClose:function(){e.destroy()}});e.open()},Cancela:function(){var e=this;e.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":e.getView().byId("TextInclusao").setVisible(false);e.getView().byId("TextInclusao_CNUN_BRAD").setVisible(false);e.getView().byId("TextInclusao_SCMP").setVisible(false);e.getView().byId("TextInclusao_UNCU").setVisible(false);e.getView().byId("TextInclusao_UNJZ").setVisible(false);e.byId("FormContainer5_PLANO_MEDICO").setVisible(true);break;case"PLANO_ODONTOLOGICO":e.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_UNIMED").setVisible(false);e.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_BRAD_MET").setVisible(false);e.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_MET").setVisible(false);e.getView().byId("TextEditar_PLANO_ODONTOLOGICO").setVisible(false);e.getView().byId("TextInclusao").setVisible(false);e.getView().byId("CHECKBOX").setVisible(false);e.getView().byId("CheckBox").setSelected(false);break}e.getView().byId("UploadCollection").setUploadButtonInvisible(false);e.getView().byId("IdCancelDetailDep").setVisible(false);e.getView().byId("IdIncluir").setVisible(false);e.getView().byId("IdSalvarDetailDep").setVisible(false);e.getView().byId("UPLOAD").setVisible(false)},FormatIcon:function(e){if(e!=null){if(e==="Não"){return"sap-icon://add"}else if(e==="Sim"){return"sap-icon://delete"}}},FormatBVisible:function(e){if(e!=null){if(e==="Não"||e==="Sim"){return true}else{return false}}},FormatIncluir:function(e){var t=this.getView().byId("table1");var i=t.getBinding("rows").getLength();var s=0;var a;for(s;s<i;s++){a=t.getRows()[s].getCells()[1].getText();if(a==="Sim"){return true}else{return false}}},FormatExcluir:function(e){if(e==="Não"){return false}else{return true}},formatEditableUpload:function(e){var t=this.getView().byId("idVia2medico").getText();var i=this.getView().byId("idVia2Dent").getText();if(e==="Aguardando aprovação"){if(t==="X"||i==="X"){return false}else{return true}}else{return false}},onSave:function(e){var t;var a=this.getView().getModel();var r={};var n=this;var O=d;var b="0";var V;if(E==="C"){V=E}else{V="G"}var c="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+O+"',Tipo='"+V+"')";var g=0;switch(O){case"FUNSEJEM":r.Bplan=this.getView().byId("IdPlano_FUNSEJEM").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_FUNSEJEM").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_FUNSEJEM").setValueState("Success")}r.MargemFunsejem=this.getView().byId("IdMargemEmp").getValue();if(r.MargemFunsejem!==""){while(r.MargemFunsejem.indexOf(".")!==-1){r.MargemFunsejem=r.MargemFunsejem.replace(".","")}r.MargemFunsejem=r.MargemFunsejem.replace(",",".")}break;case"PLANO_MEDICO":r.Bplan=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}r.Opcoes=n.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();if(r.Opcoes===""){n.getView().byId("IdOpcoes_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{n.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}r.CartMedica=this.getView().byId("idCartMedica").getValue();if(e==="X"){r.Via2medico=e}break;case"PLANO_ODONTOLOGICO":r.Bplan=this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Success")}r.Opcoes=this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getSelectedKey();if(r.Opcoes===""){this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Success")}r.Aceite="";if(this.getView().byId("CHECKBOX").getVisible()){if(this.getView().byId("CheckBox").getSelected()){r.Aceite="X"}else{sap.m.MessageBox.error("Aceite o termo");return}}r.CartDentista=this.getView().byId("IdCartDentista").getValue();r.Valor=E;if(e==="X"){r.Via2Dent=e}break;case"SEGURO_VIDA":r.Bplan=this.getView().byId("IdPlano_SEGURO_VIDA").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_SEGURO_VIDA").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_SEGURO_VIDA").setValueState("Success")}O="SEGURO_VIDA";r.Opcoes=this.getView().byId("IdOpcoes_SEGURO_VIDA").getSelectedKey();if(r.Opcoes===""){this.getView().byId("IdOpcoes_SEGURO_VIDA").setValueState("Error");sap.m.MessageBox.error("Selecione entre as opções");return}else{this.getView().byId("IdOpcoes_SEGURO_VIDA").setValueState("Success")}c="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+O+"',Tipo='"+V+"')";break;case"TRANSPORTE":r.Bplan=this.getView().byId("IdPlano_TRANSPORTE").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_TRANSPORTE").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_TRANSPORTE").setValueState("Success")}break;case"VALE_REFEICAO":r.Bplan=this.getView().byId("IdPlano_VALE_REFEICAO").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_VALE_REFEICAO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_VALE_REFEICAO").setValueState("Success")}r.Opcoes=this.getView().byId("IdOpcoes_VALE_REFEICAO").getSelectedKey();if(r.Opcoes===""){this.getView().byId("IdOpcoes_VALE_REFEICAO").setValueState("Error");sap.m.MessageBox.error("Informe a opção");return}else{this.getView().byId("IdOpcoes_VALE_REFEICAO").setValueState("Success")}break;case"AUXILIO_CRECHE":r.Valor=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();if(r.Valor===""){this.getView().byId("IdPlano_AUXILIO_CRECHE").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_AUXILIO_CRECHE").setValueState("Success")}break;case"COOPERATIVA":r.Valor=this.getView().byId("Cooperativa1").getValue();break;case"GREMIO_CLUBE":r.Adesao="X";break;case"EMP_CONSIGNADO":break;case"FARMACIA":r.Bplan=this.getView().byId("IdPlano_FARMACIA").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_FARMACIA").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_FARMACIA").setValueState("Success")}r.Opcoes=this.getView().byId("IdMotivo_FARMACIA").getSelectedKey();if(r.Opcoes===""){this.getView().byId("IdMotivo_FARMACIA").setValueState("Error");sap.m.MessageBox.error("Informe o Motivo");return}else{this.getView().byId("IdMotivo_FARMACIA").setValueState("Success")}break;case"REEMBOLSO_SUBSIDIO":var _=this.getView().byId("IdPlano_REEMBOLSO_SUBSIDIO").getSelectedKey();var u=this.getView().byId("IdAno_REEMBOLSO_SUBSIDIO").getSelectedKey();if(_===""){this.getView().byId("IdPlano_REEMBOLSO_SUBSIDIO").setValueState("Error");sap.m.MessageBox.error("Informe o mês");return}else{this.getView().byId("IdPlano_REEMBOLSO_SUBSIDIO").setValueState("Success")}if(u===""){this.getView().byId("IdAno_REEMBOLSO_SUBSIDIO").setValueState("Error");sap.m.MessageBox.error("Informe o ano");return}else{this.getView().byId("IdAno_REEMBOLSO_SUBSIDIO").setValueState("Success")}r.Valor=_+"_"+u;break;case"ALIMENTACAO":r.Bplan=this.getView().byId("IdPlano_ALIMENTACAO").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_ALIMENTACAO").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_ALIMENTACAO").setValueState("Success")}r.Opcoes=this.getView().byId("IdOpcoes_ALIMENTACAO").getSelectedKey();if(r.Opcoes===""){this.getView().byId("IdOpcoes_ALIMENTACAO").setValueState("Error");sap.m.MessageBox.error("Informe as opções");return}else{this.getView().byId("IdOpcoes_ALIMENTACAO").setValueState("Success")}r.Observacao=this.getView().byId("IdObservacao_ALIMENTACAO").getValue();break;case"OTICA":r.Bplan=this.getView().byId("IdPlano_OTICA").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_OTICA").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_OTICA").setValueState("Success")}r.Opcoes=this.getView().byId("IdOpcoes_OTICA").getSelectedKey();if(r.Opcoes===""){this.getView().byId("IdOpcoes_OTICA").setValueState("Error");sap.m.MessageBox.error("Informe a Opção");return}else{this.getView().byId("IdOpcoes_OTICA").setValueState("Success")}r.Observacao=this.getView().byId("IdObservacao_OTICA").getValue();break;case"CESTA_BASICA":r.Bplan=this.getView().byId("IdPlano_CESTA_BASICA").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_CESTA_BASICA").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_CESTA_BASICA").setValueState("Success")}r.Opcoes=this.getView().byId("IdOpcoes_CESTA_BASICA").getSelectedKey();if(r.Opcoes===""){this.getView().byId("IdOpcoes_CESTA_BASICA").setValueState("Error");sap.m.MessageBox.error("Informe a Opção");return}else{this.getView().byId("IdOpcoes_CESTA_BASICA").setValueState("Success")}r.Motivo=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();if(r.Motivo===""){this.getView().byId("IdMotivo_CESTA_BASICA").setValueState("Error");sap.m.MessageBox.error("Informe a Opção");return}else{this.getView().byId("IdMotivo_CESTA_BASICA").setValueState("Success")}r.Telefone=this.getView().byId("idTelefone").getValue();break;case"PREVIDENCIA_PRIVADA":r.Bplan=this.getView().byId("IdPlano_PREVIDENCIA_PRIVADA").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PREVIDENCIA_PRIVADA").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_PREVIDENCIA_PRIVADA").setValueState("Success")}r.Motivo=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();if(r.Motivo===""){this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").setValueState("Error");sap.m.MessageBox.error("Informe o Motivo");return}else{this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").setValueState("Success")}r.Valor=this.getView().byId("IdValor_PREVIDENCIA_PRIVADA").getValue();if(!r.Valor){r.Valor=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA").getValue()}break;case"PREV_PRIV_BAS":r.Bplan=this.getView().byId("IdPlano_PREV_PRIV_BAS").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PREV_PRIV_BAS").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_PREV_PRIV_BAS").setValueState("Success")}break;case"PREV_PRIV_ESP":r.Bplan=this.getView().byId("IdPlano_PREV_PRIV_ESP").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PREV_PRIV_ESP").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_PREV_PRIV_ESP").setValueState("Success")}break;case"PREV_PRIV_NOR":r.Bplan=this.getView().byId("IdPlano_PREV_PRIV_NOR").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PREV_PRIV_NOR").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_PREV_PRIV_NOR").setValueState("Success")}break;case"PREV_PRIV_SUP":r.Bplan=this.getView().byId("IdPlano_PREV_PRIV_SUP").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PREV_PRIV_SUP").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_PREV_PRIV_SUP").setValueState("Success")}break;case"PLANO_DENT_2":r.Bplan=this.getView().byId("IdPlano_PLANO_DENT_2").getSelectedKey();if(r.Bplan===""){this.getView().byId("IdPlano_PLANO_DENT_2").setValueState("Error");sap.m.MessageBox.error("Informe o Plano");return}else{this.getView().byId("IdPlano_PLANO_DENT_2").setValueState("Success")}r.CartDentista=this.getView().byId("IdCartPLANO_DENT_2").getValue();if(r.CartDentista===""){this.getView().byId("IdCartPLANO_DENT_2").setValueState("Error");sap.m.MessageBox.error("Informe a carterinha do dentista.");return}else{this.getView().byId("IdCartPLANO_DENT_2").setValueState("Success")}break;case"REFEITORIO":r.Bplan=this.getView().byId("IdPlano_REFEITORIO").getSelectedKey();r.Opcoes=this.getView().byId("IdPlano_REFEITORIO").getSelectedKey();break;case"REEMBOLSO_ESTACIONAM":var _=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();var u=this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").getSelectedKey();if(_===""){this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").setValueState("Success")}if(u===""){this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").setValueState("Error");sap.m.MessageBox.error("Informe ano de referência.");return}else{this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").setValueState("Success")}r.Valor=_+"_"+u;break;case"REEMBOLSO_EXT_UNIV":var _=this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").getSelectedKey();var u=this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").getSelectedKey();if(_===""){this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").setValueState("Success")}if(u===""){this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").setValueState("Error");sap.m.MessageBox.error("Informe ano de referência.");return}else{this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").setValueState("Success")}r.Valor=_+"_"+u;break;case"REEMBOLSO_ALUGUEL":var _=this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").getSelectedKey();var u=this.getView().byId("IdAno_REEMBOLSO_ALUGUEL").getSelectedKey();if(_===""){this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").setValueState("Success")}if(u===""){this.getView().byId("IdAno_REEMBOLSO_ALUGUELM").setValueState("Error");sap.m.MessageBox.error("Informe ano de referência.");return}else{this.getView().byId("IdAno_REEMBOLSO_ALUGUEL").setValueState("Success")}r.Valor=_+"_"+u;break;case"REEMBOLSO_MEDICAM":var _=this.getView().byId("IdPlano_REEMBOLSO_MEDICAM").getSelectedKey();var u=this.getView().byId("IdAno_REEMBOLSO_MEDICAM").getSelectedKey();if(_===""){this.getView().byId("IdPlano_REEMBOLSO_MEDICAM").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_REEMBOLSO_MEDICAM").setValueState("Success")}if(u===""){this.getView().byId("IdAno_REEMBOLSO_MEDICAM").setValueState("Error");sap.m.MessageBox.error("Informe ano de referência.");return}else{this.getView().byId("IdAno_REEMBOLSO_MEDICAM").setValueState("Success")}r.Valor=_+"_"+u;break;case"REEMBOLSO_EDUCACAO":r.Valor=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();if(r.Valor===""){this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").setValueState("Success")}break;case"REEMBOLSO_IDIOMA":var _=this.getView().byId("IdPlano_REEMBOLSO_IDIOMA").getSelectedKey();var u=this.getView().byId("IdAno_REEMBOLSO_IDIOMA").getSelectedKey();if(_===""){this.getView().byId("IdPlano_REEMBOLSO_IDIOMA").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_REEMBOLSO_IDIOMA").setValueState("Success")}if(u===""){this.getView().byId("IdAno_REEMBOLSO_IDIOMA").setValueState("Error");sap.m.MessageBox.error("Informe o ano de referência.");return}else{this.getView().byId("IdAno_REEMBOLSO_IDIOMA").setValueState("Success")}r.Valor=_+"_"+u;break;case"MATERIAL_ESCOLAR":r.Valor=this.getView().byId("IdPlano_MATERIAL_ESCOLAR").getSelectedKey();if(r.Valor===""){this.getView().byId("IdPlano_MATERIAL_ESCOLAR").setValueState("Error");sap.m.MessageBox.error("Informe mês de referência.");return}else{this.getView().byId("IdPlano_MATERIAL_ESCOLAR").setValueState("Success")}break}r.Tipo=r.Operation;r.Beneficio=O;if(r.Montante!==""&&r.Montante!==undefined){while(r.Montante.indexOf(".")!==-1){r.Montante=r.Montante.replace(".","")}r.Montante=r.Montante.replace(",",".")}if(g===1){var n=this;var t="";t=new i({title:"Código Outros",type:"Message",content:[new l({text:"Você selecionou a opção outros,\n informe o transporte a ser solicitado.",labelFor:"submitDialogTextarea"}),new I("submitDialogTextarea",{liveChange:function(e){sText=e.getParameter("value");r.Observacao=sText},width:"100%",placeholder:"Digite aqui."})],beginButton:new s({type:o.Emphasized,text:"Ok",press:function(){if(r.Observacao===undefined||r.Observacao===""){sap.m.MessageBox.error("Observação não preenchida");return}else{t.close();n.GravaBeneficio(c,r)}}.bind(this)}),endButton:new s({text:"Cancelar",press:function(){t.close()}}),afterClose:function(){t.destroy()}});t.open()}else{this.GravaBeneficio(c,r,e)}},FormatZero:function(){return""},GravaBeneficio:function(e,t,r){var l=this;var I=this.getView().getModel();var o="";var n="";if(r==="X"){o="Confirma solicitação de segunda via?";n="Solicitação de segunda via efetuado."}else{o="Confirma a solicitação do beneficio?";n="Solicitação de beneficio efetuada com sucesso."}var O=new i({title:"Confirmação",type:"Message",content:new a({text:o}),beginButton:new s({text:"Sim",press:function(){I.update(e,t,{success:function(e,t){sap.m.MessageBox.success(n,{actions:["OK"],onClose:function(e){l.getView().getModel().refresh(true);l.getView().byId("IdCancelDetailDep").setVisible(false);if(d==="PLANO_ODONTOLOGICO"){l.getView().byId("CHECKBOX").setVisible(false);l.getView().byId("CheckBox").setSelected(false)}}})},error:function(e){var t=e;t=t.responseText;var i=JSON.parse(t);var s=i.error.message.value;var a=i.error.code;if(a==="Fiori - W/001"){sap.m.MessageBox.warning(s,{actions:["OK"],onClose:function(e){l.getView().getModel().refresh(true);l.getView().byId("IdCancelDetailDep").setVisible(false);if(d==="PLANO_ODONTOLOGICO"){l.getView().byId("CHECKBOX").setVisible(false);l.getView().byId("CheckBox").setSelected(false)}}})}else{sap.m.MessageBox.error(s,{actions:["OK"],onClose:function(e){}});return}}});O.close()}}),endButton:new s({text:"Não",press:function(){O.close()}}),afterClose:function(){O.destroy()}});O.open()},onSaveCDep:function(){var e=this.getView().getModel();var t;var r={};var l=this;switch(d){case"PLANO_MEDICO":t=this.getView().byId("smartTable_PLANO_MEDICO").getTable();r.Bplan=l.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();if(r.Bplan===""){l.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{l.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}r.Opcoes=l.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();if(r.Opcoes===""){l.getView().byId("IdOpcoes_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{l.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}r.CartMedica=l.getView().byId("idCartMedica").getValue();if(V==="X"){r.Via2medico=V}break;case"PLANO_ODONTOLOGICO":t=this.getView().byId("smartTable_PLANO_ODONTOLOGICO").getTable();r.Bplan=l.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();if(r.Bplan===""){l.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{l.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Success")}r.Opcoes=l.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getSelectedKey();if(r.Opcoes===""){l.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{l.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Success")}r.Aceite="";if(this.getView().byId("CHECKBOX").getVisible()){if(this.getView().byId("CheckBox").getSelected()){r.Aceite="X"}else{sap.m.MessageBox.error("Aceite o termo");return}}r.CartDentista=l.getView().byId("IdCartDentista").getValue();if(V==="X"){r.Via2Dent=V}break}var I;var o;var n;var O;var b="0";var E=d;var g;var _;var u=this.getSelectedDependentes(d);var A;if(c==="I"){g="Confirma a inclusão do dependente no plano?";_="Solicitação de inclusão efetuada com sucesso";I="I@"}else if(c==="C"){g="Confirma a solicitação da segunda via?";_="Solicitação de segunda efetuada com sucesso";I="C@"}else if(V==="X"){I="2@"}else{g="Confirma a exclusão do dependente do plano?";_="Solicitação de exclusão efetuada com sucesso";I="E@"}if(V==="X"){A=new i({title:"Confirmação",type:"Message",content:new a({text:"Confirma a solicitação de segunda via para os dependentes selecionados?"}),beginButton:new s({text:"Sim",press:function(){for(var t=0;t<u.length;t++){o=u[t].Subty;n=u[t].Objps;if(Number.parseInt(u[t].Subty,10)<10){o=`0${o}`}if(n===""){n="00"}const e=t<u.length-1?"@":"";I=I+o+"-"+n+e}O="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+E+"',Tipo='G')";r.Dependentes=I;e.update(O,r,{success:function(e,t){sap.m.MessageBox.success("Solicitação de segunda via efetuado com sucesso.",{actions:["OK"],onClose:function(e){l.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("CHECKBOX").setVisible(false);l.getView().byId("CheckBox").setSelected(false);break}l.getView().byId("UploadCollection").setUploadButtonInvisible(false);l.getView().byId("IdCancelDetailDep").setVisible(false);l.getView().byId("IdIncluir").setVisible(false);l.getView().byId("IdSalvarDetailDep").setVisible(false);l.getView().byId("UPLOAD").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var i=JSON.parse(t);var s=i.error.message.value;var a=i.error.code;if(a==="Fiori - W/001"){sap.m.MessageBox.warning(s,{actions:["OK"],onClose:function(e){}})}else{sap.m.MessageBox.error(s,{actions:["OK"],onClose:function(e){switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("CHECKBOX").setVisible(false);l.getView().byId("CheckBox").setSelected(false);break}}});return}}});A.close()}}),endButton:new s({text:"Não",press:function(){A.close()}}),afterClose:function(){A.destroy()}});A.open()}else{A=new i({title:"Confirmação",type:"Message",content:new a({text:g}),beginButton:new s({text:"Sim",press:function(){for(var t=0;t<u.length;t++){let e=u[t].Subty;let i=u[t].Objps;if(Number.parseInt(u[t].Subty,10)<10){e=`0${e}`}if(i===""){i="00"}const s=t<u.length-1?"@":"";I=I+e+"-"+i+s}O="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+E+"',Tipo='G')";r.Dependentes=I;e.update(O,r,{success:function(e,t){sap.m.MessageBox.success(_,{actions:["OK"],onClose:function(e){l.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextInclusao_CNUN_BRAD").setVisible(false);l.getView().byId("TextInclusao_SCMP").setVisible(false);l.getView().byId("TextInclusao_UNCU").setVisible(false);l.getView().byId("TextInclusao_UNJZ").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("CHECKBOX").setVisible(false);l.getView().byId("CheckBox").setSelected(false);break}l.getView().byId("UploadCollection").setUploadButtonInvisible(false);l.getView().byId("IdCancelDetailDep").setVisible(false);l.getView().byId("IdIncluir").setVisible(false);l.getView().byId("IdSalvarDetailDep").setVisible(false);l.getView().byId("UPLOAD").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var i=JSON.parse(t);var s=i.error.message.value;var a=i.error.code;if(a==="Fiori - W/001"){sap.m.MessageBox.warning(s,{actions:["OK"],onClose:function(e){l.getView().getModel().refresh(true);l.getView().byId("IdCancelDetailDep").setVisible(false);if(d==="PLANO_ODONTOLOGICO"){l.getView().byId("CHECKBOX").setVisible(false);l.getView().byId("CheckBox").setSelected(false)}}})}else{sap.m.MessageBox.error(s,{actions:["OK"],onClose:function(e){l.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextInclusao_CNUN_BRAD").setVisible(false);l.getView().byId("TextInclusao_SCMP").setVisible(false);l.getView().byId("TextInclusao_UNCU").setVisible(false);l.getView().byId("TextInclusao_UNJZ").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("CHECKBOX").setVisible(false);l.getView().byId("CheckBox").setSelected(false);break}l.getView().byId("UploadCollection").setUploadButtonInvisible(false);l.getView().byId("IdCancelDetailDep").setVisible(false);l.getView().byId("IdIncluir").setVisible(false);l.getView().byId("IdSalvarDetailDep").setVisible(false);l.getView().byId("UPLOAD").setVisible(false)}});return}}});A.close()}}),endButton:new s({text:"Não",press:function(){A.close()}}),afterClose:function(){A.destroy()}});A.open()}},tirapontos:function(e){while(e.indexOf(".")!==-1){e=e.replace(".","")}while(e.indexOf(",")!==-1){e=e.replace(",",".")}return e},_bindView:function(e){var t=this;var i=this.getView().getModel();i.setProperty("/busy",false);this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){t.loading(true)},dataReceived:function(){t.loading(false)}}})},onAcaoO:function(e){var t=this.getView().byId("idTipo").getValue();if(t==="Aguardando aprovação"){sap.m.MessageBox.alert("Não é possível executar está ação, enquanto exister uma solicitação em aprovação.");return}this.getView().byId("IdCancelBeneficio").setVisible(false);O="X";var i=e.getSource().getId();var s=e.getSource().getIcon();this.getView().byId(i).setPressed(true);this.getView().byId("UploadCollection").setUploadButtonInvisible(false);if(s==="sap-icon://add"){this.onIncluinoPlanoO(e)}else if(s==="sap-icon://delete"){this.onExluiPlanoO(e)}},onAcaoM:function(e){var t=this.getView().byId("idTipo").getValue();if(t==="Aguardando aprovação"){sap.m.MessageBox.alert("Não é possível executar está ação, enquanto exister uma solicitação em aprovação.");return}this.getView().byId("IdCancelBeneficio").setVisible(false);O="X";var i=e.getSource().getId();var s=e.getSource().getIcon();this.getView().byId(i).setPressed(true);this.getView().byId("UploadCollection").setUploadButtonInvisible(false);if(s==="sap-icon://add"){this.onIncluinoPlanoM(e)}else if(s==="sap-icon://delete"){this.onExluiPlanoM(e)}},AfterUpdate:function(e){var t=this.getView().byId("table1").getBinding("rows").getLength();if(t>0){this.getView().byId("table1").setVisibleRowCount(t)}else{this.getView().byId("FormContainer5_PLANO_MEDICO").setVisible(false)}},AfterUpdate_TRANSPORTE:function(e){var t=this.getView().byId("table1_VALE_TRANSPORT").getBinding("rows").getLength();if(t>0){this.getView().byId("table1_VALE_TRANSPORT").setVisibleRowCount(t)}else{this.getView().byId("FormContainer7_TRANSPORTE").setVisible(false)}},AfterUpdate_PLANO_ODONTOLOGICO:function(e){var t=this.getView().byId("table1_PLANO_ODONTOLOGICO").getBinding("rows").getLength();if(t>0){this.getView().byId("table1_PLANO_ODONTOLOGICO").setVisibleRowCount(t)}else{this.getView().byId("FormContainer5_PLANO_ODONTOLOGICO").setVisible(false)}},_onBindingChange:function(){var e=this.getView(),t=e.getElementBinding();if(!t.getBoundContext()){this.getRouter().getTargets().display("detailObjectNotFound");return}E="";this.getView().byId(d).setVisible(true);var i;var s;var a;var r;var l;var I=this.getView().byId("idTipo").getValue();var o;var n;switch(d){case"FUNSEJEM":o="";n="";break;case"PLANO_MEDICO":o="0167";n="MEDI";break;case"PLANO_ODONTOLOGICO":o="0167";n="DENT";break;case"PLANO_DENT_2":o="0167";n="ODNT";break;case"SEGURO_VIDA":o="0168";n="VIDA";break;case"TRANSPORTE":o="XXXX";n="TRAN";break;case"VALE_REFEICAO":o="0377";n="VALM";break;case"AUXILIO_CRECHE":o="XXXX";n="CREC";break;case"COOPERATIVA":o="XXXX";n="COOP";break;case"GREMIO_CLUBE":o="XXXX";n="GREM";break;case"EMP_CONSIGNADO":o="XXXX";n="EMCO";break;case"FARMACIA":o="XXXX";n="FARM";break;case"REEMBOLSO_SUBSIDIO":o="XXXX";n="SUBS";break;case"REEMBOLSO_IDIOMA":o="XXXX";n="REID";break;case"ALIMENTACAO":o="0377";n="VALM";break;case"OTICA":o="0377";n="OTIC";break;case"CESTA_BASICA":o="0377";n="CEST";break;case"PREVIDENCIA_PRIVADA":o="0169";n="PREV";break;case"PREV_PRIV_BAS":o="0169";n="PREB";break;case"PREV_PRIV_ESP":o="0169";n="PREE";break;case"PREV_PRIV_NOR":o="0169";n="PREN";break;case"PREV_PRIV_SUP":o="0169";n="PRES";break;case"REEMBOLSO_ESTACIONAM":o="XXXX";n="REES";break;case"REEMBOLSO_EDUCACAO":o="XXXX";n="REED";case"MATERIAL_ESCOLAR":o="XXXX";n="MATE";break;case"REEMBOLSO_MEDICAM":o="XXXX";n="REME";break;case"REEMBOLSO_ALUGUEL":o="XXXX";n="REAL";break;case"REEMBOLSO_EXT_UNIV":o="XXXX";n="REUN";break}switch(d){case"FUNSEJEM":break;case"PLANO_MEDICO":s=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();a=this.getView().byId("IdOpcoes_PLANO_MEDICO").getBinding("items");i=this.getView().byId("smartTable_PLANO_MEDICO");i.rebindTable("e");this.getView().byId("IdIncluir").setVisible(true);r=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,s);a.filter([r]);if(I==="Aguardando aprovação"){this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdEditDetailDep").setVisible(false)}else{this.getView().byId("IdSegundaVia").setVisible(true);this.getView().byId("IdEditDetailDep").setVisible(true)}this.getView().byId("IdEditDetailDep").setText("Editar");this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,"MEDI");g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,s);if(I==="Aguardando aprovação"){break}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_]);return;case"PLANO_ODONTOLOGICO":s=this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();a=this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getBinding("items");i=this.getView().byId("smartTable_PLANO_ODONTOLOGICO");i.rebindTable("e");this.getView().byId("IdIncluir").setVisible(false);r=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,s);a.filter([r]);if(I==="Aguardando aprovação"){this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdCancelBeneficio").setVisible(false)}else{this.getView().byId("IdSegundaVia").setVisible(true);this.getView().byId("IdCancelBeneficio").setVisible(true)}this.getView().byId("IdEditDetailDep").setText("Solicitar");this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);E=" ";V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,"DENT");g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,s);if(I==="Aguardando aprovação"){break}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_]);return;break;case"PLANO_DENT_2":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"SEGURO_VIDA":this.getView().byId("IdIncluir").setVisible(false);s=this.getView().byId("IdPlano_SEGURO_VIDA").getSelectedKey();a=this.getView().byId("IdOpcoes_SEGURO_VIDA").getBinding("items");r=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,s);a.filter([r]);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");var O=this.getView().byId("IdOpcoes_SEGURO_VIDA").getSelectedKey();this.getView().byId("IdPlano_SEGURO_VIDA").setEditable(false);this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");var b=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,O);var V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");var c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);var g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n);if(I==="Aguardando aprovação"){var _=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C")}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}if(I==="Aguardando aprovação"){this.getView().byId("IdEditDetailDep").setVisible(false)}else{this.getView().byId("IdEditDetailDep").setVisible(true)}var u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_,b]);return;case"TRANSPORTE":s=this.getView().byId("IdPlano_TRANSPORTE").getSelectedKey();this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("UPLOAD").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");break;case"VALE_REFEICAO":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"AUXILIO_CRECHE":this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");break;case"COOPERATIVA":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"GREMIO_CLUBE":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"EMP_CONSIGNADO":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdSalvarDetail2via").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"FARMACIA":this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);s=this.getView().byId("IdPlano_FARMACIA").getSelectedKey();a=this.getView().byId("IdMotivo_FARMACIA").getBinding("items");r=new sap.ui.model.Filter("IBplan",sap.ui.model.FilterOperator.EQ,s);a.filter([r]);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");this.getView().byId("UPLOAD").setVisible(true);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"REEMBOLSO_SUBSIDIO":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);var A=this.getView().byId("IdPlano_REEMBOLSO_SUBSIDIO").getValue();this.getView().byId("IdPlano_REEMBOLSO_SUBSIDIO").setValue("");var S=A.split("/",2);var y=S[1];var p=S[0];this.getView().byId("IdPlano_REEMBOLSO_SUBSIDIO").setSelectedKey(p);this.getView().byId("IdAno_REEMBOLSO_SUBSIDIO").setSelectedKey(y);this.getView().byId("IdEditDetailDep").setText("Solicitar");break;case"ALIMENTACAO":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"OTICA":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"CESTA_BASICA":this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("idTelefone").setEditable(false);s=this.getView().byId("IdPlano_CESTA_BASICA").getSelectedKey();a=this.getView().byId("IdOpcoes_CESTA_BASICA").getBinding("items");r=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,s);a.filter([r]);l=this.getView().byId("IdMotivo_CESTA_BASICA").getBinding("items");r=new sap.ui.model.Filter("IBplan",sap.ui.model.FilterOperator.EQ,s);l.filter([r]);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Alterar");break;case"PREVIDENCIA_PRIVADA":this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("idTelefone").setEditable(false);s=this.getView().byId("IdPlano_PREVIDENCIA_PRIVADA").getSelectedKey();l=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getBinding("items");r=new sap.ui.model.Filter("IBplan",sap.ui.model.FilterOperator.EQ,s);l.filter([r]);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");var C=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();var b=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,C);var V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");if(I==="Aguardando aprovação"){var _=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);var g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n)}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B");var c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,"PREV");var g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,s)}var u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_,b]);return;case"PREV_PRIV_BAS":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"PREV_PRIV_ESP":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"PREV_PRIV_NOR":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"PREV_PRIV_SUP":this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);break;case"REEMBOLSO_ESTACIONAM":var C=this.getView().byId("alug1").getValue();var f=C;f=f.split("_");var w=f[0];var h=f[1];this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").setSelectedKey(w);this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").setSelectedKey(h);this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");var b=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,C);var V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");var c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);var g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n);if(I==="Aguardando aprovação"){var _=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C")}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}var u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_,b]);return;case"REEMBOLSO_ALUGUEL":var C=this.getView().byId("alug1").getValue();var f=C;f=f.split("_");var w=f[0];var h=f[1];this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").setSelectedKey(w);this.getView().byId("IdAno_REEMBOLSO_ALUGUEL").setSelectedKey(h);this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");var b=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,C);var V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");var c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);var g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n);if(I==="Aguardando aprovação"){var _=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C")}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}var u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_,b]);return;case"REEMBOLSO_EXT_UNIV":C=this.getView().byId("UNIV1").getValue();f=C;f=f.split("_");w=f[0];h=f[1];this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").setSelectedKey(w);this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").setSelectedKey(h);this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");b=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,C);V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n);if(I==="Aguardando aprovação"){_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C")}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_,b]);return;case"REEMBOLSO_EDUCACAO":this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");break;case"MATERIAL_ESCOLAR":this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");break;case"REEMBOLSO_IDIOMA":C=this.getView().byId("IDIOMA1").getValue();f=C;f=f.split("_");w=f[0];h=f[1];this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").setSelectedKey(w);this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").setSelectedKey(h);this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");b=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,C);V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n);if(I==="Aguardando aprovação"){_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C")}else{_=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_,b]);return;case"REEMBOLSO_MEDICAM":this.getView().byId("IdIncluir").setVisible(false);this.getView().byId("IdSalvarDetailDep").setVisible(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdEditDetailDep").setText("Solicitar");break}var P=n;var V=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,"0");var c=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);var g=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,P);if(I==="Aguardando aprovação"){var _=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C")}else{var _=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B")}var u=this.getView().byId("UploadCollection");u.getBinding("items").filter([V,c,g,_])},onConfirmMunicipio:function(e){var t=e.getParameter("selectedItem");this._valueHelpDialog1=null;if(t){var i=t.getTitle();var s=this.getView().byId(this.inputId);s.setValue(i)}},handleValueHelp:function(e){var t=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();if(t===""){sap.m.MessageBox.error("Informe o motivo.");return}var i=e.getSource().getValue();this.inputId=e.getSource().getId();if(!this._valueHelpDialog1){this._valueHelpDialog1=sap.ui.xmlfragment("Y5GL_EC_BENEF2.Y5GL_EC_BENEF2.view.Valor",this);this.getView().addDependent(this._valueHelpDialog1)}this._valueHelpDialog1.open(i);this._valueHelpDialog1.getBinding("items").filter([new r("IOpcao",sap.ui.model.FilterOperator.EQ,t)])},onchangeMotivo:function(e){var t=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();var i=new sap.ui.model.Filter("IOpcao",sap.ui.model.FilterOperator.EQ,t);var s=this.getView().byId("IdValor_PREVIDENCIA_PRIVADA").getBinding("items");s.filter([i])},onchangePlano:function(e){var t=e.getParameter("id");t=t.split("BENEFICIOS_DETAIL--");t=t[1];var i=this.getView().byId(t).getSelectedKey();var s=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,i);var a=new sap.ui.model.Filter("IBplan",sap.ui.model.FilterOperator.EQ,i);var r;var l;switch(d){case"PLANO_MEDICO":r=this.getView().byId("IdOpcoes_PLANO_MEDICO").getBinding("items");r.filter([s]);break;case"PLANO_ODONTOLOGICO":const e=this.getView().byId("idbPLAN").getValue();const t=this.getView().byId("idbOPCOES").getValue();if(e!==i){this.getView().byId("CHECKBOX").setVisible(true);this.getView().byId("CheckBox").setSelected(false)}else{this.getView().byId("CHECKBOX").setVisible(false);this.getView().byId("CheckBox").setSelected(false)}r=this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getBinding("items");r.filter([s]);var I="0";var o="DENT";var n=i;var O=i;var b=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,I);var V=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);var E=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n);var c=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B");var g=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,O);var _=this.getView().byId("UploadCollection");_.getBinding("items").filter([b,V,E,c,g]);_.getBinding("items").refresh(true);break;case"REEMBOLSO_ALUGUEL":var I="0";var o="XXXX";var n="REAL";var O=this.getView().byId("alug1").getValue();var b=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,I);var V=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,o);var E=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,n);var c=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"U");var g=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,O);var _=this.getView().byId("UploadCollection");_.getBinding("items").filter([b,V,E,c,g]);_.getBinding("items").refresh(true);break;case"FARMACIA":l=this.getView().byId("IdMotivo_FARMACIA").getBinding("items");l.filter([a]);break;case"PREVIDENCIA_PRIVADA":l=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getBinding("items");l.filter([a])}},onIncluinoPlanoO:function(e){sap.m.MessageBox.alert("Anexe o documento para prosseguir.");b=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);c="I";this.getView().byId("IdCancelDetailDep").setVisible(true);this.getView().byId("IdSalvarDetailDep").setVisible(true);this.getView().byId("CHECKBOX").setVisible(true);this.getView().byId("CheckBox").setSelected(false);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_BRAD_MET").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_MET").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_UNIMED").setVisible(false);this.getView().byId("TextEditar_PLANO_ODONTOLOGICO").setVisible(false);if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="BRAO"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_BRAD_MET").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="METL"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_MET").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="PSOU"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_UNIMED").setVisible(true)}else{this.getView().byId("TextEditar_PLANO_ODONTOLOGICO").setVisible(true)}},getSelectedDependentes:function(e){const t=`smartTable_${e}`;const i=this.getView().byId(t);const s=i.getTable().getAggregation("rows");const a=[];s.forEach(e=>{const t=e.getAggregation("cells")[2].getProperty("pressed");if(t){a.push(e.getBindingContext().getObject())}});return a},onIncluinoPlanoM:function(e){sap.m.MessageBox.alert("Anexe o documento para prosseguir.");b=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);c="I";this.getView().byId("IdCancelDetailDep").setVisible(true);this.getView().byId("IdSalvarDetailDep").setVisible(true);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="CNUN"||this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="BRAD"){this.getView().byId("TextInclusao_CNUN_BRAD").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="UNCU"){this.getView().byId("TextInclusao_UNCU").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="UNJZ"){this.getView().byId("TextInclusao_UNJZ").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="SCMP"){this.getView().byId("TextInclusao_SCMP").setVisible(true)}else{this.getView().byId("TextInclusao").setVisible(true)}},onExluiPlanoO:function(e){b=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);c="E";this.getView().byId("IdCancelDetailDep").setVisible(true);this.getView().byId("IdSalvarDetailDep").setVisible(true);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_BRAD_MET").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_MET").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_UNIMED").setVisible(false);this.getView().byId("TextEditar_PLANO_ODONTOLOGICO").setVisible(false);if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="BRAO"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_BRAD_MET").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="METL"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_MET").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="PSOU"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_UNIMED").setVisible(true)}else{this.getView().byId("TextEditar_PLANO_ODONTOLOGICO").setVisible(true)}},onExluiPlanoM:function(e){b=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);c="E";this.getView().byId("IdCancelDetailDep").setVisible(true);this.getView().byId("IdSalvarDetailDep").setVisible(true);this.getView().byId("IdSalvarDetail").setVisible(false);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdSalvarDetail2via").setVisible(false);this.getView().byId("TextInclusao_CNUN_BRAD").setVisible(false);this.getView().byId("TextInclusao_UNCU").setVisible(false);this.getView().byId("TextInclusao_UNJZ").setVisible(false);this.getView().byId("TextInclusao_SCMP").setVisible(false);this.getView().byId("TextInclusao").setVisible(false);if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="CNUN"||this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="BRAD"){this.getView().byId("TextInclusao_CNUN_BRAD").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="UNCU"){this.getView().byId("TextInclusao_UNCU").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="UNJZ"){this.getView().byId("TextInclusao_UNJZ").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="SCMP"){this.getView().byId("TextInclusao_SCMP").setVisible(true)}else{this.getView().byId("TextInclusao").setVisible(true)}},onChange:function(e){var t=e.getSource();var i=this.getView().getModel();i.refreshSecurityToken();var s=i.oHeaders;var a=s["x-csrf-token"];var r=new sap.m.UploadCollectionParameter({name:"x-csrf-token",value:a});t.addHeaderParameter(r)},onBeforeUploadStarts:function(e){var t="0";var i;var i;var s;var a;var r="";var l;var I;switch(d){case"FUNSEJEM":i="";s="";break;case"PLANO_MEDICO":i="0167";s="MEDI";a=this.getView().byId("smartTable_PLANO_MEDICO").getTable();break;case"PLANO_ODONTOLOGICO":i="0167";s="DENT";a=this.getView().byId("smartTable_PLANO_ODONTOLOGICO").getTable();r=E;break;case"PLANO_DENT_2":i="0167";s="ODNT";break;case"SEGURO_VIDA":i="0168";s="VIDA";r=this.getView().byId("IdOpcoes_SEGURO_VIDA").getSelectedKey();break;case"TRANSPORTE":i="XXXX";s="TRAN";break;case"VALE_REFEICAO":i="0377";s="VALM";break;case"AUXILIO_CRECHE":i="XXXX";s="CREC";r=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break;case"COOPERATIVA":i="XXXX";s="COOP";break;case"GREMIO_CLUBE":i="XXXX";s="GREM";break;case"EMP_CONSIGNADO":i="XXXX";s="EMCO";break;case"FARMACIA":i="XXXX";s="FARM";break;case"REEMBOLSO_SUBSIDIO":i="XXXX";s="SUBS";break;case"ALIMENTACAO":i="0377";s="VALM";break;case"OTICA":i="0377";s="OTIC";break;case"CESTA_BASICA":i="0377";s="CEST";r=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":i="0169";s="PREV";r=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":i="0169";s="PREB";break;case"PREV_PRIV_ESP":i="0169";s="PREE";break;case"PREV_PRIV_NOR":i="0169";s="PREN";break;case"PREV_PRIV_SUP":i="0169";s="PRES";break;case"MATERIAL_ESCOLAR":i="XXXX";s="MATE";r=this.getView().byId("IdPlano_MATERIAL_ESCOLAR").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break;case"REEMBOLSO_MEDICAM":i="XXXX";s="REME";l=this.getView().byId("IdPlano_REEMBOLSO_MEDICAM").getSelectedKey();I=this.getView().byId("IdAno_REEMBOLSO_MEDICAM").getSelectedKey();if(l===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(I===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}r=l+"_"+I;break;case"REEMBOLSO_ALUGUEL":i="XXXX";s="REAL\t";l=this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").getSelectedKey();I=this.getView().byId("IdAno_REEMBOLSO_ALUGUEL").getSelectedKey();if(l===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(I===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}r=l+"_"+I;break;case"REEMBOLSO_EXT_UNIV":i="XXXX";s="REUN";l=this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").getSelectedKey();I=this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").getSelectedKey();if(l===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(I===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}r=l+"_"+I;break;case"REEMBOLSO_ESTACIONAM":i="XXXX";s="REES";l=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();I=this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").getSelectedKey();if(l===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(I===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}r=l+"_"+I;break;case"REEMBOLSO_EDUCACAO":i="XXXX";s="REED";r=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break;case"REEMBOLSO_IDIOMA":i="XXXX";s="REID";l=this.getView().byId("IdPlano_REEMBOLSO_IDIOMA").getSelectedKey();I=this.getView().byId("IdAno_REEMBOLSO_IDIOMA").getSelectedKey();if(l===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(I===""){sap.m.MessageBox.error("Selecione o ano de referencia.");return}r=l+"_"+I;break}var o;var n="0";var b="";var g="";if(O==="X"){var _=this.getSelectedDependentes(d);if(c==="I"){b="I@";g="Não existem dependentes marcados para inclusão"}else if(c==="E"){b="E@";g="Não existem dependentes marcados para Exclusão"}else if(V==="X"){b="2@";g="Não existem dependentes marcados para solicitação de segunda via.";for(var u=0;u<_.length;u++){o=_[u].Subty;n=_[u].Objps;if(Number.parseInt(_[u].Subty,10)<10){o=`0${o}`}if(n===""){n="00"}const e=u<_.length-1?"@":"";b=b+o+"-"+n+e}}if(V!=="X"){for(var u=0;u<_.length;u++){o=_[u].Subty;n=_[u].Objps;if(Number.parseInt(_[u].Subty,10)<10){o=`0${o}`}if(n===""){n="00"}const e=u<_.length-1?"@":"";b=b+o+"-"+n+e}}}if(t!==""||o!==""||n!==""){var A=t+"$"+i+"$"+s+"$"+n+"$"+e.getParameter("fileName")+"$ $ $"+b+"$"+r;var S=new sap.m.UploadCollectionParameter({name:"slug",value:encodeURIComponent(A)});e.getParameters().addHeaderParameter(S)}},onuploadComplete:function(e){var t="0";var i;var s;var a="";var r;var l;switch(d){case"FUNSEJEM":i="";s="";break;case"PLANO_MEDICO":i="0167";s="MEDI";break;case"PLANO_ODONTOLOGICO":i="0167";s="DENT";a=E;break;case"PLANO_DENT_2":i="0167";s="ODNT";break;case"SEGURO_VIDA":i="0168";s="VIDA";a=this.getView().byId("IdOpcoes_SEGURO_VIDA").getSelectedKey();break;case"TRANSPORTE":i="XXXX";s="TRAN";break;case"VALE_REFEICAO":i="0377";s="VALM";break;case"AUXILIO_CRECHE":i="XXXX";s="CREC";a=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":i="XXXX";s="COOP";break;case"GREMIO_CLUBE":i="XXXX";s="GREM";break;case"EMP_CONSIGNADO":i="XXXX";s="EMCO";break;case"FARMACIA":i="XXXX";s="FARM";break;case"REEMBOLSO_SUBSIDIO":i="XXXX";s="SUBS";break;case"ALIMENTACAO":i="0377";s="VALM";break;case"OTICA":i="0377";s="OTIC";break;case"CESTA_BASICA":i="0377";s="CEST";a=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":i="0169";s="PREV";a=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":i="0169";s="PREB";break;case"PREV_PRIV_ESP":i="0169";s="PREE";break;case"PREV_PRIV_NOR":i="0169";s="PREN";break;case"PREV_PRIV_SUP":i="0169";s="PRES";break;case"MATERIAL_ESCOLAR":i="XXXX";s="MATE";a=this.getView().byId("IdPlano_MATERIAL_ESCOLAR").getSelectedKey();break;case"REEMBOLSO_MEDICAM":i="XXXX";s="REME";r=this.getView().byId("IdPlano_REEMBOLSO_MEDICAM").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_MEDICAM").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(l===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}a=r+"_"+l;break;case"REEMBOLSO_ESTACIONAM":i="XXXX";s="REES";r=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(l===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}a=r+"_"+l;break;case"REEMBOLSO_ALUGUEL":i="XXXX";s="REAL";r=this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_ALUGUEL").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(l===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}a=r+"_"+l;break;case"REEMBOLSO_EXT_UNIV":i="XXXX";s="REUN";r=this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").getSelectedKey();if(r===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(l===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}a=r+"_"+l;break;case"REEMBOLSO_EDUCACAO":i="XXXX";s="REED";a=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break;case"REEMBOLSO_IDIOMA":i="XXXX";s="REID";a=this.getView().byId("IDIOMA1").getValue();break}if(O==="X"){var I="";var o="";var n="";var b="";var g=this.getSelectedDependentes(d);if(c==="I"){I="I@";o="Não existem dependentes marcados para inclusão"}else{I="E@";o="Não existem dependentes marcados para Exclusão"}if(V!=="X"){for(var _=0;_<g.length;_++){n=g[_].Subty;b=g[_].Objps;if(Number.parseInt(g[_].Subty,10)<10){n=`0${n}`}if(b===""){b="00"}const e=_<g.length-1?"@":"";I=I+n+"-"+b+e}}}if(t!==""||n!==""){var u=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var A=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,i);var S=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,s);var y=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var p=this.getView().byId("UploadCollection");p.getBinding("items").filter([A,S,u,y])}},onmodelListContextChange:function(e){var t="0";var i;var s;var a;var r;var l;switch(d){case"FUNSEJEM":i="";s="";break;case"PLANO_MEDICO":i="MEDI";s=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();break;case"PLANO_ODONTOLOGICO":i="DENT";s=this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();break;case"SEGURO_VIDA":i="0168";s="VIDA";a=this.getView().byId("IdOpcoes_SEGURO_VIDA").getSelectedKey();break;case"TRANSPORTE":i="XXXX";s="TRAN";break;case"VALE_REFEICAO":i="0377";s="VALM";break;case"AUXILIO_CRECHE":i="XXXX";s="CREC";a=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":i="XXXX";s="COOP";break;case"GREMIO_CLUBE":i="XXXX";s="GREM";break;case"EMP_CONSIGNADO":i="XXXX";s="EMCO";break;case"FARMACIA":i="XXXX";s="FARM";break;case"REEMBOLSO_SUBSIDIO":i="XXXX";s="SUBS";break;case"ALIMENTACAO":i="0377";s="VALM";break;case"OTICA":i="0377";s="OTIC";break;case"CESTA_BASICA":i="0377";s="CEST";a=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":i="PREV";s="NORM";a=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":i="0169";s="PREB";break;case"PREV_PRIV_ESP":i="0169";s="PREE";break;case"PREV_PRIV_NOR":i="0169";s="PREN";break;case"PREV_PRIV_SUP":i="0169";s="PRES";break;case"MATERIAL_ESCOLAR":i="XXXX";s="MATE";break;case"REEMBOLSO_MEDICAM":i="XXXX";s="REME";r=this.getView().byId("IdPlano_REEMBOLSO_MEDICAM").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_MEDICAM").getSelectedKey();a=r+"_"+l;break;case"REEMBOLSO_ESTACIONAM":i="XXXX";s="REES";r=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").getSelectedKey();a=r+"_"+l;break;case"REEMBOLSO_ALUGUEL":i="XXXX";s="REAL\t";r=this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_ALUGUEL").getSelectedKey();a=r+"_"+l;break;case"REEMBOLSO_EXT_UNIV":i="XXXX";s="REUN";r=this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").getSelectedKey();l=this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").getSelectedKey();a=r+"_"+l;break;case"REEMBOLSO_EDUCACAO":i="XXXX";s="REED";a=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break}var I=s;if(t!==""||I!==""){var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,t);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,i);var O=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,I);var b=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"B");var V=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var E=this.getView().byId("UploadCollection");E.getBinding("items").filter([o,n,O,b,V])}},onDeleteSelectedItems:function(e){var t=this.getView().byId("UploadCollection");var r=t.oList;var l;var I;var o=" ";var n;var b;switch(d){case"FUNSEJEM":l="";I="";break;case"PLANO_MEDICO":l="0167";I="MEDI";break;case"PLANO_ODONTOLOGICO":l="0167";I="DENT";break;case"PLANO_DENT_2":l="0167";I="ODNT";break;case"SEGURO_VIDA":l="0168";I="VIDA";o=this.getView().byId("IdOpcoes_SEGURO_VIDA").getSelectedKey();break;case"TRANSPORTE":l="XXXX";I="TRAN";break;case"VALE_REFEICAO":l="0377";I="VALM";break;case"AUXILIO_CRECHE":l="XXXX";I="CREC";o=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":l="XXXX";I="COOP";break;case"GREMIO_CLUBE":l="XXXX";I="GREM";break;case"EMP_CONSIGNADO":l="XXXX";I="EMCO";break;case"FARMACIA":l="XXXX";I="FARM";break;case"REEMBOLSO_SUBSIDIO":l="XXXX";I="SUBS";break;case"ALIMENTACAO":l="0377";I="VALM";break;case"OTICA":l="0377";I="OTIC";break;case"CESTA_BASICA":l="0377";I="CEST";o=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":l="0169";I="PREV";o=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":l="0169";I="PREB";break;case"PREV_PRIV_ESP":l="0169";I="PREE";break;case"PREV_PRIV_NOR":l="0169";I="PREN";break;case"PREV_PRIV_SUP":l="0169";I="PRES";break;case"MATERIAL_ESCOLAR":l="XXXX";I="MATE";break;case"REEMBOLSO_MEDICAM":l="XXXX";I="REME";n=this.getView().byId("IdPlano_REEMBOLSO_MEDICAM").getSelectedKey();b=this.getView().byId("IdAno_REEMBOLSO_MEDICAM").getSelectedKey();o=n+"_"+b;break;case"REEMBOLSO_ESTACIONAM":l="XXXX";I="REES";n=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();b=this.getView().byId("IdAno_REEMBOLSO_ESTACIONAM").getSelectedKey();if(n===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(b===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}o=n+"_"+b;break;case"REEMBOLSO_ALUGUEL":l="XXXX";I="REAL";n=this.getView().byId("IdPlano_REEMBOLSO_ALUGUEL").getSelectedKey();b=this.getView().byId("IdAno_REEMBOLSO_ALUGUEL").getSelectedKey();if(n===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(b===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}o=n+"_"+b;break;case"REEMBOLSO_EXT_UNIV":l="XXXX";I="REUN";n=this.getView().byId("IdPlano_REEMBOLSO_EXT_UNIV").getSelectedKey();b=this.getView().byId("IdAno_REEMBOLSO_EXT_UNIV").getSelectedKey();if(n===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}if(b===""){sap.m.MessageBox.error("Selecione ano de referencia.");return}o=n+"_"+b;break;case"REEMBOLSO_EDUCACAO":l="XXXX";I="REED";o=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break;case"REEMBOLSO_IDIOMA":l="XXXX";I="REID";o=this.getView().byId("IDIOMA1").getValue();break}var V=this.getView().getModel();var E="0";var g="0";var _=l;var u="0";var A="0";var S="E";var y=e.getParameters("listItem");var p=y.documentId;p=parseInt(p);var C=this.getView().byId("idTipo").getValue();var f="0";if(C==="Aguardando aprovação"){sap.m.MessageBox.error("Não será possivel exclusão do anexo, quando o chamado ja existir.");return}var w="";if(c==="I"){w="Não existem dependentes marcados para inclusão"}else{w="Não existem dependentes marcados para Exclusão"}var t=this.getView().byId("UploadCollection");var h="";if(O==="X"){var w="";var P="";var M="";if(c==="I"){h="I@";w="Não existem dependentes marcados para inclusão"}else{h="E@";w="Não existem dependentes marcados para Exclusão"}const e=this.getSelectedDependentes(d);for(var R=0;R<e.length;R++){P=e[R].Subty;M=e[R].Objps;if(Number.parseInt(e[R].Subty,10)<10){P=`0${P}`}if(M===""){M="00"}const t=R<e.length-1?"@":"";h=h+P+"-"+M+t}}var D="/ZET_GLRH_UPLOADSet(Ano='"+E+"',Favor='"+g+"',Infty='"+_+"',Mes='"+u+"',Pernr='"+A+"',Tipo='"+S+"',Subty='"+I+"',DocId="+p+",Objps='',Icnum='',Valor='"+o+"',Dependentes='"+h+"',Area='"+f+"')";var L={};L.DocId=p;L.Valor=o;var B=new i({title:"Confirmação",type:"Message",content:new a({text:"Confirma a exclusão anexo?"}),beginButton:new s({text:"Sim",press:function(){V.update(D,L,{success:function(e,i){sap.m.MessageBox.success("Documentos excluido com sucesso.",{actions:["OK"],onClose:function(e){t.getBinding("items").refresh(true)}})},error:function(e){var i=e;i=i.responseText;var s=JSON.parse(i);var a=s.error.message.value;sap.m.MessageBox.error(a,{actions:["OK"],onClose:function(e){t.getBinding("items").refresh(true)}});return}});B.close()}}),endButton:new s({text:"Não",press:function(){B.close()}}),afterClose:function(){B.destroy()}});B.open()},FormatSelectionMode:function(e){return"None"},onAdd:function(){var e="0";var t="A";var i="0";var s="-";var a="-";var r="DependentesAdd";var l="-";var I=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();this.getRouter().navTo(r,{Pernr:e,Subty:s,Objps:i,Tipo:t,Favor:a,Icnum:l,Plan:I})},onSegunda:function(){var e=this;var t;V="X";var i;if(d==="PLANO_MEDICO"){i=this.getView().byId("table1").getBinding("rows").getLength()}else if(d==="PLANO_ODONTOLOGICO"){i=this.getView().byId("table1_PLANO_ODONTOLOGICO").getBinding("rows").getLength()}if(i>0){t="Deseje solicitar segunda via da carterinha para:";sap.m.MessageBox.show(t,{actions:["Dependente","Titular"],onClose:function(t){if(t==="Dependente"){if(d==="PLANO_MEDICO"){e.byId("table1").setSelectionMode("MultiToggle");e.byId("IdCancelBeneficio").setVisible(false);e.byId("IdSegundaVia").setVisible(false);e.byId("IdCancelDetailDep").setVisible(true);e.byId("IdSalvarDetailDep").setVisible(true);O="X"}else if(d==="PLANO_ODONTOLOGICO"){e.byId("table1_PLANO_ODONTOLOGICO").setSelectionMode("MultiToggle");e.byId("IdCancelBeneficio").setVisible(false);e.byId("IdSegundaVia").setVisible(false);e.byId("IdCancelDetailDep").setVisible(true);e.byId("IdSalvarDetailDep").setVisible(true)}}else if(t==="Titular"){e.onSave(V)}}})}else{e.onSave(V)}},onEdit:function(){var e=this.getView();n=true;O="";e.byId("UPLOAD").setVisible(true);switch(d){case"FUNSEJEM":e.byId("IdPlano_FUNSEJEM").setEditable(true);e.byId("IdMargemEmp").setEditable(true);break;case"PLANO_MEDICO":e.byId("IdPlano_PLANO_MEDICO").setEditable(true);e.byId("idCartMedica").setEditable(true);e.byId("IdOpcoes_PLANO_MEDICO").setEditable(true);e.byId("IdSegundaVia").setVisible(false);e.byId("IdIncluir").setVisible(false);if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="CNUN"||this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="BRAD"){this.getView().byId("TextInclusao_CNUN_BRAD").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="UNCU"){this.getView().byId("TextInclusao_UNCU").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="UNJZ"){this.getView().byId("TextInclusao_UNJZ").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey()=="SCMP"){this.getView().byId("TextInclusao_SCMP").setVisible(true)}else{this.getView().byId("TextInclusao").setVisible(true)}break;case"PLANO_ODONTOLOGICO":e.byId("IdPlano_PLANO_ODONTOLOGICO").setEditable(true);e.byId("IdCartDentista").setEditable(true);e.byId("IdOpcoes_PLANO_ODONTOLOGICO").setEditable(true);e.byId("IdSegundaVia").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_BRAD_MET").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_MET").setVisible(false);this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_UNIMED").setVisible(false);this.getView().byId("TextEditar_PLANO_ODONTOLOGICO").setVisible(false);if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="BRAO"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_BRAD_MET").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="METL"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_MET").setVisible(true)}else if(this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey()=="PSOU"){this.getView().byId("TextInclusao_PLANO_ODONTOLOGICO_UNIMED").setVisible(true)}else{this.getView().byId("TextEditar_PLANO_ODONTOLOGICO").setVisible(true)}if(e.byId("idbPLAN").getValue()&&e.byId("idbOPCOES").getValue()){e.byId("CHECKBOX").setVisible(false)}else{e.byId("CHECKBOX").setVisible(true)}e.byId("CheckBox").setSelected(false);break;case"PLANO_DENT_2":e.byId("IdPlano_PLANO_DENT_2").setEditable(true);e.byId("IdCartPLANO_DENT_2").setEditable(true);break;case"SEGURO_VIDA":e.byId("IdPlano_SEGURO_VIDA").setEditable(true);e.byId("IdOpcoes_SEGURO_VIDA").setEditable(true);e.byId("TextPlano").setVisible(true);break;case"TRANSPORTE":e.byId("IdPlano_TRANSPORTE").setEditable(true);e.byId("UPLOAD").setVisible(true);e.byId("IdSalvarDetail").setVisible(true);e.byId("TextTransporte").setVisible(true);break;case"VALE_REFEICAO":e.byId("IdPlano_VALE_REFEICAO").setEditable(true);e.byId("IdOpcoes_VALE_REFEICAO").setEditable(true);break;case"AUXILIO_CRECHE":e.byId("IdPlano_AUXILIO_CRECHE").setEditable(true);e.byId("TextAUXILIO_CRECHE").setVisible(true);break;case"COOPERATIVA":e.byId("IdSalvarDetail").setVisible(true);e.byId("TextCOOPERATIVA").setVisible(true);break;case"GREMIO_CLUBE":e.byId("TextGREMIO_CLUBE4").setVisible(false);e.byId("TextGREMIO_CLUBE").setVisible(true);e.byId("UPLOAD").setVisible(true);break;case"EMP_CONSIGNADO":e.byId("TextEMPRESTIMO_CONSIGINADO").setVisible(true);break;case"FARMACIA":e.byId("IdPlano_FARMACIA").setEditable(true);e.byId("IdMotivo_FARMACIA").setEditable(true);e.byId("TextFARMACIA").setVisible(true);e.byId("UPLOAD").setVisible(true);break;case"REEMBOLSO_SUBSIDIO":e.byId("IdPlano_REEMBOLSO_SUBSIDIO").setEditable(true);e.byId("IdAno_REEMBOLSO_SUBSIDIO").setEditable(true);break;case"ALIMENTACAO":e.byId("IdPlano_ALIMENTACAO").setEditable(true);e.byId("IdOpcoes_ALIMENTACAO").setEditable(true);e.byId("IdObservacao_ALIMENTACAO").setEditable(true);break;case"OTICA":e.byId("IdPlano_OTICA").setEditable(true);e.byId("IdOpcoes_OTICA").setEditable(true);e.byId("IdObservacao_OTICA").setEditable(true);break;case"CESTA_BASICA":e.byId("IdMotivo_CESTA_BASICA").setEditable(true);e.byId("idTelefone").setEditable(true);e.byId("FormContainer5_CESTA_BASICA").setVisible(true);break;case"PREVIDENCIA_PRIVADA":e.byId("IdMotivo_PREVIDENCIA_PRIVADA").setEditable(true);e.byId("IdValor_PREVIDENCIA_PRIVADA").setEditable(true);e.byId("TextPrevidencia").setVisible(true);break;case"PREV_PRIV_BAS":e.byId("IdPlano_PREV_PRIV_BAS").setEditable(true);break;case"PREV_PRIV_ESP":e.byId("IdPlano_PREV_PRIV_ESP").setEditable(true);break;case"PREV_PRIV_NOR":e.byId("IdPlano_PREV_PRIV_NOR").setEditable(true);break;case"PREV_PRIV_SUP":e.byId("IdPlano_PREV_PRIV_SUP").setEditable(true);break;case"REEMBOLSO_ESTACIONAM":e.byId("IdPlano_REEMBOLSO_ESTACIONAM").setEditable(true);e.byId("TextREEMBOLSO_ESTACIONAM").setVisible(true);e.byId("IdAno_REEMBOLSO_ESTACIONAM").setEditable(true);break;case"REEMBOLSO_ALUGUEL":e.byId("IdPlano_REEMBOLSO_ALUGUEL").setEditable(true);e.byId("TextREEMBOLSO_ALUGUEL").setVisible(true);e.byId("IdAno_REEMBOLSO_ALUGUEL").setEditable(true);break;case"REEMBOLSO_EXT_UNIV":e.byId("IdPlano_REEMBOLSO_EXT_UNIV").setEditable(true);e.byId("TextREEMBOLSO_EXT_UNIV").setVisible(true);e.byId("IdAno_REEMBOLSO_EXT_UNIV").setEditable(true);break;case"REEMBOLSO_EDUCACAO":e.byId("IdPlano_REEMBOLSO_EDUCACAO").setEditable(true);e.byId("TextREEMBOLSO_EDUCACAO").setVisible(true);break;case"MATERIAL_ESCOLAR":e.byId("IdPlano_MATERIAL_ESCOLAR").setEditable(true);e.byId("Text_MATERIAL_ESCOLAR").setVisible(true);break;case"REEMBOLSO_IDIOMA":e.byId("IdPlano_REEMBOLSO_IDIOMA").setEditable(true);e.byId("IdAno_REEMBOLSO_IDIOMA").setEditable(true);e.byId("Text_REEMBOLSO_IDIOMA").setVisible(true);break;case"REEMBOLSO_MEDICAM":e.byId("IdPlano_REEMBOLSO_MEDICAM").setEditable(true);e.byId("IdAno_REEMBOLSO_MEDICAM").setEditable(true);e.byId("Text_REEMBOLSO_MEDICAM").setVisible(true);break}e.byId("IdEditDetailDep").setVisible(false);e.byId("IdSalvarDetail").setVisible(true);e.byId("IdSalvarDetailDep").setVisible(false);e.byId("IdCancelDetailDep").setVisible(true);e.byId("UploadCollection").setUploadButtonInvisible(false)},FormatFalse:function(){return false},onSelected:function(){this.getView().byId("FormContainer7_TRANSPORTE").setVisible(true)},onbeforeRebindTable_TRANSPORTE:function(e){var t=this.getView().byId("IdPlano_TRANSPORTE").getSelectedKey();if(t!==undefined||t!==""){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IBplan",operator:"EQ",value1:t}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IBeneficio",operator:"EQ",value1:"TRANSPORTE"}))}},onbeforeRebindTable:function(e){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPlan",operator:"EQ",value1:"MEDI"}))},onbeforeRebindTable_smartTable_PLANO_ODONTOLOGICO:function(e){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPlan",operator:"EQ",value1:"DENT"}))},OnEditDep:function(){var e=this.getView().byId("table");var t=e.getSelectedItems();var i;var s;var a=t.length;var r="0";var l;var I="V";var o;var d;var n="DepententeDetail";if(a>1){sap.m.MessageBox.error("Por favor, selecione apenas um dependente para edição.");return}i=t[0].getBindingContextPath();s=i.split(",");l=s[2];l=l.split("=");l=l[1];while(l.indexOf("'")!==-1){l=l.replace("'","")}o=s[3];o=o.split("=");o=o[1];this.getRouter().navTo(n,{Pernr:r,Subty:l,Objps:o,Tipo:I,Favor:d})},formatSelect:function(e){if(e==="X"){return true}else{return false}},onChangeMotivoPrev:function(){var e=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();var t=this.getView().byId("IdValor_PREVIDENCIA_PRIVADA");var i=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA");var s=this.getView().byId("FormContainer5_PREVIDENCIA_PRIVADA");var a=this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA");var r;switch(e){case"AB":r="Informe para alteração de beneficiários";t.setVisible(true);i.setVisible(false);break;case"AD":r="Informe o percentual da Adesão.";t.setVisible(true);i.setVisible(false);s.setLabel("Percentual");a.setLabel("Percentual");break;case"CA":r="Informe o percentual da contribuição adicional.";t.setVisible(false);i.setVisible(true);s.setLabel("Percentual");a.setLabel("Percentual");break;case"CB":r="Informe o percentual da contribuição básica.";t.setVisible(true);i.setVisible(false);s.setLabel("Percentual");a.setLabel("Percentual");break;case"MI":r="Informe a modalidade de investimento.";t.setVisible(true);i.setVisible(false);s.setLabel("Modalidade");a.setLabel("Modalidade");break}if(e==="CA"){this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(false);this.getView().byId("FormContainer5_PREVIDENCIA_PRIVADA").setVisible(true)}else if(e==="AB"){this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(false)}else{this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(true);this.getView().byId("FormContainer5_PREVIDENCIA_PRIVADA").setVisible(false);var l=this.getView().byId("IdValor_PREVIDENCIA_PRIVADA").getBinding("items");var I=new sap.ui.model.Filter("IOpcao",sap.ui.model.FilterOperator.EQ,e);l.filter([I])}t.setPlaceholder(r);i.setPlaceholder(r)},onCancelBeneficio:function(){let e="Anexe o formulario para continuar.";if(d==="PLANO_ODONTOLOGICO"){e='Você está solicitando o cancelamento deste benefício. Clique em "Enviar" para continuar com a solicitação.'}sap.m.MessageBox.error(e);E="C";this.getView().byId("UPLOAD").setVisible(true);this.getView().byId("IdSalvarDetail").setVisible(true);this.getView().byId("IdSegundaVia").setVisible(false);this.getView().byId("IdCancelBeneficio").setVisible(false);this.getView().byId("IdCancelDetailDep").setVisible(true)},formatExclui:function(){},onSave2via:function(){var e;var t=this.getView().getModel();var a={};var r=this;var n=d;var O="0";var b;var V="X";if(E==="C"){b=E}else{b="G"}var c="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+O+"',Beneficio='"+n+"',Tipo='"+b+"')";var g=0;switch(n){case"PLANO_MEDICO":a.Bplan=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();if(a.Bplan===""){this.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}a.Opcoes=r.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();if(a.Opcoes===""){r.getView().byId("IdOpcoes_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{r.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}a.CartMedica=this.getView().byId("idCartMedica").getValue();if(V==="X"){a.Via2medico=V}break;case"PLANO_ODONTOLOGICO":a.Bplan=this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();if(a.Bplan===""){this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Success")}a.Opcoes=this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getSelectedKey();if(a.Opcoes===""){this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Success")}a.CartDentista=this.getView().byId("IdCartDentista").getValue();a.Valor=E;if(V==="X"){a.Via2Dent=V}break}a.Tipo=a.Operation;a.Beneficio=n;if(a.Montante!==""&&a.Montante!==undefined){while(a.Montante.indexOf(".")!==-1){a.Montante=a.Montante.replace(".","")}a.Montante=a.Montante.replace(",",".")}if(g===1){var r=this;var e="";e=new i({title:"Código Outros",type:"Message",content:[new l({text:"Você selecionou a opção outros,\n informe o transporte a ser solicitado.",labelFor:"submitDialogTextarea"}),new I("submitDialogTextarea",{liveChange:function(e){sText=e.getParameter("value");a.Observacao=sText},width:"100%",placeholder:"Digite aqui."})],beginButton:new s({type:o.Emphasized,text:"Ok",press:function(){if(a.Observacao===undefined||a.Observacao===""){sap.m.MessageBox.error("Observação não preenchida");return}else{e.close();r.GravaBeneficio(c,a)}}.bind(this)}),endButton:new s({text:"Cancelar",press:function(){e.close()}}),afterClose:function(){e.destroy()}});e.open()}else{this.GravaBeneficio(c,a,V)}}})});