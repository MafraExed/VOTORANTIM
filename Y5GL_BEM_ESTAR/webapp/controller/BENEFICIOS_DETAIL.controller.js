sap.ui.define(["Y5GL_BEM_ESTAR/Y5GL_BEM_ESTAR/controller/BaseController","sap/ui/Device","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/model/Filter","sap/m/Label","sap/m/TextArea","sap/m/ButtonType"],function(e,t,a,i,r,s,l,o,n){"use strict";var d,I,O,E,c,b,A;var u="";var _;return e.extend("Y5GL_BEM_ESTAR.Y5GL_BEM_ESTAR.controller.BENEFICIOS_DETAIL",{onInit:function(){this.getRouter().getRoute("BENEFICIOS_DETAIL").attachPatternMatched(this._onObjectMatched,this);var e=sap.ushell.Container.getUser().getFullName();var t=jQuery.sap.getModulePath("Y5GL_BEM_ESTAR.Y5GL_BEM_ESTAR");var a=t+"/imagens/loading.gif";this.getView().byId("idimg").setSrc(a)},formatVisibleMsg:function(e){if(e==="Em ResoluÃ§Ã£o"){return true}else{return false}},FormatEditable:function(e){return true},FormatValor:function(e){if(e===""||e===undefined){return 2}else{return e}},formathighlight:function(e){if(e==="X"){return"Success"}else{return"Error"}},formatVisiblebButton:function(e){if(e==="Em ResoluÃ§Ã£o"){return true}else{return false}},FormatBV:function(e){if(e==="Em ResoluÃ§Ã£o"||e===""){return false}else{return true}},formatVisibleEdit:function(e){if(e==="Em ResoluÃ§Ã£o"||e==="X"){return false}else{return true}},formatVisibleEditOpcoes:function(e){if(e==="Em ResoluÃ§Ã£o"){if(d==="SEGURO_VIDA"){return true}else{return false}}else{return true}},FormatForm:function(e){return false},onBindingContextUpload:function(e){var t=e},_onObjectMatched:function(e){this.getView().getModel().refresh(true);var t=e.getParameter("arguments").Beneficio;_=e.getParameter("arguments").Chamado;this.getView().byId("idChamado").setValue(_);A=e.getParameter("arguments").Pernr;var a=e.getParameter("arguments").Zdesc;var i;var r;var s;this.getView().byId("idTitleDependentes").setText(a);d=t;s="V";this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.getModel().metadataLoaded().then(function(){var e=this.getModel().createKey("ZET_GLHR_EC_CSC_BENEFICIOSSet",{Pernr:A,Beneficio:t,Tipo:s,Chamado:_});this._bindView("/"+e)}.bind(this))},onBackMaster:function(){this.getView().getModel().refresh(true);this.getView().byId("IdCancelDetailDep").setVisible(false);this.getRouter().navTo("master")},onchangeIdMargemEmp:function(e){var t=this;var a;var i=e.getParameter("value");var r=e.getParameter("id");var s=r.split("DETAIL--")[1];var l;l=i;while(i.indexOf(",")!==-1){i=i.replace(",",".")}a=!isNaN(i);if(a===true){i=this.adicionarpontoFloat(l);this.getView().byId(s).setValue(i)}else{sap.m.MessageBox.error("O valor informado deverá ser um número.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){}})}},onVoltar:function(){var e;var a;e=!t.system.phone;a="worklist";this.getRouter().navTo(a,e)},onCancel:function(){var e;var t=this;e=new a({title:"Confirmação",type:"Message",content:new r({text:"¿Quieres cancelar el cambio?"}),beginButton:new i({text:"Sim",press:function(){t.Cancela();t.getView().byId("TextInclusao").setVisible(false);e.close()}}),endButton:new i({text:"Não",press:function(){e.close()}}),afterClose:function(){e.destroy()}});e.open()},Cancela:function(){var e=this;e.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":e.getView().byId("TextInclusao").setVisible(false);e.getView().byId("TextExclusao").setVisible(false);e.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":e.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);e.getView().byId("TextInclusao").setVisible(false);e.getView().byId("TextExclusao").setVisible(false);break}e.getView().byId("IdCancelDetailDep").setVisible(false);e.getView().byId("IdIncluir").setVisible(false)},FormatIcon:function(e){if(e!=null){if(e==="Não"){return"sap-icon://add"}else if(e==="Sim"){return"sap-icon://delete"}}},FormatBVisible:function(e){if(e!=null){if(e==="Não"||e==="Sim"){return true}else{return false}}},FormatIncluir:function(e){var t=this.getView().byId("table1");var a=t.getBinding("rows").getLength();var i=0;var r;for(i;i<a;i++){r=t.getRows()[i].getCells()[1].getText();if(r==="Sim"){return true}else{return false}}},FormatExcluir:function(e){if(e==="Não"){return false}else{return true}},formatEditableUpload:function(e){var t=this.getView().byId("idVia2medico").getText();var a=this.getView().byId("idVia2Dent").getText();if(e==="Em ResoluÃ§Ã£o"){if(t==="X"||a==="X"){return false}else{return true}}else{return false}},onSave:function(e){var t;var a=this.getView().getModel();var i={};var r=this;var s=d;var l="0";var o;if(s=="EMP_CONSIGNADO"||s=="LABORAL"||s=="PASAJE"||s=="ADELANTO"||s=="ADELANTO_SUELDOS"||s=="ASIGNACION"||s=="SEGURO_DE_VIDA"){o="L"}else if(s=="PLANO_MEDICO"){o="K"}else if(s=="ASIGNACION_ESCOLAR"||s=="AGUINALDO_NAVIDENO"){o="A"}var n="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+A+"',Beneficio='"+s+"',Tipo='"+o+"')";var I="";switch(s){case"EMP_CONSIGNADO":I="x";break;case"ADELANTO":I="x";break;case"ADELANTO_SUELDOS":I="x";break;case"ASIGNACION":I="x";break;case"ASIGNACION_ESCOLAR":I="x";break;case"AGUINALDO_NAVIDENO":I="x";break;case"SEGURO_DE_VIDA":i.Bplan=this.getView().byId("IdPlano_SEGURO_DE_VIDA").getSelectedKey();i.Opcoes=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();var O=this.getView().byId("IdOpcoes_risco").getSelectedKey();if(!O){sap.m.MessageBox.error("Seleccione el riesgo");return}i.Valor=this.getView().byId("IdOpcoes_risco").getSelectedKey();I="x";break;case"PLANO_MEDICO":i.Bplan=this.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();i.Opcoes=this.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();I="x";break}if(I!=="x"){var E=this.getView().byId("IdPlano_"+d).getSelectedKey();var c=this.getView().byId("IdAno_"+d).getSelectedKey();i.Valor=E+"_"+c}i.Chamado=_;i.Tipo=i.Operation;i.Beneficio=s;if(i.Montante!==""&&i.Montante!==undefined){while(i.Montante.indexOf(".")!==-1){i.Montante=i.Montante.replace(".","")}i.Montante=i.Montante.replace(",",".")}this.GravaBeneficio(n,i,e)},GravaBeneficio:function(e,t,s){var l=this;var o=this.getView().getModel();var n="";var d;d="worklist";if(s==="X"){n="¿Confirmar aprobación duplicada?"}else{n="¿Confirma la aprobación del beneficio?"}var I=new a({title:"Confirmación",type:"Message",content:new r({text:n}),beginButton:new i({text:"Si",press:function(){o.update(e,t,{success:function(e,t){sap.m.MessageBox.success("Beneficio aprobado con éxito.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){l.getView().getModel().refresh(true);l.getRouter().navTo(d)}})},error:function(e){var t=e;t=t.responseText;var a=JSON.parse(t);var i=a.error.message.value;sap.m.MessageBox.error(i,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){}});return}});I.close()}}),endButton:new i({text:"No",press:function(){I.close()}}),afterClose:function(){I.destroy()}});I.open()},onSaveCDep:function(){var e=this.getView().getModel();var t;var s={};var l=this;switch(d){case"PLANO_MEDICO":t=this.getView().byId("smartTable").getTable();s.Bplan=l.getView().byId("IdPlano_PLANO_MEDICO").getSelectedKey();if(s.Bplan===""){l.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{l.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}s.Opcoes=l.getView().byId("IdOpcoes_PLANO_MEDICO").getSelectedKey();if(s.Opcoes===""){l.getView().byId("IdOpcoes_PLANO_MEDICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{l.getView().byId("IdPlano_PLANO_MEDICO").setValueState("Success")}s.CartMedica=l.getView().byId("idCartMedica").getValue();if(c==="X"){s.Via2medico=c}break;case"PLANO_ODONTOLOGICO":t=this.getView().byId("smartTable_PLANO_ODONTOLOGICO").getTable();s.Bplan=l.getView().byId("IdPlano_PLANO_ODONTOLOGICO").getSelectedKey();if(s.Bplan===""){l.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe o plano");return}else{l.getView().byId("IdPlano_PLANO_ODONTOLOGICO").setValueState("Success")}s.Opcoes=l.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getSelectedKey();if(s.Opcoes===""){l.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Error");sap.m.MessageBox.error("Informe a opção do plano");return}else{l.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").setValueState("Success")}s.CartDentista=l.getView().byId("IdCartDentista").getValue();if(c==="X"){s.Via2Dent=c}break}var o;var n;var I;var O;var b="0";var A=d;var _;var p;p=t.getSelectedIndices();var V;if(u==="I"){_="Confirma a inclusão do dependente no plano?";o="I@"}else if(u==="C"){_="Confirma a solicitação da segunda via?";o="C@"}else if(c==="X"){o="2@"}else{_="Confirma a exclusão do dependente do plano?";o="E@"}if(c==="X"){V=new a({title:"Confirmación",type:"Message",content:new r({text:"Confirma a solicitação de segunda via para os dependentes selecionados?"}),beginButton:new i({text:"Sim",press:function(){var a;var i;for(var r=0;r<p.length;r++){a=t.getContextByIndex([p[r]]).getObject().Subty;i=t.getContextByIndex([p[r]]).getObject().Objps;o=o+a+"-"+i+"@"}O="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+A+"',Tipo='G')";s.Dependentes=o;e.update(O,s,{success:function(e,t){sap.m.MessageBox.success("Benefício salvo com sucesso.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){l.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);break}l.getView().byId("IdCancelDetailDep").setVisible(false);l.getView().byId("IdIncluir").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var a=JSON.parse(t);var i=a.error.message.value;sap.m.MessageBox.error(i,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){l.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);break}l.getView().byId("IdCancelDetailDep").setVisible(false);l.getView().byId("IdIncluir").setVisible(false)}});return}});V.close()}}),endButton:new i({text:"Não",press:function(){V.close()}}),afterClose:function(){V.destroy()}});V.open()}else{V=new a({title:"Confirmação",type:"Message",content:new r({text:_}),beginButton:new i({text:"Sim",press:function(){var t=E;n=t.split(",");n=n[2];n=n.split("Subty=");n=n[1];while(n.indexOf("'")!==-1){n=n.replace("'","")}if(n<10){n="0"+n}I=t.split(",");I=I[3];I=I.split("Objps=");I=I[1];while(I.indexOf("'")!==-1){I=I.replace("'","")}while(I.indexOf(")")!==-1){I=I.replace(")","")}if(I===""){I="00"}o=o+n+"-"+I;O="/ZET_GLHR_DETAIL_BENEFICIOSSet(Pernr='"+b+"',Beneficio='"+A+"',Tipo='G')";s.Dependentes=o;e.update(O,s,{success:function(e,t){sap.m.MessageBox.success("Benefício salvo com sucesso.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){l.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);break}l.getView().byId("IdCancelDetailDep").setVisible(false);l.getView().byId("IdIncluir").setVisible(false)}})},error:function(e){var t=e;t=t.responseText;var a=JSON.parse(t);var i=a.error.message.value;sap.m.MessageBox.error(i,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){l.getView().getModel().refresh(true);switch(d){case"PLANO_MEDICO":l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);break;case"PLANO_ODONTOLOGICO":l.getView().byId("TextInclusao_PLANO_ODONTOLOGICO").setVisible(false);l.getView().byId("TextInclusao").setVisible(false);l.getView().byId("TextExclusao").setVisible(false);break}l.getView().byId("IdCancelDetailDep").setVisible(false);l.getView().byId("IdIncluir").setVisible(false)}});return}});V.close()}}),endButton:new i({text:"Não",press:function(){V.close()}}),afterClose:function(){V.destroy()}});V.open()}},tirapontos:function(e){while(e.indexOf(".")!==-1){e=e.replace(".","")}while(e.indexOf(",")!==-1){e=e.replace(",",".")}return e},_bindView:function(e){var t=this.getView().getModel();var a=this;a.loading(false);this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){a.loading(true)},dataReceived:function(){a.loading(false)}}})},onAcao:function(e){O="X";var t=e.getSource().getId();var a=e.getSource().getIcon();this.getView().byId(t).setPressed(true);if(a==="sap-icon://add"){this.onIncluinoPlano(e)}else if(a==="sap-icon://delete"){this.onExluiPlano(e)}},AfterUpdate:function(e){var t=this.getView().byId("table1").getBinding("rows").getLength();if(t>0){this.getView().byId("table1").setVisibleRowCount(t)}else{this.getView().byId("FormContainer5_PLANO_MEDICO").setVisible(false)}},AfterUpdate_VALE_TRANSPORTE:function(e){var t=this.getView().byId("table1_VALE_TRANSPORT").getBinding("rows").getLength();if(t>0){this.getView().byId("table1_VALE_TRANSPORT").setVisibleRowCount(t)}else{this.getView().byId("FormContainer7_VALE_TRANSPORTE").setVisible(false)}},AfterUpdate_PLANO_ODONTOLOGICO:function(e){var t=this.getView().byId("table1_PLANO_ODONTOLOGICO").getBinding("rows").getLength();if(t>0){this.getView().byId("table1_PLANO_ODONTOLOGICO").setVisibleRowCount(t)}else{this.getView().byId("FormContainer5_PLANO_ODONTOLOGICO").setVisible(false)}},_onBindingChange:function(){var e,t;this.getView().byId(d).setVisible(true);this.getView().byId("UPLOAD").setVisible(true);this.getView().byId("UploadCollection").setUploadButtonInvisible(true);if(d!==undefined){switch(d){case"EMP_CONSIGNADO":break;case"ESTAC_MOVBUS":var a=this.getView().byId("alug1").getValue();var i=a;i=i.split("_");var r=i[0];var s=i[1];this.getView().byId("IdPlano_ESTAC_MOVBUS").setSelectedKey(r);this.getView().byId("IdAno_ESTAC_MOVBUS").setSelectedKey(s);e="XXXX";t="ESMV";var l=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O,l]);return;case"LABORAL":var a=this.getView().byId("alug1").getValue();var i=a;i=i.split("_");var r=i[0];var s=i[1];this.getView().byId("IdPlano_LABORAL").setSelectedKey(r);this.getView().byId("IdAno_LABORAL").setSelectedKey(s);e="XXXX";t="LABO";var l=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O,l]);return;case"PASAJE":var a=this.getView().byId("alug1").getValue();var i=a;i=i.split("_");var r=i[0];var s=i[1];this.getView().byId("IdPlano_PASAJE").setSelectedKey(r);this.getView().byId("IdAno_PASAJE").setSelectedKey(s);e="XXXX";t="PASA";var l=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O,l]);return;case"REEMBOLSO_CURSOS":var a=this.getView().byId("alug1").getValue();var i=a;i=i.split("_");var r=i[0];var s=i[1];this.getView().byId("IdPlano_REEMBOLSO_CURSOS").setSelectedKey(r);this.getView().byId("IdAno_REEMBOLSO_CURSOS").setSelectedKey(s);e="XXXX";t="RECU";var l=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O,l]);return;case"REEMBOLSO_EXPATRIADO":var a=this.getView().byId("alug1").getValue();var i=a;i=i.split("_");var r=i[0];var s=i[1];this.getView().byId("IdPlano_REEMBOLSO_EXPATRIADO").setSelectedKey(r);this.getView().byId("IdAno_REEMBOLSO_EXPATRIADO").setSelectedKey(s);e="XXXX";t="REEX";var l=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O,l]);return;case"REEMBOLSO_IDIOMA":var a=this.getView().byId("alug1").getValue();var i=a;i=i.split("_");var r=i[0];var s=i[1];this.getView().byId("IdPlano_REEMBOLSO_IDIOMA").setSelectedKey(r);this.getView().byId("IdAno_REEMBOLSO_IDIOMA").setSelectedKey(s);e="XXXX";t="REID";var l=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,a);var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O,l]);return;case"SEGURO_DE_VIDA":e="0037";t="PE05";var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O]);return;case"PLANO_MEDICO":e="0167";t="PS01";var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var n=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var I=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var O=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var E=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var c=this.getView().byId("UploadCollection");c.getBinding("items").filter([o,n,I,E,O]);return}}this.filtraUploadCollection()},filtraUploadCollection:function(){var e,t;if(d!==undefined){switch(d){case"EMP_CONSIGNADO":e="XXXX";t="EMCO";break;case"ADELANTO":e="XXXX";t="ADEL";break;case"ADELANTO_SUELDOS":e="XXXX";t="ADES";break;case"ASIGNACION":e="XXXX";t="ASIG";break;case"ASIGNACION_ESCOLAR":e="XXXX";t="ASIE";break;case"AGUINALDO_NAVIDENO":e="XXXX";t="AGUI";break;case"ESTAC_MOVBUS":e="XXXX";t="ESMV";break;case"LABORAL":e="XXXX";t="LABO";break;case"PASAJE":e="XXXX";t="PASA";break;case"REEMBOLSO_CURSOS":e="XXXX";t="RECU";break;case"REEMBOLSO_EXPATRIADO":e="XXXX";t="REEX";break;case"REEMBOLSO_IDIOMA":e="XXXX";t="REID";break;case"SEGURO_DE_VIDA":e="0037";t="PE05";break;case"PLANO_MEDICO":e="0167";t="PS01";break}if(t!==""){var a=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var i=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,e);var r=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,t);var s=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"C");var l=new sap.ui.model.Filter("chamado",sap.ui.model.FilterOperator.EQ,_);var o=this.getView().byId("UploadCollection");o.getBinding("items").filter([a,i,r,l,s])}}},onConfirmMunicipio:function(e){var t=e.getParameter("selectedItem");this._valueHelpDialog1=null;if(t){var a=t.getTitle();var i=this.getView().byId(this.inputId);i.setValue(a)}},handleValueHelp:function(e){var t=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();if(t===""){sap.m.MessageBox.error("Informe o motivo.");return}var a=e.getSource().getValue();this.inputId=e.getSource().getId();if(!this._valueHelpDialog1){this._valueHelpDialog1=sap.ui.xmlfragment("Y5GL_EC_BENEFICIOS.Y5GL_EC_BENEFICIOS.view.Valor",this);this.getView().addDependent(this._valueHelpDialog1)}this._valueHelpDialog1.open(a);this._valueHelpDialog1.getBinding("items").filter([new s("IOpcao",sap.ui.model.FilterOperator.EQ,t)])},onchangeMotivo:function(e){var t=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();var a=new sap.ui.model.Filter("IOpcao",sap.ui.model.FilterOperator.EQ,t);var i=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA1").getBinding("items");i.filter([a])},onchangePlano:function(e){var t=e.getParameter("id");t=t.split("BENEFICIOS_DETAIL--");t=t[1];var a=this.getView().byId(t).getSelectedKey();var i=new sap.ui.model.Filter("Bplan",sap.ui.model.FilterOperator.EQ,a);var r=new sap.ui.model.Filter("IBplan",sap.ui.model.FilterOperator.EQ,a);var s;var l;switch(d){case"PLANO_MEDICO":s=this.getView().byId("IdOpcoes_PLANO_MEDICO").getBinding("items");s.filter([i]);break;case"PLANO_ODONTOLOGICO":s=this.getView().byId("IdOpcoes_PLANO_ODONTOLOGICO").getBinding("items");s.filter([i]);break;case"FARMACIA":l=this.getView().byId("IdMotivo_FARMACIA").getBinding("items");l.filter([r]);break;case"PREVIDENCIA_PRIVADA":l=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getBinding("items");l.filter([r])}},onIncluinoPlano:function(e){sap.m.MessageBox.alert("Anexe o documento para prosseguir.");E=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);u="I";this.getView().byId("TextInclusao").setVisible(true);this.getView().byId("TextExclusao").setVisible(false)},onExluiPlano:function(e){sap.m.MessageBox.alert("Anexe o documento para prosseguir.");E=e.getSource()._getBindingContext().sPath;this.getView().byId("UPLOAD").setVisible(true);u="E";this.getView().byId("TextInclusao").setVisible(false);this.getView().byId("TextExclusao").setVisible(true)},onChange:function(e){var t=e.getSource();var a=this.getView().getModel();a.refreshSecurityToken();var i=a.oHeaders;var r=i["x-csrf-token"];var s=new sap.m.UploadCollectionParameter({name:"x-csrf-token",value:r});t.addHeaderParameter(s)},onBeforeUploadStarts:function(e){var t="0";var a;var a;var i;var r;var s="";switch(d){case"FUNSEJEM":a="";i="";break;case"PLANO_MEDICO":a="0167";i="PS01";r=this.getView().byId("smartTable").getTable();break;case"PLANO_ODONTOLOGICO":a="0167";i="DENT";r=this.getView().byId("smartTable_PLANO_ODONTOLOGICO").getTable();s=b;break;case"PLANO_DENT_2":a="0167";i="ODNT";break;case"SEGURO_VIDA":a="0037";i="PE05";s=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":a="XXXX";i="TRAN";break;case"VALE_REFEICAO":a="0377";i="VALM";break;case"AUXILIO_CRECHE":a="XXXX";i="CREC";s=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();if(s===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break;case"COOPERATIVA":a="4707";i="";break;case"GREMIO_CLUBE":a="9003";i="";break;case"EMP_CONSIGINADO":a="";i="";break;case"ADELANTO":a="";i="";break;case"ADELANTO_SUELDOS":a="";i="";break;case"ASIGNACION":a="";i="";break;case"ASIGNACION_ESCOLAR":a="";i="";break;case"AGUINALDO_NAVIDENO":a="";i="";break;case"FARMACIA":a="0377";i="FARM";break;case"REEMBOLSO_SUBSIDIO":a="";i="";break;case"ALIMENTACAO":a="0377";i="VALM";break;case"OTICA":a="0377";i="OTIC";break;case"CESTA_BASICA":a="0377";i="CEST";s=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":a="0169";i="PREV";s=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":a="0169";i="PREB";break;case"PREV_PRIV_ESP":a="0169";i="PREE";break;case"PREV_PRIV_NOR":a="0169";i="PREN";break;case"PREV_PRIV_SUP":a="0169";i="PRES";break;case"REEMBOLSO_ESTACIONAM":a="XXXX";i="REES";s=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();if(s===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break;case"REEMBOLSO_EDUCACAO":a="XXXX";i="REED";s=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();if(s===""){sap.m.MessageBox.error("Selecione mês de referencia.");return}break}var l;var o="0";var n="";var I="";if(O==="X"){if(u==="I"){n="I@";I="Não existem dependentes marcados para inclusão"}else{n="E@";I="Não existem dependentes marcados para Exclusão"}var c=E;l=c.split(",");l=l[2];l=l.split("Subty=");l=l[1];while(l.indexOf("'")!==-1){l=l.replace("'","")}if(l<10){l="0"+l}o=c.split(",");o=o[3];o=o.split("Objps=");o=o[1];while(o.indexOf("'")!==-1){o=o.replace("'","")}while(o.indexOf(")")!==-1){o=o.replace(")","")}if(o===""){o="00"}n=n+l+"-"+o}if(t!==""||l!==""||o!==""){var A=t+"$"+a+"$"+i+"$"+o+"$"+e.getParameter("fileName")+"$ $ $"+n+"$"+s;var _=new sap.m.UploadCollectionParameter({name:"slug",value:A});e.getParameters().addHeaderParameter(_)}},onuploadComplete:function(e){var t="0";var a;var i;var r="";switch(d){case"FUNSEJEM":a="";i="";break;case"PLANO_MEDICO":a="0167";i="PS01";break;case"PLANO_ODONTOLOGICO":a="0167";i="DENT";r=b;break;case"PLANO_DENT_2":a="0167";i="ODNT";break;case"SEGURO_VIDA":a="0037";i="PE05";r=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":a="XXXX";i="TRAN";break;case"VALE_REFEICAO":a="0377";i="VALM";break;case"AUXILIO_CRECHE":a="XXXX";i="CREC";r=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":a="4707";i="";break;case"GREMIO_CLUBE":a="9003";i="";break;case"EMP_CONSIGINADO":a="";i="";break;case"ADELANTO":a="";i="";break;case"ADELANTO_SUELDOS":a="";i="";break;case"ASIGNACION":a="";i="";break;case"ASIGNACION_ESCOLAR":a="";i="";break;case"AGUINALDO_NAVIDENO":a="";i="";break;case"FARMACIA":a="0377";i="FARM";break;case"REEMBOLSO_SUBSIDIO":a="";i="";break;case"ALIMENTACAO":a="0377";i="VALM";break;case"OTICA":a="0377";i="OTIC";break;case"CESTA_BASICA":a="0377";i="CEST";r=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":a="0169";i="PREV";r=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":a="0169";i="PREB";break;case"PREV_PRIV_ESP":a="0169";i="PREE";break;case"PREV_PRIV_NOR":a="0169";i="PREN";break;case"PREV_PRIV_SUP":a="0169";i="PRES";break;case"REEMBOLSO_ESTACIONAM":a="XXXX";i="REES";r=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();break;case"REEMBOLSO_EDUCACAO":a="XXXX";i="REED";r=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break}if(O==="X"){var s="";var l="";var o="";var n="";if(u==="I"){s="I@";l="Não existem dependentes marcados para inclusão"}else{s="E@";l="Não existem dependentes marcados para Exclusão"}var I=E;o=I.split(",");o=o[2];o=o.split("Subty=");o=o[1];while(o.indexOf("'")!==-1){o=o.replace("'","")}if(o<10){o="0"+o}n=I.split(",");n=n[3];n=n.split("Objps=");n=n[1];while(n.indexOf("'")!==-1){n=n.replace("'","")}while(n.indexOf(")")!==-1){n=n.replace(")","")}if(n===""){n="00"}s=s+o+"-"+n}if(t!==""||o!==""){var c=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"U");var A=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,a);var _=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,i);var p=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,r);var V=this.getView().byId("UploadCollection");V.getBinding("items").filter([A,_,c,p])}},onmodelListContextChange:function(e){var t;var a;var i=" ";switch(d){case"FUNSEJEM":t="";a="";break;case"PLANO_MEDICO":t="0167";a="PS01";break;case"PLANO_ODONTOLOGICO":t="0167";a="DENT";break;case"PLANO_DENT_2":t="0167";a="ODNT";break;case"SEGURO_VIDA":t="0037";a="PE05";i=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":t="XXXX";a="TRAN";break;case"VALE_REFEICAO":t="0377";a="VALM";break;case"AUXILIO_CRECHE":t="XXXX";a="CREC";i=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":t="4707";a="";break;case"GREMIO_CLUBE":t="9003";a="";break;case"EMP_CONSIGINADO":t="";a="";break;case"ADELANTO":t="";a="";break;case"ADELANTO_SUELDOS":t="";a="";break;case"ASIGNACION":t="";a="";break;case"ASIGNACION_ESCOLAR":t="";a="";break;case"AGUINALDO_NAVIDENO":t="";a="";break;case"FARMACIA":t="0377";a="FARM";break;case"REEMBOLSO_SUBSIDIO":t="";a="";break;case"ALIMENTACAO":t="0377";a="VALM";break;case"OTICA":t="0377";a="OTIC";break;case"CESTA_BASICA":t="0377";a="CEST";i=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":t="0169";a="PREV";i=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":t="0169";a="PREB";break;case"PREV_PRIV_ESP":t="0169";a="PREE";break;case"PREV_PRIV_NOR":t="0169";a="PREN";break;case"PREV_PRIV_SUP":t="0169";a="PRES";break;case"REEMBOLSO_ESTACIONAM":t="XXXX";a="REES";i=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();break;case"REEMBOLSO_EDUCACAO":t="XXXX";a="REED";i=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break}var r=a;if(A!==""||r!==""){var s=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,A);var l=new sap.ui.model.Filter("Infty",sap.ui.model.FilterOperator.EQ,t);var o=new sap.ui.model.Filter("Subty",sap.ui.model.FilterOperator.EQ,r);var n=new sap.ui.model.Filter("Tipo",sap.ui.model.FilterOperator.EQ,"U");var I=new sap.ui.model.Filter("Valor",sap.ui.model.FilterOperator.EQ,i);var O=this.getView().byId("UploadCollection");O.getBinding("items").filter([s,l,o,n,I])}},onDeleteSelectedItems:function(e){var t=this.getView().byId("UploadCollection");var s=t.oList;var l;var o;var n=" ";switch(d){case"FUNSEJEM":l="";o="";break;case"PLANO_MEDICO":l="0167";o="PS01";break;case"PLANO_ODONTOLOGICO":l="0167";o="DENT";break;case"PLANO_DENT_2":l="0167";o="ODNT";break;case"SEGURO_VIDA":l="0037";o="PE05";n=this.getView().byId("IdOpcoes_SEGURO_DE_VIDA").getSelectedKey();break;case"TRANSPORTE":l="XXXX";o="TRAN";break;case"VALE_REFEICAO":l="0377";o="VALM";break;case"AUXILIO_CRECHE":l="XXXX";o="CREC";n=this.getView().byId("IdPlano_AUXILIO_CRECHE").getSelectedKey();break;case"COOPERATIVA":l="4707";o="";break;case"GREMIO_CLUBE":l="9003";o="";break;case"EMP_CONSIGINADO":l="";o="";break;case"ADELANTO":l="";o="";break;case"ADELANTO_SUELDOS":l="";o="";break;case"ASIGNACION":l="";o="";break;case"ASIGNACION_ESCOLAR":l="";o="";break;case"AGUINALDO_NAVIDENO":l="";o="";break;case"FARMACIA":l="0377";o="FARM";break;case"REEMBOLSO_SUBSIDIO":l="";o="";break;case"ALIMENTACAO":l="0377";o="VALM";break;case"OTICA":l="0377";o="OTIC";break;case"CESTA_BASICA":l="0377";o="CEST";n=this.getView().byId("IdMotivo_CESTA_BASICA").getSelectedKey();break;case"PREVIDENCIA_PRIVADA":l="0169";o="PREV";n=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();break;case"PREV_PRIV_BAS":l="0169";o="PREB";break;case"PREV_PRIV_ESP":l="0169";o="PREE";break;case"PREV_PRIV_NOR":l="0169";o="PREN";break;case"PREV_PRIV_SUP":l="0169";o="PRES";break;case"REEMBOLSO_ESTACIONAM":l="XXXX";o="REES";n=this.getView().byId("IdPlano_REEMBOLSO_ESTACIONAM").getSelectedKey();break;case"REEMBOLSO_EDUCACAO":l="XXXX";o="REED";n=this.getView().byId("IdPlano_REEMBOLSO_EDUCACAO").getSelectedKey();break}var I=this.getView().getModel();var c="0";var b="0";var _=l;var p="0";var V="E";var g=e.getParameters("listItem");var C=g.documentId;C=parseInt(C);var S=this.getView().byId("idTipo").getValue();if(S==="Em ResoluÃ§Ã£o"){sap.m.MessageBox.error("Não será possivel exclusão do anexo, quando o chamado ja existir.");return}var f="";if(u==="I"){f="Não existem dependentes marcados para inclusão"}else{f="Não existem dependentes marcados para Exclusão"}var t=this.getView().byId("UploadCollection");var P="";if(O==="X"){var f="";var N="";var m="";if(u==="I"){P="I@";f="Não existem dependentes marcados para inclusão"}else{P="E@";f="Não existem dependentes marcados para Exclusão"}var v=E;N=v.split(",");N=N[2];N=N.split("Subty=");N=N[1];while(N.indexOf("'")!==-1){N=N.replace("'","")}if(N<10){N="0"+N}m=v.split(",");m=m[3];m=m.split("Objps=");m=m[1];while(m.indexOf("'")!==-1){m=m.replace("'","")}while(m.indexOf(")")!==-1){m=m.replace(")","")}if(m===""){m="00"}P=P+N+"-"+m}var y="/ZET_GLRH_UPLOADSet(Ano='"+c+"',Favor='"+b+"',Infty='"+_+"',Mes='"+p+"',Pernr='"+A+"',Tipo='"+V+"',Subty='"+o+"',DocId="+C+",Objps='',Icnum='',Valor='"+n+"',Dependentes='"+P+"')";var R={};R.DocId=C;R.Valor=n;var D=new a({title:"Confirmação",type:"Message",content:new r({text:"Confirma a exclusão anexo?"}),beginButton:new i({text:"Sim",press:function(){I.update(y,R,{success:function(e,a){sap.m.MessageBox.success("Documentos excluido com sucesso.",{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){t.getBinding("items").refresh(true)}})},error:function(e){var a=e;a=a.responseText;var i=JSON.parse(a);var r=i.error.message.value;sap.m.MessageBox.error(r,{actions:["OK",sap.m.MessageBox.Action.CLOSE],onClose:function(e){t.getBinding("items").refresh(true)}});return}});D.close()}}),endButton:new i({text:"Não",press:function(){D.close()}}),afterClose:function(){D.destroy()}});D.open()},FormatSelectionMode:function(e){return"None"},onAdd:function(){var e="A";var t="0";var a="-";var i="-";var r="DependentesAdd";var s="-";this.getRouter().navTo(r,{Pernr:A,Subty:a,Objps:t,Tipo:e,Favor:i,Icnum:s})},onSegunda:function(){var e=this;var t;c="X";var a=this.getView().byId("table1").getBinding("rows").getLength();if(a>0){t="Deseje solicitar segunda via da carterinha para:";sap.m.MessageBox.show(t,{actions:["Dependente","Titular"],onClose:function(t){if(t==="Dependente"){e.byId("table1").setSelectionMode("MultiToggle");e.byId("IdCancelDetailDep").setVisible(true)}else if(t==="Titular"){e.onSave(c)}}})}else{e.onSave(c)}},onEdit:function(){var e=this.getView();I=true;O="";e.byId("UPLOAD").setVisible(true);switch(d){case"FUNSEJEM":e.byId("IdPlano_FUNSEJEM").setEditable(true);e.byId("IdMargemEmp").setEditable(true);break;case"PLANO_MEDICO":e.byId("IdPlano_PLANO_MEDICO").setEditable(true);e.byId("idCartMedica").setEditable(true);e.byId("IdOpcoes_PLANO_MEDICO").setEditable(true);e.byId("IdIncluir").setVisible(false);break;case"PLANO_ODONTOLOGICO":e.byId("IdPlano_PLANO_ODONTOLOGICO").setEditable(true);e.byId("IdCartDentista").setEditable(true);e.byId("IdOpcoes_PLANO_ODONTOLOGICO").setEditable(true);break;case"PLANO_DENT_2":e.byId("IdPlano_PLANO_DENT_2").setEditable(true);e.byId("IdCartPLANO_DENT_2").setEditable(true);break;case"SEGURO_VIDA":e.byId("IdOpcoes_SEGURO_DE_VIDA").setEditable(true);e.byId("TextPlano").setVisible(true);break;case"TRANSPORTE":e.byId("TextVALE_TRANSPORTE").setVisible(true);e.byId("FormContainer6_VALE_TRANSPORTE").setVisible(true);var t=this.getView().byId("smartTable_VALE_TRANSPORTE");t.rebindTable("e");break;case"VALE_REFEICAO":e.byId("IdPlano_VALE_REFEICAO").setEditable(true);e.byId("IdOpcoes_VALE_REFEICAO").setEditable(true);break;case"AUXILIO_CRECHE":e.byId("IdPlano_AUXILIO_CRECHE").setEditable(true);e.byId("TextAUXILIO_CRECHE").setVisible(true);break;case"COOPERATIVA":e.byId("IdRubrica_COOPERATIVA").setEditable(true);e.byId("IdMontanteCoop").setEditable(true);e.byId("IdValidadeCoop").setEditable(true);e.byId("IdObservacao_COOPERATIVA").setEditable(true);break;case"GREMIO_CLUBE":e.byId("IdPlano_GREMIO_CLUBE").setEditable(true);e.byId("IdObservacao_GREMIO_CLUBE").setEditable(true);break;case"EMP_CONSIGINADO":e.byId("IdPlano_EMPRESTIMO_CONSIGINADO").setEditable(true);e.byId("IdMontante_EMPRESTIMO_CONSIGINADO").setEditable(true);e.byId("IdValidade_EMPRESTIMO_CONSIGINADO").setEditable(true);e.byId("IdObservacao_EMPRESTIMO_CONSIGINADO").setEditable(true);break;case"ADELANTO":e.byId("IdPlano_ADELANTO").setEditable(true);e.byId("IdMontante_ADELANTO").setEditable(true);e.byId("IdValidade_ADELANTO").setEditable(true);e.byId("IdObservacao_ADELANTO").setEditable(true);break;case"ADELANTO_SUELDOS":e.byId("IdPlano_ADELANTO_SUELDOS").setEditable(true);e.byId("IdMontante_ADELANTO_SUELDOS").setEditable(true);e.byId("IdValidade_ADELANTO_SUELDOS").setEditable(true);e.byId("IdObservacao_ADELANTO_SUELDOS").setEditable(true);break;case"ASIGNACION":e.byId("IdPlano_ASIGNACION").setEditable(true);e.byId("IdMontante_ASIGNACION").setEditable(true);e.byId("IdValidade_ASIGNACION").setEditable(true);e.byId("IdObservacao_ASIGNACION").setEditable(true);break;case"ASIGNACION_ESCOLAR":e.byId("IdPlano_ASIGNACION_ESCOLAR").setEditable(true);e.byId("IdMontante_ASIGNACION_ESCOLAR").setEditable(true);e.byId("IdValidade_ASIGNACION_ESCOLAR").setEditable(true);e.byId("IdObservacao_ASIGNACION_ESCOLAR").setEditable(true);break;case"AGUINALDO_NAVIDENO":e.byId("IdPlano_AGUINALDO_NAVIDENO").setEditable(true);e.byId("IdMontante_AGUINALDO_NAVIDENO").setEditable(true);e.byId("IdValidade_AGUINALDO_NAVIDENO").setEditable(true);e.byId("IdObservacao_AGUINALDO_NAVIDENO").setEditable(true);break;case"FARMACIA":e.byId("IdPlano_FARMACIA").setEditable(true);e.byId("IdMotivo_FARMACIA").setEditable(true);break;case"REEMBOLSO_SUBSIDIO":e.byId("IdPlano_ALIMENTACAO").setEditable(true);e.byId("IdMontante_REEMBOLSO_SUBSIDIO").setEditable(true);e.byId("IdValidade_REEMBOLSO_SUBSIDIO").setEditable(true);e.byId("IdObservacao_REEMBOLSO_SUBSIDIO").setEditable(true);break;case"ALIMENTACAO":e.byId("IdPlano_ALIMENTACAO").setEditable(true);e.byId("IdOpcoes_ALIMENTACAO").setEditable(true);e.byId("IdObservacao_ALIMENTACAO").setEditable(true);break;case"OTICA":e.byId("IdPlano_OTICA").setEditable(true);e.byId("IdOpcoes_OTICA").setEditable(true);e.byId("IdObservacao_OTICA").setEditable(true);break;case"CESTA_BASICA":e.byId("IdMotivo_CESTA_BASICA").setEditable(true);e.byId("idTelefone").setEditable(true);e.byId("TextCesta").setVisible(true);break;case"PREVIDENCIA_PRIVADA":e.byId("IdMotivo_PREVIDENCIA_PRIVADA").setEditable(true);e.byId("IdValor1_PREVIDENCIA_PRIVADA1").setEditable(true);e.byId("TextPrevidencia").setVisible(true);break;case"PREV_PRIV_BAS":e.byId("IdPlano_PREV_PRIV_BAS").setEditable(true);break;case"PREV_PRIV_ESP":e.byId("IdPlano_PREV_PRIV_ESP").setEditable(true);break;case"PREV_PRIV_NOR":e.byId("IdPlano_PREV_PRIV_NOR").setEditable(true);break;case"PREV_PRIV_SUP":e.byId("IdPlano_PREV_PRIV_SUP").setEditable(true);break;case"REEMBOLSO_ESTACIONAM":e.byId("IdPlano_REEMBOLSO_ESTACIONAM").setEditable(true);e.byId("TextREEMBOLSO_ESTACIONAM").setVisible(true);break;case"REEMBOLSO_EDUCACAO":e.byId("IdPlano_REEMBOLSO_EDUCACAO").setEditable(true);e.byId("TextREEMBOLSO_EDUCACAO").setVisible(true);break}e.byId("IdEditDetailDep").setVisible(false);e.byId("IdCancelDetailDep").setVisible(true)},formatFalse:function(){return false},onSelected:function(){this.getView().byId("FormContainer7_VALE_TRANSPORTE").setVisible(true)},onbeforeRebindTable_VALE_TRANSPORTE:function(e){var t="TRANSPORTE";if(t!==undefined||t!==""){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IBplan",operator:"EQ",value1:t}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IBeneficio",operator:"EQ",value1:t}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"Chamado",operator:"EQ",value1:_}))}},onbeforeRebindTable:function(e){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPernr",operator:"EQ",value1:A}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPlan",operator:"EQ",value1:"MEDI"}))},onbeforeRebindTable_smartTable_PLANO_ODONTOLOGICO:function(e){e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPlan",operator:"EQ",value1:"DENT"}));e.getParameter("bindingParams").filters.push(new sap.ui.model.Filter({path:"IPernr",operator:"EQ",value1:A}))},OnEditDep:function(){var e=this.getView().byId("table");var t=e.getSelectedItems();var a;var i;var r=t.length;var s;var l="V";var o;var n;var d="DepententeDetail";if(r>1){sap.m.MessageBox.error("Por favor, selecione apenas um dependente para edição.");return}a=t[0].getBindingContextPath();i=a.split(",");s=i[2];s=s.split("=");s=s[1];while(s.indexOf("'")!==-1){s=s.replace("'","")}o=i[3];o=o.split("=");o=o[1];this.getRouter().navTo(d,{Pernr:A,Subty:s,Objps:o,Tipo:l,Favor:n})},formatSelect:function(e){if(e==="X"){return true}else{return false}},onChangeMotivoPrev:function(){var e=this.getView().byId("IdMotivo_PREVIDENCIA_PRIVADA").getSelectedKey();var t=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA1");var a=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA");var i;switch(e){case"AB":i="Informe para alteração de beneficiários";t.setVisible(true);a.setVisible(false);break;case"AD":i="Informe valor da Adesão.";t.setVisible(true);a.setVisible(false);break;case"CA":i="Informe o valor da contribuição adicional.";t.setVisible(false);a.setVisible(true);break;case"CB":i="Informe o valor da contribuição básica.";t.setVisible(true);a.setVisible(false);break;case"MI":i="Informe o valor para alterar modalidade de investimento.";t.setVisible(true);a.setVisible(false);break}if(e==="CA"){this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(false);this.getView().byId("FormContainer5_PREVIDENCIA_PRIVADA").setVisible(true)}else if(e==="AB"){this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(false)}else{this.getView().byId("FormContainer4_PREVIDENCIA_PRIVADA").setVisible(true);this.getView().byId("FormContainer5_PREVIDENCIA_PRIVADA").setVisible(false);var r=this.getView().byId("IdValor1_PREVIDENCIA_PRIVADA1").getBinding("items");var s=new sap.ui.model.Filter("IOpcao",sap.ui.model.FilterOperator.EQ,e);r.filter([s])}t.setPlaceholder(i);a.setPlaceholder(i)},onCancelBeneficio:function(){sap.m.MessageBox.error("Anexe o formulario para continuar.");b="C";this.getView().byId("UPLOAD").setVisible(true);this.getView().byId("IdCancelDetailDep").setVisible(true)},formatUploadCollectionLabel:function(e){if(e==="ADELANTO"||e==="ADELANTO_SUELDOS"||e==="ASIGNACION"||e==="PASAJE_UNIVERSITARIO"||e==="ASIGNACION_ESCOLAR"||e==="AGUINALDO_NAVIDENO"||e==="EMP_CONSIGNADO"||e==="ESTAC_MOVBUS"||e==="SEGURO_DE_VIDA"){return null}else{return"Para agregar / cambiar archivos adjuntos, seleccione el botón (+)"}}})});