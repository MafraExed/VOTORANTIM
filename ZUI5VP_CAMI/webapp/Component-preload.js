sap.ui.require.preload({"FibriaStatusViagem/Component.js":'sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","FibriaStatusViagem/model/models"],function(e,i,t){"use strict";return e.extend("FibriaStatusViagem.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments),this.setModel(t.createDeviceModel(),"device")}})});',"FibriaStatusViagem/controller/App.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","FibriaStatusViagem/webServices/conections","FibriaStatusViagem/controller/DialogLastTrip.controller"],function(e,t,i){"use strict";return e.extend("FibriaStatusViagem.controller.App",{stagesList:[],currentTruck:[],currentStage:{},currentExtraStage:{},currentDriver:{},currentStageStart:0,generalStart:0,currentStageDuration:0,generalDuration:0,NF:0,getNFInterval:"",passedStages:[],passedExtraStages:[],connectionStatus:0,tripInfo:{Oc:"",ItemOc:"",Viagem:""},geoLocationSave:null,busy:!1,multipleDestinations:!1,interruptedStage:"",exibirPopUPNF:!0,_onPageNavButtonPress:function(e){this.currentStage={},this.currentStageStart=0,this.generalStart=0;var t=new sap.ui.model.json.JSONModel;t.setData(0),this.byId("stageDuration").setVisible(!1),this.byId("generalDuration").setVisible(!1),this.getView().setModel(t,"currentStageDuration"),this.getView().setModel(t,"generalDuration"),this.NF=0,clearInterval(this.getNFInterval),this.byId("tripNF").setText("Não Gerada"),this.checkSyncForChange()&&(this.multipleDestinations?this.openDialog("OriginDestinationDialog"):this.openDialog("SelectTruckPopover"))},checkSyncForChange:function(){return!this.passedStages.length||(sap.m.MessageToast.show("Aguarde a sincronização para trocar de composição",{duration:3e3}),setTimeout(function(){sap.ui.getCore().getModel("app").callNav()},3e3),!1)},callNav:function(){this._onPageNavButtonPress()},_onNextStageButtonPress:function(e){sap.ui.core.BusyIndicator.show(),this.byId("nextStageButton").setEnabled(!1),setTimeout(function(){sap.ui.getCore().getModel("app").navToNextStage()},1500)},_onUnscheduledStageButtonPress:function(e){var t={Centro:this.currentTruck.Centro,Truck:this.currentTruck,CurrentStage:this.currentStage,currentDriver:this.currentDriver};this.openDialog("DialogUnscheduledStage",t,"getUnscheduledStages")},_onDonutChartSelectValue:function(e){},_onProfileButtonPress:function(e){var t={Nome:this.currentDriver.Nome,Cpf:this.currentDriver.Cpf,Cnh:this.currentDriver.Cnh,Composicao:this.currentTruck.Composicao,Cavalo:this.currentTruck.PlcCavalo,Carreta1:this.currentTruck.PlcCarro1,Carreta2:this.currentTruck.PlcCarro2};this.openPopover("DriverProfilePopover",e,t,"setDriverInfo")},formatHours:function(e){return e.length?e.substring(0,2)+":"+e.substring(2,4):"Não Finalizada"},addZero:function(e){return e<10&&(e="0"+e),e},timeConversion:function(e){parseInt(e%1e3/100,10);var t=parseInt(e/1e3%60,10),i=parseInt(e/6e4%60,10),o=parseInt(e/36e5,10);return(o=o<10?"0"+o:o)+":"+(i=i<10?"0"+i:i)+":"+(t=t<10?"0"+t:t)},countStageTimer:function(){var e=Math.abs(new Date-this.currentStageStart),t=this.timeConversion(e);this.currentStageDuration=t;var i=new sap.ui.model.json.JSONModel;i.setData(this.currentStageDuration),this.getView().setModel(i,"currentStageDuration")},countGeneralTimer:function(){var e=Math.abs(new Date-this.generalStart),t=this.timeConversion(e);this.generalDuration=t;var i=new sap.ui.model.json.JSONModel;i.setData(this.generalDuration),this.getView().setModel(i,"generalDuration")},startTimer:function(e,t,i,o){this.byId("stageDuration").setVisible(!0),this.byId("generalDuration").setVisible(!0),e=e.substring(0,2)+":"+e.substring(2,4)+":"+e.substring(4,6);var a=t.substring(0,4)+"/"+t.substring(4,6)+"/"+t.substring(6,8);if(a=new Date(a+" "+e),this.currentStageStart=a,!this.generalStart)if(i){e=o.substring(0,2)+":"+o.substring(2,4)+":"+o.substring(4,6);var r=i.substring(0,4)+"/"+i.substring(4,6)+"/"+i.substring(6,8);r=new Date(r+" "+e),this.generalStart=r}else this.generalStart=a;setInterval(function(){sap.ui.getCore().getModel("app").countStageTimer(),sap.ui.getCore().getModel("app").countGeneralTimer()},1e3)},setChart:function(){},setNF:function(e){this.NF=e.NotaFiscal,this.byId("tripNF").setText(this.NF),this.openDialog("DialogNF",this.NF,"setNFOnDialog"),clearInterval(this.getNFInterval),this.exibirPopUPNF=!1},getNF:function(){if(this.tripInfo.Viagem&&this.tripInfo.Oc&&this.tripInfo.ItemOc&&this.exibirPopUPNF){var e="/ZET_VPWM_STATUS_NFSET(Viagem=\'"+this.tripInfo.Viagem+"\',Oc=\'"+this.tripInfo.Oc+"\',ItemOc=\'"+this.tripInfo.ItemOc+"\')";t.consumeModel(e,function(e,t){sap.ui.getCore().getModel("app").setNF(e)},function(e){},"",[])}},checkNF:function(){this.NF||(this.getNFInterval=setInterval(function(){sap.ui.getCore().getModel("app").getNF()},3e4))},handleStagePass:function(e){e.Ofline||this.passedStages.shift();var t={Etapa:"",DescricaoEtapa:"",DescAcao1:"",DescAcao2:"",HoraInicio:"",HoraFim:"",HoraInicioBack:"",DataInicioBack:"",HoraFimBack:"",DataFimBack:"",Oc:"",ItemOc:"",Viagem:""};sap.ui.core.BusyIndicator.hide(),this.byId("nextStageButton").setEnabled(!0);for(var i=0;i<this.stagesList.length;i++)this.stagesList[i].Etapa.trim()===e.Etapa.trim()&&(this.stagesList[i].EtapaInicial&&(this.currentStageStart&&this.openDialog("DialogLastTrip"),this.tripInfo={},this.currentStage={},this.currentStageStart=0,this.generalStart=0,this.NF=0,clearInterval(this.getNFInterval),this.byId("tripNF").setText("Não Gerada")),this.stagesList[i].CicloNotaFiscal&&(this.checkNF(),this.exibirPopUPNF=!0),t.Etapa=e.Etapa,t.HoraInicio=e.HoraInicio,t.DataInicioBack=e.DataInicio,t.HoraInicioBack=e.HoraInicio,t.DataFimBack=e.DataFim,t.HoraFimBack=e.HoraFim,t.HoraFim=e.HoraFim,t.Oc=e.Oc,t.ItemOc=e.ItemOc,t.Viagem=e.Viagem,t.DescricaoEtapa=this.stagesList[i].DescricaoEtapa,t.DescAcao1=this.stagesList[i].DescAcao1,t.DescAcao2=this.stagesList[i].DescAcao2);t.HoraInicio=this.formatHours(t.HoraInicio),t.HoraFim=this.formatHours(t.HoraFim),this.startTimer(t.HoraInicioBack,t.DataInicioBack,t.DataFimBack,t.HoraFimBack),this.currentStage=t;var o=new sap.ui.model.json.JSONModel;o.setData(this.currentStage),this.getView().setModel(o,"currentStage"),this.setChart()},checkStageMode:function(e){for(var t=0,i=0;i<this.stagesList.length;i++)this.stagesList[i].Etapa.trim()===e.Etapa.trim()&&t++;t?this.handleStagePass(e):(this.getInterruptedStage(),this.getExtraStageList(e))},getInterruptedStage:function(){var e="/ZET_VPWM_ETAPA_COMPOSICAOSET(CentroOrigem=\'"+sap.ui.getCore().getModel("SelectedDestination").CentroOrigem+"\',CentroDestino=\'"+sap.ui.getCore().getModel("SelectedDestination").CentroDestino+"\',DepositoDestino=\'"+sap.ui.getCore().getModel("SelectedDestination").Deposito+"\',Composicao=\'"+this.currentTruck.Composicao+"\',Tipo=\'C\')";t.consumeModel(e,function(e,t){sap.ui.getCore().getModel("app").saveInterruptedStage(e)},function(e){sap.m.MessageToast.show("Não foi possível inicializar o aplicativo, conecte-se a internet",{duration:3e3})},"",[])},saveInterruptedStage:function(e){this.interruptedStage=e},setInterruptedStage:function(){this.handleStagePass(this.interruptedStage)},getExtraStageList:function(e){this.currentExtraStage=e;var i=[],o=new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem});i.push(o),o=new sap.ui.model.Filter({path:"Tipo",operator:sap.ui.model.FilterOperator.EQ,value1:"E"}),i.push(o),o=new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").CentroDestino}),i.push(o),o=new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").Deposito}),i.push(o),t.consumeModel("/ZET_VPWM_ETAPAS_TRPSET",function(e,t){sap.ui.getCore().getModel("app").handleExtraStage(e.results)},function(e){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",i)},handleExtraStage:function(e){for(var t,i=0;i<e.length;i++)e[i].Etapa.trim()===this.currentExtraStage.Etapa.trim()&&(t=e[i].DescricaoEtapa);e={stageInfo:this.currentExtraStage,stageText:t,stageDescription:"teste"},this.openDialog("DialogFrozenTrip",e,"setUnscheduledStage")},setBusyComposition:function(e){sap.m.MessageToast.show(e,{duration:3e3}),this.openDialog("OriginDestinationDialog")},checkTripStage:function(){var e="/ZET_VPWM_ETAPA_COMPOSICAOSET(CentroOrigem=\'"+sap.ui.getCore().getModel("SelectedDestination").CentroOrigem+"\',CentroDestino=\'"+sap.ui.getCore().getModel("SelectedDestination").CentroDestino+"\',DepositoDestino=\'"+sap.ui.getCore().getModel("SelectedDestination").Deposito+"\',Composicao=\'"+this.currentTruck.Composicao+"\',Tipo=\'\')";t.consumeModel(e,function(e,t){sap.ui.getCore().getModel("app").checkStageMode(e)},function(e){"1/008"===JSON.parse(e.responseText).error.code?sap.ui.getCore().getModel("app").setBusyComposition(JSON.parse(e.responseText).error.message.value.split("8")[1]):sap.ui.getCore().getModel("app").navToNextStage()},"",[])},navToNextStage:function(){var e,i;if(this.currentStageStart)e=this.currentStage.HoraInicioBack,i=this.currentStage.DataInicioBack;else{var o=new Date;e=this.addZero(o.getHours()).toString()+""+this.addZero(o.getMinutes()).toString()+this.addZero(o.getSeconds()).toString(),i=this.addZero(o.getFullYear()).toString()+this.addZero(o.getMonth()+1).toString()+this.addZero(o.getDate()).toString()}var a=new Date;""===e&&(e=this.addZero(a.getHours()).toString()+""+this.addZero(a.getMinutes()).toString()+this.addZero(a.getSeconds()).toString()),""===i&&(i=this.addZero(a.getFullYear()).toString()+this.addZero(a.getMonth()+1).toString()+this.addZero(a.getDate()).toString());var r={CentroOrigem:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Deposito,Etapa:"",Composicao:this.currentTruck.Composicao,DataInicio:i,HoraInicio:e,DataFim:this.addZero(a.getFullYear()).toString()+this.addZero(a.getMonth()+1).toString()+this.addZero(a.getDate()).toString(),HoraFim:this.addZero(a.getHours()).toString()+""+this.addZero(a.getMinutes()).toString()+this.addZero(a.getSeconds()).toString(),Viagem:this.tripInfo.Viagem,Oc:this.tripInfo.Oc,ItemOc:this.tripInfo.ItemOc,Usuario:this.currentDriver.Usuario};this.currentStage.Etapa?(r.Etapa=this.currentStage.Etapa,this.passedStages.push(r),this.handleUnpassedStage(r.DataFim,r.HoraFim)):t.createModel("/ZET_VPWM_REGI_ETAPASET",r,function(e,t){sap.ui.getCore().getModel("app").handleStagePass(e)},function(e){sap.ui.core.BusyIndicator.hide(),sap.m.MessageToast.show("Não foi possível inicializar o aplicativo, conecte-se a internet",{duration:3e3})})},handleUnpassedStage:function(e,t){this.connectionStatus=0,this.byId("nextStageButton").setEnabled(!0);for(var i=0;i<this.stagesList.length;i++)if(this.currentStage.Etapa.trim()===this.stagesList[i].Etapa.trim()){var o={CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,CentroOrigem:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,Composicao:this.currentTruck.Composicao,DataFim:"",DataInicio:e,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Deposito,Etapa:this.stagesList[i].ProximaEtapa,FimCiclo:"",HoraFim:"",HoraInicio:t,Oc:this.currentStage.Oc,ItemOc:this.currentStage.ItemOc,Usuario:this.currentDriver.Usuario,Viagem:this.currentStage.Viagem,Ofline:!0};"0"===this.stagesList[i].ProximaEtapa.trim()&&(o.Etapa=this.stagesList[0].Etapa)}var a={CentroOrigem:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Deposito,Etapa:o.Etapa,Composicao:o.Composicao,DataInicio:o.DataInicio,HoraInicio:o.HoraInicio,DataFim:"",HoraFim:"",Viagem:o.Viagem,Oc:o.Oc,ItemOc:o.ItemOc,Usuario:o.Usuario};this.passedStages.push(a),this.handleStagePass(o)},openDialog:function(e,t,i){var o=e;this.mDialogs=this.mDialogs||{};var a,r=this.mDialogs[o];(r||this.getOwnerComponent().runAsOwner(function(){a=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+o}),this.getView().addDependent(a),a.getController().setRouter(this.oRouter),r=a.getContent()[0],this.mDialogs[o]=r,"DialogLastTrip"===o&&(this.lastTripDialog=r)}.bind(this)),t)&&sap.ui.getCore().getEventBus().publish(e,i,t);return new Promise(function(e){r.attachEventOnce("afterOpen",null,e),r.addAriaDescribedBy({escapeHandler:function(e){e.reject()}}),r.open(),a?r.attachAfterOpen(function(){r.rerender()}):a=r.getParent();var t=this.getView().getModel();t&&a.setModel(t)}.bind(this)).catch(function(e){})},openPopover:function(e,t,i,o){this.mPopovers=this.mPopovers||{};var a,r=this.mPopovers[e],s=t.getSource(),n=s.getBindingContext(),c=n?n.getPath():null;(r||this.getOwnerComponent().runAsOwner(function(){a=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+e}),this.getView().addDependent(a),a.getController().setRouter(this.oRouter),(r=a.getContent()[0]).setPlacement("Auto"),this.mPopovers[e]=r}.bind(this)),i)&&sap.ui.getCore().getEventBus().publish(e,o,i);return new Promise(function(e){r.attachEventOnce("afterOpen",null,e),r.openBy(s),a?r.attachAfterOpen(function(){r.rerender()}):a=r.getParent();var t=this.getView().getModel();if(t&&a.setModel(t),c){var i=a.getController().getBindingParameters();a.bindObject({path:c,parameters:i})}}.bind(this)).catch(function(e){})},getDriverData:function(){t.consumeModel("/ZET_VPWM_MOTORISTASET(Centro=\'\',Codigo=\'\')",function(e,t){sap.ui.getCore().getModel("app").setDriverInfo(e)},function(e){sap.ui.getCore().getModel("app").handleUnauthorizedAccess()},"",[])},setDriverInfo:function(e){this.currentDriver=e;var t=new sap.ui.model.json.JSONModel;t.setData(this.currentDriver),this.getView().setModel(t,"currentDriver")},handleUnauthorizedAccess:function(){sap.ui.getCore().getModel("dialogSelectTrip").handleUnauthorizedAccess()},setTripModel:function(e){this.connectionStatus=1;for(var t=100/e.length,i=0;i<e.length;i++)e[i].Porcentagem=t;this.stagesList=e;var o=new sap.ui.model.json.JSONModel;o.setData(this.stagesList),this.getView().setModel(o,"stagesList"),this.checkTripStage()},TripSelected:function(e,i,o){this.currentTruck=o;var a=new sap.ui.model.json.JSONModel;a.setData(this.currentTruck.Composicao),this.getView().setModel(a,"changeTruck");var r=[],s=new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:o.Centro});r.push(s),s=new sap.ui.model.Filter({path:"Tipo",operator:sap.ui.model.FilterOperator.EQ,value1:"C"}),r.push(s),s=new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").CentroDestino}),r.push(s),s=new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").Deposito}),r.push(s),t.consumeModel("/ZET_VPWM_ETAPAS_TRPSET",function(e,t){sap.ui.getCore().getModel("app").setTripModel(e.results)},function(e){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",r)},ReturnRegularTrip:function(e,i,o){if(this.passedExtraStages=o,!this.currentStageDuration){var a=this.passedExtraStages[0];t.createModel("/ZET_VPWM_EXTRA_REGI_ETAPASET",a,function(e,t){sap.ui.getCore().getModel("app").setInterruptedStage()},function(e){sap.ui.core.BusyIndicator.hide(),sap.m.MessageToast.show("Por favor reinicializa o app, conexão necessária",{duration:3e3})})}},onDeleteCurrentTrip:function(){if(this.passedStages.length)sap.ui.core.BusyIndicator.show(),sap.m.MessageToast.show("Aguarde a sincronização para encerrar o aplicativo",{duration:3e3}),setTimeout(function(){sap.ui.getCore().getModel("app").retryTripDelete()},3e3);else{var e={Etapa:this.currentStage.Etapa.trim(),DataInicio:this.currentStage.DataInicioBack,HoraInicio:this.currentStage.HoraInicioBack,Centro:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,Composicao:this.currentTruck.Composicao,CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Deposito},i="/ZET_VPWM_REGI_ETAPASET(CentroOrigem=\'"+e.Centro+"\',CentroDestino=\'"+e.CentroDestino+"\',DepositoDestino=\'"+e.DepositoDestino+"\',Etapa=\'"+e.Etapa+"\',Composicao=\'"+e.Composicao+"\',DataInicio=\'"+e.DataInicio+"\',HoraInicio=\'"+e.HoraInicio+"\')";t.deleteModel(i,"urlParams",function(e,t){sap.ui.core.BusyIndicator.hide(),sap.ui.getCore().getModel("app").callNav()},function(e){sap.ui.getCore().getModel("app").openDialog("DialogLastTrip")})}},retryTripDelete:function(){this.onDeleteCurrentTrip()},sendStagePassed:function(){var e=this.passedStages[0];t.createModel("/ZET_VPWM_REGI_ETAPASET",e,function(e,t){sap.ui.getCore().getModel("app").handleStageSync(e)},function(e){sap.ui.core.BusyIndicator.hide(),sap.ui.getCore().getModel("app").checkSyncTimer()})},checkSyncTimer:function(){setTimeout(function(){sap.ui.getCore().getModel("app").checkSync()},3e4)},handleStageSync:function(e){1==this.passedStages.length&&(this.currentStage.HoraInicioBack=e.HoraInicio,this.currentStage.DataInicioBack=e.DataInicio),e.Viagem&&!this.tripInfo.Viagem&&(this.currentStage.Viagem=e.Viagem,this.currentStage.Oc=e.Oc,this.currentStage.ItemOc=e.ItemOc,this.tripInfo.Viagem=e.Viagem,this.tripInfo.Oc=e.Oc,this.tripInfo.ItemOc=e.ItemOc),this.passedStages.shift(),setTimeout(function(){sap.ui.getCore().getModel("app").checkSync()},5e3)},checkSync:function(){this.passedStages.length?this.sendStagePassed():setTimeout(function(){sap.ui.getCore().getModel("app").checkSync()},3e4)},onExit:function(){clearInterval(window.timerLocalizacao),sap.ui.core.BusyIndicator.show(),this.checkExitSync()&&sap.ui.core.BusyIndicator.hide(),this.currentStage={},this.currentStageStart=0,this.generalStart=0,this.NF=0,clearInterval(this.getNFInterval),this.byId("tripNF").setText("Não Gerada")},checkExitSync:function(){return!this.passedStages.length||(sap.m.MessageToast.show("Aguarde a sincronização",{duration:3e3}),setTimeout(function(){sap.ui.getCore().getModel("app").unSyncExit()},3e3),!1)},unSyncExit:function(){this.onExit()},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.sendLocation,this.sendLocation,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):this.sendLocation(this.geoLocationSave)},createLocationObject:function(e,t){if(this.currentTruck.Composicao){var i=new Date;return{Usuario:this.currentDriver.Usuario,Composicao:this.currentTruck.Composicao,Data:this.addZero(i.getFullYear()).toString()+this.addZero(i.getMonth()+1).toString()+this.addZero(i.getDate()).toString(),Hora:this.addZero(i.getHours()).toString()+""+this.addZero(i.getMinutes()).toString()+this.addZero(i.getSeconds()).toString(),Latitude:e.coords.latitude.toString(),Longitude:e.coords.longitude.toString(),CentroOrigem:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Deposito,Etapa:this.currentStage.Etapa,Material:"",Status:t,Viagem:this.currentStage.Viagem,Oc:this.currentStage.Oc}}return!1},getLocationSave:function(){return this.geoLocationSave},setLocationSave:function(e){this.geoLocationSave=e},sendLocation:function(e){var i="S";if(null!=e){void 0==e.code?sap.ui.getCore().getModel("app").setLocationSave(e):i="E";var o=!0;if(null==sap.ui.getCore().getModel("app").getLocationSave()){o=sap.ui.getCore().getModel("app").createLocationObject({coords:{latitude:0,longitude:0}},i)}else o=sap.ui.getCore().getModel("app").createLocationObject(sap.ui.getCore().getModel("app").getLocationSave(),i);o&&t.createModel("/ZET_VPWM_VIAGENSSET",o,function(e,t){sap.ui.getCore().getModel("app").geoError()},function(e){})}},geoError:function(e){},setCenterModel:function(e){for(var t=[],i=[],o=0;o<e.length;o++){var a={Centro:"",Descricao:""};a.Centro=e[o].Centro,a.Descricao=e[o].Descricao,i.push(a);for(var r=0;r<e[o].CentroMotoristaToDestinoNav.results.length;r++)t.push(e[o].CentroMotoristaToDestinoNav.results[r])}if(t.length-1){this.multipleDestinations=!0;e={centers:i,destinations:t};this.openDialog("OriginDestinationDialog",e,"onSetModel")}else sap.ui.getCore().setModel(t[0],"SelectedDestination"),this.openDialog("SelectTruckPopover",1,"selectTruck")},getCenterData:function(){t.consumeModel("/ZET_VPWM_CENTRO_MOTORISTASet",function(e,t){sap.ui.getCore().getModel("app").setCenterModel(e.results)},function(e){},{$expand:"CentroMotoristaToDestinoNav"},[])},onInit:function(){sap.ui.getCore().setModel(this,"app");var e=sap.ui.getCore().getEventBus();e.subscribe("App","TripSelected",this.TripSelected,this),e.subscribe("DialogLastTrip","deleteTrip",this.onDeleteCurrentTrip,this),e.subscribe("DialogFrozenTrip","ReturnRegularTrip",this.ReturnRegularTrip,this),this.getDriverData(),this.checkSync()},onIniciaTimer:function(){var e=this,t=0;window.timerLocalizacao=setInterval(function(){!function(){120==t&&(e.getLocation(),t=0);t++}()},1e3)},onAfterRendering:function(){clearInterval(window.timerLocalizacao),this.onIniciaTimer(),this.getCenterData(),this.openDialog("DialogLastTrip",!0,"DialogClose"),this.lastTripDialog.close()}})});',"FibriaStatusViagem/controller/DialogCompositionFilters.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(e,t,o,a,i){"use strict";return e.extend("FibriaStatusViagem.controller.DialogCompositionFilters",{centro:"3070",composition:[],truck:[],carreta1:[],carreta2:[],setRouter:function(e){this.oRouter=e},_onCloseDialogButtonPress:function(e){this.closeDialog()},_onConfirmCodeButtonPress:function(e){var t={centerValue:this.byId("centerInput").getValue(),compositionValue:this.byId("compositionInput").getValue(),truckValue:this.byId("truckInput").getValue(),carreta1Value:this.byId("carreta1Input").getValue(),carreta2Value:this.byId("carreta2Input").getValue()};this.handleCloseDialog(t),this.closeDialog()},_onInputValueHelpRequest:function(e){var t,o=e.getSource().getParent().getLabel().getText(),a=e.getSource().getId();switch(o){case"Centro (Obrigatório)":t={title:"Centro",values:this.centro,inputId:a},this.openDialog("DialogValueHelp",t,"loadData");break;case"Código da Composição":t={title:"Composição",values:this.composition,inputId:a},this.openDialog("DialogValueHelp",t,"loadData");break;case"Placa do Cavalo":t={title:"Cavalo",values:this.truck,inputId:a},this.openDialog("DialogValueHelp",t,"loadData");break;case"Placa da Carreta 1":t={title:"Carreta 1",values:this.carreta1,inputId:a},this.openDialog("DialogValueHelp",t,"loadData");break;case"Placa da Carreta 2":t={title:"Carreta 2",values:this.carreta2,inputId:a},this.openDialog("DialogValueHelp",t,"loadData")}},openPopover:function(e,o,a,i){this.mPopovers=this.mPopovers||{};var r,s=this.mPopovers[e],n=o.getSource(),l=n.getBindingContext(),u=l?l.getPath():null;(s||this.getOwnerComponent().runAsOwner(function(){r=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+e}),this.getView().addDependent(r),r.getController().setRouter(this.oRouter),(s=r.getContent()[0]).setPlacement("Auto"),this.mPopovers[e]=s}.bind(this)),a)&&sap.ui.getCore().getEventBus().publish(e,i,a);return new Promise(function(e){s.attachEventOnce("afterOpen",null,e),s.openBy(n),r?s.attachAfterOpen(function(){s.rerender()}):r=s.getParent();var t=this.getView().getModel();if(t&&r.setModel(t),u){var o=r.getController().getBindingParameters();r.bindObject({path:u,parameters:o})}}.bind(this)).catch(function(e){void 0!==e&&t.error(e.message)})},openDialog:function(e,o,a){var i=e;this.mDialogs=this.mDialogs||{};var r,s=this.mDialogs[i];(s||this.getOwnerComponent().runAsOwner(function(){r=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+i}),this.getView().addDependent(r),r.getController().setRouter(this.oRouter),s=r.getContent()[0],this.mDialogs[i]=s}.bind(this)),o)&&sap.ui.getCore().getEventBus().publish(e,a,o);return new Promise(function(e){s.attachEventOnce("afterOpen",null,e),s.open(),r?s.attachAfterOpen(function(){s.rerender()}):r=s.getParent();var t=this.getView().getModel();t&&r.setModel(t)}.bind(this)).catch(function(e){void 0!==e&&t.error(e.message)})},getCentroList:function(){},getCompositionList:function(){var e=[],t=new sap.ui.model.Filter({path:"Centro",operator:sap.ui.model.FilterOperator.EQ,value1:this.centro});e.push(t),i.consumeModel("/ZET_VPWM_COMPOSICAOSET",function(e,t){sap.ui.getCore().getModel("compositionFilters").setCompositionModel(e.results)},function(e){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",e)},setCompositionModel:function(e){for(var t=0;t<e.length;t++)e[t].value=e[t].Composicao;this.composition=e;var o=new sap.ui.model.json.JSONModel;o.setData(this.composition),this.getView().setModel(o,"composition")},getTruckList:function(){var e=[],t=new sap.ui.model.Filter({path:"Centro",operator:sap.ui.model.FilterOperator.EQ,value1:this.centro});e.push(t),t=new sap.ui.model.Filter({path:"PlcCarro1",operator:sap.ui.model.FilterOperator.Contains,value1:this.byId("carreta1Input").getValue()}),e.push(t),t=new sap.ui.model.Filter({path:"PlcCarro2",operator:sap.ui.model.FilterOperator.Contains,value1:this.byId("carreta2Input").getValue()}),e.push(t),i.consumeModel("/ZET_VPWM_PLACA_CAVALOSET",function(e,t){sap.ui.getCore().getModel("compositionFilters").setTruckModel(e.results)},function(e){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",e)},setTruckModel:function(e){for(var t=0;t<e.length;t++)e[t].value=e[t].PlcCavalo;this.truck=e;var o=new sap.ui.model.json.JSONModel;o.setData(this.truck),this.getView().setModel(o,"truck")},getCarreta1List:function(){var e=[],t=new sap.ui.model.Filter({path:"Centro",operator:sap.ui.model.FilterOperator.EQ,value1:this.centro});e.push(t),t=new sap.ui.model.Filter({path:"PlcCavalo",operator:sap.ui.model.FilterOperator.Contains,value1:this.byId("truckInput").getValue()}),e.push(t),t=new sap.ui.model.Filter({path:"PlcCarro2",operator:sap.ui.model.FilterOperator.Contains,value1:this.byId("carreta2Input").getValue()}),e.push(t),i.consumeModel("/ZET_VPWM_PLACA_CARRETA1SET",function(e,t){sap.ui.getCore().getModel("compositionFilters").setCarreta1Model(e.results)},function(e){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",e)},setCarreta1Model:function(e){for(var t=0;t<e.length;t++)e[t].value=e[t].PlcCarro1;this.carreta1=e;var o=new sap.ui.model.json.JSONModel;o.setData(this.carreta1),this.getView().setModel(o,"carreta1")},getCarreta2List:function(){var e=[],t=new sap.ui.model.Filter({path:"Centro",operator:sap.ui.model.FilterOperator.EQ,value1:this.centro});e.push(t),t=new sap.ui.model.Filter({path:"PlcCavalo",operator:sap.ui.model.FilterOperator.Contains,value1:this.byId("truckInput").getValue()}),e.push(t),t=new sap.ui.model.Filter({path:"PlcCarro1",operator:sap.ui.model.FilterOperator.Contains,value1:this.byId("carreta1Input").getValue()}),e.push(t),i.consumeModel("/ZET_VPWM_PLACA_CARRETA2SET",function(e,t){sap.ui.getCore().getModel("compositionFilters").setCarreta2Model(e.results)},function(e){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",e)},setCarreta2Model:function(e){for(var t=0;t<e.length;t++)e[t].value=e[t].PlcCarro2;this.carreta2=e;var o=new sap.ui.model.json.JSONModel;o.setData(this.carreta2),this.getView().setModel(o,"carreta2")},initModels:function(){this.getCentroList(),this.getCompositionList(),this.getTruckList(),this.getCarreta1List(),this.getCarreta2List()},handleCloseDialog:function(e){sap.ui.getCore().getEventBus().publish("DialogCompositionFilters","FiltersSet",e)},closeDialog:function(){this.getView().getContent()[0].close()},setInputValue:function(e,t,o){this.byId(o.inputId).setValue(o.selectedValue),this.initModels()},onInit:function(){sap.ui.getCore().getEventBus().subscribe("DialogValueHelp","ValueSelected",this.setInputValue,this),sap.ui.getCore().setModel(this,"compositionFilters"),this._oDialog=this.getView().getContent()[0],this.initModels()},onExit:function(){this._oDialog.destroy()}})},!0);',
"FibriaStatusViagem/controller/DialogFrozenTrip.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(t,e,i,s,n){"use strict";return t.extend("FibriaStatusViagem.controller.DialogFrozenTrip",{currentStage:{},currentStageStart:"",currentStageDuration:0,passItems:[],busy:!1,setRouter:function(t){this.oRouter=t},addZero:function(t){return t<10&&(t="0"+t),t},_onContinueTripButtonPress:function(){var t,e;t=this.currentStage.stageInfo.HoraInicio,e=this.currentStage.stageInfo.DataInicio;var i=new Date,s={CentroOrigem:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Deposito,Etapa:this.currentStage.stageInfo.Etapa.trim(),Composicao:this.currentStage.stageInfo.Composicao,DataInicio:e,HoraInicio:t,DataFim:this.addZero(i.getFullYear()).toString()+this.addZero(i.getMonth()+1).toString()+this.addZero(i.getDate()).toString(),HoraFim:this.addZero(i.getHours()).toString()+""+this.addZero(i.getMinutes()).toString()+this.addZero(i.getSeconds()).toString(),Viagem:this.currentStage.stageInfo.Viagem,Oc:this.currentStage.stageInfo.Oc,ItemOc:this.currentStage.stageInfo.ItemOc,Usuario:""};this.passItems.push(s),this.checkExtraSync(),this.handleStagePass()},_onCloseDialogButtonPress:function(){this.closeDialog()},handleStagePass:function(t){var e;e=this.currentStage.toSendStage?this.currentStage.toSendStage:this.passItems,sap.ui.getCore().getEventBus().publish("DialogFrozenTrip","ReturnRegularTrip",e),this.closeDialog()},handleFrozenStage:function(){this.currentStage.stageInfo.stageText=this.currentStage.stageText,this.currentStage.stageInfo.stageDescription=this.currentStage.stageDescription,this.currentStage.stageInfo.formatedHours=this.formatHours(this.currentStage.stageInfo.HoraInicio),this.currentStage.stageInfo.formatedEndHours=this.formatHours(this.currentStage.stageInfo.HoraFim.trim()),this.startTimer(this.currentStage.stageInfo.HoraInicio,this.currentStage.stageInfo.DataInicio);var t=new sap.ui.model.json.JSONModel;t.setData(this.currentStage.stageInfo),this.getView().setModel(t,"frozenState"),this.checkExtraSync()},formatHours:function(t){return"00000"!==t?t.substring(0,2)+":"+t.substring(2,4):"Não Finalizada"},startTimer:function(t,e){t=t.substring(0,2)+":"+t.substring(2,4)+":"+t.substring(4,6);var i=e.substring(0,4)+"/"+e.substring(4,6)+"/"+e.substring(6,8);i=new Date(i+" "+t),this.currentStageStart=i,setInterval(function(){sap.ui.getCore().getModel("DialogFrozenTrip").countStageTimer()},1e3)},countStageTimer:function(){var t=Math.abs(new Date-this.currentStageStart),e=this.timeConversion(t);this.currentStageDuration=e;var i=new sap.ui.model.json.JSONModel;i.setData(this.currentStageDuration),this.getView().setModel(i,"frozenStageDuration")},timeConversion:function(t){parseInt(t%1e3/100,10);var e=parseInt(t/1e3%60,10),i=parseInt(t/6e4%60,10),s=parseInt(t/36e5%24,10);return(s=s<10?"0"+s:s)+":"+(i=i<10?"0"+i:i)+":"+(e=e<10?"0"+e:e)},setUnscheduledStage:function(t,e,i){(this.currentStage.toSendStage=[],this.currentStage=i,this.currentStage.toSendStage&&(this.passItems=this.currentStage.toSendStage),this.handleFrozenStage(),i.trocaMotorista)&&sap.ushell.Container.getService("CrossApplicationNavigation").toExternal({target:{semanticObject:"#"}})},sendExtraStagePassed:function(){if(!this.busy){this.busy=!0;var t=this.passItems[0];n.createModel("/ZET_VPWM_EXTRA_REGI_ETAPASET",t,function(t,e){sap.ui.getCore().getModel("DialogFrozenTrip").handleExtraStageSync()},function(t){sap.ui.core.BusyIndicator.hide(),sap.ui.getCore().getModel("DialogFrozenTrip").checkExtraSyncTimer()})}},checkExtraSyncTimer:function(){this.busy=!1,setTimeout(function(){sap.ui.getCore().getModel("DialogFrozenTrip").checkExtraSync()},3e4)},handleExtraStageSync:function(){this.busy=!1,this.passItems.shift(),this.checkExtraSync()},checkExtraSync:function(t){this.passItems&&(this.passItems.length?this.sendExtraStagePassed():setTimeout(function(){sap.ui.getCore().getModel("DialogFrozenTrip").checkExtraSync()},3e4))},closeDialog:function(){this.getView().getContent()[0].close()},onInit:function(){sap.ui.getCore().getEventBus().subscribe("DialogFrozenTrip","setUnscheduledStage",this.setUnscheduledStage,this),sap.ui.getCore().setModel(this,"DialogFrozenTrip"),this._oDialog=this.getView().getContent()[0]},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/DialogLastTrip.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","FibriaStatusViagem/webServices/conections"],function(t,e){"use strict";return t.extend("FibriaStatusViagem.controller.DialogLastTrip",{setRouter:function(t){this.oRouter=t},onInit:function(){sap.ui.getCore().getEventBus().subscribe("DialogLastTrip","DialogClose",this._onButtonNoPress,this),this._oDialog=this.getView().getContent()[0]},_onButtonYesPress:function(){sap.ui.getCore().getEventBus().publish("DialogLastTrip","deleteTrip","resetApp"),this.getView().getContent()[0].close()},_onButtonNoPress:function(){this.getView().getContent()[0].close()},onExit:function(){this._oDialog.destroy()}})});',"FibriaStatusViagem/controller/DialogNF.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(t,i,e,o,s){"use strict";return t.extend("FibriaStatusViagem.controller.DialogNF",{NF:"",setRouter:function(t){this.oRouter=t},_onCloseDialogButtonPress:function(){this.closeDialog()},closeDialog:function(){this.getView().getContent()[0].close()},setNFOnDialog:function(t,i,e){this.NF=e;var o=new sap.ui.model.json.JSONModel;o.setData(this.NF),this.getView().setModel(o,"NF")},onInit:function(){sap.ui.getCore().getEventBus().subscribe("DialogNF","setNFOnDialog",this.setNFOnDialog,this),sap.ui.getCore().setModel(this,"DialogNF"),this._oDialog=this.getView().getContent()[0]},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/DialogSelectTrip.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History"],function(e,t,i,o){"use strict";return e.extend("FibriaStatusViagem.controller.DialogSelectTrip",{startTripEvent:{},setRouter:function(e){this.oRouter=e},getBindingParameters:function(){return{}},_onStartNewTripButtonPress:function(e){this.startTripEvent=e},_onContinueTripButtonPress:function(e){this.openPopover("TripCodePopover",e)},openPopover:function(e,i,o,n){this.mPopovers=this.mPopovers||{};var r,s=this.mPopovers[e],a=i.getSource(),u=a.getBindingContext(),c=u?u.getPath():null;(s||this.getOwnerComponent().runAsOwner(function(){r=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+e}),this.getView().addDependent(r),r.getController().setRouter(this.oRouter),(s=r.getContent()[0]).setPlacement("Auto"),this.mPopovers[e]=s}.bind(this)),o)&&sap.ui.getCore().getEventBus().publish(e,n,o);return new Promise(function(e){s.attachEventOnce("afterOpen",null,e),s.openBy(a),r?s.attachAfterOpen(function(){s.rerender()}):r=s.getParent();var t=this.getView().getModel();if(t&&r.setModel(t),c){var i=r.getController().getBindingParameters();r.bindObject({path:c,parameters:i})}}.bind(this)).catch(function(e){void 0!==e&&t.error(e.message)})},TripSelected:function(e,t,i){sap.ui.getCore().getEventBus().publish("App","TripSelected",i),this.closeDialog()},closeDialog:function(){this.getView().getContent()[0].close()},handleUnauthorizedAccess:function(){sap.m.MessageToast.show("Você não tem autorização para acessar esse aplicativo. Entre em contato com o administrador do sistema para realizar seu registo",{duration:5e3}),this.byId("newTripButton").setEnabled(!1)},onInit:function(){sap.ui.getCore().setModel(this,"dialogSelectTrip"),this._oDialog=this.getView().getContent()[0],sap.ui.getCore().getEventBus().subscribe("DialogSelectTrip","TripSelected",this.TripSelected,this)},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/DialogUnscheduledStage.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(t,e,i,s,a){"use strict";return t.extend("FibriaStatusViagem.controller.DialogUnscheduledStage",{stagesList:[],currentTruck:{},extraStagesPassed:[],tripInfo:{},setRouter:function(t){this.oRouter=t},addZero:function(t){return t<10&&(t="0"+t),t},getBindingParameters:function(){return{}},_onConfirmButtonPress:function(){var t=this.byId("unscheduledStageRadioButtons").getSelectedButton().getId(),e=parseInt(t.substring(t.lastIndexOf("-")+1,t.length),10),i=this.byId("unscheduledStageRadioButtons").getSelectedButton().getModel("stagesList").getData()[e];this.startUnscheduledStage(i),this._onCloseDialogButtonPress()},handleExtraStage:function(t,e){t={stageInfo:t,stageText:this.byId("unscheduledStageRadioButtons").getSelectedButton().getText(),stageDescription:this.byId("reasonTextArea").getValue(),toSendStage:this.extraStagesPassed,trocaMotorista:e},this.openDialog("DialogFrozenTrip",t,"setUnscheduledStage")},startUnscheduledStage:function(t){var e,i;if(this.currentStageStart)e=this.currentStage.HoraInicioBack,i=this.currentStage.DataInicioBack;else{var s=new Date;e=this.addZero(s.getHours()).toString()+""+this.addZero(s.getMinutes()).toString()+this.addZero(s.getSeconds()).toString(),i=this.addZero(s.getFullYear()).toString()+this.addZero(s.getMonth()+1).toString()+this.addZero(s.getDate()).toString()}var a={CentroOrigem:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Deposito,Etapa:t.Etapa.trim(),Composicao:this.currentTruck.Composicao,DataInicio:i,HoraInicio:e,DataFim:"",HoraFim:"",Viagem:this.tripInfo.CurrentStage.Viagem,Oc:this.tripInfo.CurrentStage.Oc,ItemOc:this.tripInfo.CurrentStage.ItemOc,Usuario:"",Descricao:this.byId("reasonTextArea").getValue()};this.extraStagesPassed.push(a),this.handleUnpassedExtraStage(t.TrocaMotorista)},handleUnpassedExtraStage:function(t){for(var e=0;e<this.stagesList.length;e++)if(this.stagesList[e].Etapa.trim()===this.extraStagesPassed[this.extraStagesPassed.length-1].Etapa.trim())var i={CentroDestino:sap.ui.getCore().getModel("SelectedDestination").CentroDestino,CentroOrigem:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem,Composicao:this.currentTruck.Composicao,DataFim:"",DataInicio:this.extraStagesPassed[this.extraStagesPassed.length-1].DataInicio,DepositoDestino:sap.ui.getCore().getModel("SelectedDestination").Destino,Descricao:this.byId("reasonTextArea").getValue(),Etapa:this.extraStagesPassed[this.extraStagesPassed.length-1].Etapa,FimCiclo:"",HoraFim:"",HoraInicio:this.extraStagesPassed[this.extraStagesPassed.length-1].HoraInicio,ItemOc:"000",Oc:this.tripInfo.CurrentStage.Oc,Usuario:this.tripInfo.currentDriver.Usuario,Viagem:this.tripInfo.CurrentStage.Viagem,Ofline:!0};this.handleExtraStage(i,t)},openDialog:function(t,i,s){var a=t;this.mDialogs=this.mDialogs||{};var o,n=this.mDialogs[a];(n||this.getOwnerComponent().runAsOwner(function(){o=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+a}),this.getView().addDependent(o),o.getController().setRouter(this.oRouter),n=o.getContent()[0],this.mDialogs[a]=n}.bind(this)),i)&&sap.ui.getCore().getEventBus().publish(t,s,i);return new Promise(function(t){n.attachEventOnce("afterOpen",null,t),n.open(),o?n.attachAfterOpen(function(){n.rerender()}):o=n.getParent();var e=this.getView().getModel();e&&o.setModel(e)}.bind(this)).catch(function(t){void 0!==t&&e.error(t.message)})},handleRadioButtonGroupsSelectedIndex:function(){var t=this;this.aRadioButtonGroupIds.forEach(function(e){var i=t.byId(e),s=i?i.getBinding("buttons"):void 0;if(s){var a=i.getBinding("selectedIndex"),o=i.getSelectedIndex();s.attachEventOnce("change",function(){a?a.refresh(!0):i.setSelectedIndex(o)})}})},convertTextToIndexFormatter:function(t){var e=this.byId("sap_m_Dialog_0-content-sap_m_RadioButtonGroup-1536543533968"),i=e.getBindingInfo("buttons");if(i&&i.binding){var s=i.template.getBindingPath("text");return i.binding.getContexts(i.startIndex,i.length).findIndex(function(e){return e.getProperty(s)===t})}return e.getButtons().findIndex(function(e){return e.getText()===t})},_onCloseDialogButtonPress:function(){this.getView().getContent()[0].close()},setStagesModel:function(t){this.stagesList=t;var e=new sap.ui.model.json.JSONModel;e.setData(this.stagesList),this.getView().setModel(e,"stagesList")},getUnscheduledStages:function(t,e,i){if(!this.stagesList.length){this.currentTruck=i.Truck,this.tripInfo=i;var s=[],o=new sap.ui.model.Filter({path:"CentroOrigem",operator:sap.ui.model.FilterOperator.EQ,value1:i.Centro});s.push(o),o=new sap.ui.model.Filter({path:"Tipo",operator:sap.ui.model.FilterOperator.EQ,value1:"E"}),s.push(o),o=new sap.ui.model.Filter({path:"CentroDestino",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").CentroDestino}),s.push(o),o=new sap.ui.model.Filter({path:"DepositoDestino",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").Deposito}),s.push(o),a.consumeModel("/ZET_VPWM_ETAPAS_TRPSET",function(t,e){sap.ui.getCore().getModel("dialogUnscheduledStage").setStagesModel(t.results)},function(t){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",s)}},onInit:function(){sap.ui.getCore().setModel(this,"dialogUnscheduledStage"),this._oDialog=this.getView().getContent()[0],sap.ui.getCore().getEventBus().subscribe("DialogUnscheduledStage","getUnscheduledStages",this.getUnscheduledStages,this)},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/DialogValueHelp.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(t,e,i,s,n){"use strict";return t.extend("FibriaStatusViagem.controller.DialogValueHelp",{value:[],selectedValue:"",originInput:"",setRouter:function(t){this.oRouter=t},_onCompositionItemPress:function(t){var e=t.getSource().getSelectedItem().getBindingContext("value").getModel().getData(),i=t.getSource().getSelectedItem().getBindingContext("value").getPath(),s=e[parseInt(i.substring(i.lastIndexOf("/")+1,i.length),10)];this.selectedValue=s.value;var n={inputId:this.originInput,selectedValue:this.selectedValue};sap.ui.getCore().getEventBus().publish("DialogValueHelp","ValueSelected",n),this.closeDialog()},_onCloseDialogButtonPress:function(t){this.closeDialog()},_onSearchFieldLiveChange:function(t){var i=this.getView().byId("compositionList"),s=t.getParameter("query")||t.getParameter("newValue"),n=t.getSource().getId();return new Promise(function(t){var e,o=[];s&&s.length>0&&o.push(new sap.ui.model.Filter("value",sap.ui.model.FilterOperator.Contains,s)),e=o.length>0?[new sap.ui.model.Filter(o,!1)]:[];var r=this.updateBindingOptions("compositionList",{filters:e},n),l=i.getBindingInfo("items");i.bindAggregation("items",{model:l.model,path:l.path,parameters:l.parameters,template:l.template,sorter:r.sorters,filters:r.filters})}.bind(this)).catch(function(t){void 0!==t&&e.error(t.message)})},updateBindingOptions:function(t,e,i){this.mBindingOptions=this.mBindingOptions||{},this.mBindingOptions[t]=this.mBindingOptions[t]||{};var s=this.mBindingOptions[t].sorters,n=this.mBindingOptions[t].groupby;e&&(e.sorters&&(s=e.sorters),e.groupby&&(n=e.groupby),this.mBindingOptions[t].sorters=s,this.mBindingOptions[t].groupby=n,this.mBindingOptions[t].filters=this.mBindingOptions[t].filters||{},this.mBindingOptions[t].filters[i]=e.filters||[]);var o=[];for(var r in this.mBindingOptions[t].filters)o=o.concat(this.mBindingOptions[t].filters[r]);return n&&(s=s?[n].concat(s):[n]),{filters:o.length>0?[new sap.ui.model.Filter(o,!0)]:void 0,sorters:s}},closeDialog:function(){this.getView().getContent()[0].close()},setViewModel:function(t,e,i){this.originInput=i.inputId,this.getView().getContent()[0].setTitle(i.title),this.byId("customTitle").setText(i.title),this.value=i.values;var s=new sap.ui.model.json.JSONModel;s.setData(this.value),this.getView().setModel(s,"value")},onInit:function(){sap.ui.getCore().setModel(this,"dialogValueHelp"),sap.ui.getCore().getEventBus().subscribe("DialogValueHelp","loadData",this.setViewModel,this),this._oDialog=this.getView().getContent()[0]},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/DriverProfilePopover.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(e,t,o,i,r){"use strict";return e.extend("FibriaStatusViagem.controller.DriverProfilePopover",{driverInfo:{},setRouter:function(e){this.oRouter=e},getBindingParameters:function(){return{}},_onClosePopoverButtonPress:function(){this.closePopover()},closePopover:function(){this.getView().getContent()[0].close()},setDriverInfo:function(e,t,o){this.driverInfo=o;var i=new sap.ui.model.json.JSONModel;i.setData(this.driverInfo),this.getView().setModel(i,"driverInfo")},onInit:function(){sap.ui.getCore().setModel(this,"driverPopover"),sap.ui.getCore().getEventBus().subscribe("DriverProfilePopover","setDriverInfo",this.setDriverInfo,this),this._oDialog=this.getView().getContent()[0]},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/OriginDestinationDialog.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(t,e,i,n,o){"use strict";return t.extend("FibriaStatusViagem.controller.OriginDestinationDialog",{setRouter:function(t){this.oRouter=t},closeDialog:function(){this.getView().getContent()[0].close()},setOffline:function(){this.closeDialog()},onAfterOpen:function(t){t.getSource().setEscapeHandler(function(t){t.reject()});o.consumeModel("/ZET_VPWM_CENTRO_MOTORISTASet",function(t,e){},function(t){sap.ui.getCore().getModel("OriginDestinationDialog").setOffline()},{$expand:"CentroMotoristaToDestinoNav"},[])},openDialog:function(t,e,i){var n=t;this.mDialogs=this.mDialogs||{};var o,s=this.mDialogs[n];(s||this.getOwnerComponent().runAsOwner(function(){o=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+n}),this.getView().addDependent(o),o.getController().setRouter(this.oRouter),s=o.getContent()[0],this.mDialogs[n]=s}.bind(this)),e)&&sap.ui.getCore().getEventBus().publish(t,i,e);return new Promise(function(t){s.attachEventOnce("afterOpen",null,t),s.open(),o?s.attachAfterOpen(function(){s.rerender()}):o=s.getParent();var e=this.getView().getModel();e&&o.setModel(e)}.bind(this)).catch(function(t){})},_onSearchFieldLiveChange:function(t){var i=this.getView().byId("destinationList"),n=t.getParameter("query")||t.getParameter("newValue"),o=t.getSource().getId();return new Promise(function(t){var e,s=[];n&&n.length>0&&(s.push(new sap.ui.model.Filter("CentroOrigem",sap.ui.model.FilterOperator.Contains,n)),s.push(new sap.ui.model.Filter("Deposito",sap.ui.model.FilterOperator.Contains,n)),s.push(new sap.ui.model.Filter("CentroDestino",sap.ui.model.FilterOperator.Contains,n)),s.push(new sap.ui.model.Filter("DescricaoDeposito",sap.ui.model.FilterOperator.Contains,n)),s.push(new sap.ui.model.Filter("DescricaoCentroDestino",sap.ui.model.FilterOperator.Contains,n))),e=s.length>0?[new sap.ui.model.Filter(s,!1)]:[];var r=this.updateBindingOptions("destinationList",{filters:e},o),a=i.getBindingInfo("items");i.bindAggregation("items",{model:a.model,path:a.path,parameters:a.parameters,template:a.template,sorter:r.sorters,filters:r.filters})}.bind(this)).catch(function(t){void 0!==t&&e.error(t.message)})},updateBindingOptions:function(t,e,i){this.mBindingOptions=this.mBindingOptions||{},this.mBindingOptions[t]=this.mBindingOptions[t]||{};var n=this.mBindingOptions[t].sorters,o=this.mBindingOptions[t].groupby;e&&(e.sorters&&(n=e.sorters),e.groupby&&(o=e.groupby),this.mBindingOptions[t].sorters=n,this.mBindingOptions[t].groupby=o,this.mBindingOptions[t].filters=this.mBindingOptions[t].filters||{},this.mBindingOptions[t].filters[i]=e.filters||[]);var s=[];for(var r in this.mBindingOptions[t].filters)s=s.concat(this.mBindingOptions[t].filters[r]);return o&&(n=n?[o].concat(n):[o]),{filters:s.length>0?[new sap.ui.model.Filter(s,!0)]:void 0,sorters:n}},_onDestinationItemPress:function(t){var e=t.getSource().getSelectedItem().getBindingContext("destinations").getModel().getData(),i=t.getSource().getSelectedItem().getBindingContext("destinations").getPath(),n=e[parseInt(i.substring(i.lastIndexOf("/")+1,i.length),10)];sap.ui.getCore().setModel(n,"SelectedDestination"),this.openDialog("SelectTruckPopover",1,"selectTruck"),this.closeDialog()},onSetModel:function(t,e,i){var n=new sap.ui.model.json.JSONModel;n.setData(i.destinations),this.getView().setModel(n,"destinations")},onInit:function(){sap.ui.getCore().getEventBus().subscribe("OriginDestinationDialog","onSetModel",this.onSetModel,this),sap.ui.getCore().setModel(this,"OriginDestinationDialog"),this._oDialog=this.getView().getContent()[0]},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/SelectTruckPopover.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","FibriaStatusViagem/webServices/conections"],function(e,t,i,o,s){"use strict";return e.extend("FibriaStatusViagem.controller.SelectTruckPopover",{composition:[],selectedItem:{},setRouter:function(e){this.oRouter=e},afterOpen:function(e){e.getSource().setEscapeHandler(function(e){e.reject()})},getBindingParameters:function(){return{}},_onAddFiltersButtonPress:function(e){this.openDialog("DialogCompositionFilters")},_onSearchFieldLiveChange:function(e){var i=this.getView().byId("compositionList"),o=e.getParameter("query")||e.getParameter("newValue"),s=e.getSource().getId();return new Promise(function(e){var t,n=[];o&&o.length>0&&(n.push(new sap.ui.model.Filter("Centro",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("CodTransp",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("Composicao",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("PlcCarro1",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("PlcCarro2",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("PlcCavalo",sap.ui.model.FilterOperator.Contains,o)),n.push(new sap.ui.model.Filter("TagComp",sap.ui.model.FilterOperator.Contains,o))),t=n.length>0?[new sap.ui.model.Filter(n,!1)]:[];var r=this.updateBindingOptions("compositionList",{filters:t},s),a=i.getBindingInfo("items");i.bindAggregation("items",{model:a.model,path:a.path,parameters:a.parameters,template:a.template,sorter:r.sorters,filters:r.filters})}.bind(this)).catch(function(e){void 0!==e&&t.error(e.message)})},updateBindingOptions:function(e,t,i){this.mBindingOptions=this.mBindingOptions||{},this.mBindingOptions[e]=this.mBindingOptions[e]||{};var o=this.mBindingOptions[e].sorters,s=this.mBindingOptions[e].groupby;t&&(t.sorters&&(o=t.sorters),t.groupby&&(s=t.groupby),this.mBindingOptions[e].sorters=o,this.mBindingOptions[e].groupby=s,this.mBindingOptions[e].filters=this.mBindingOptions[e].filters||{},this.mBindingOptions[e].filters[i]=t.filters||[]);var n=[];for(var r in this.mBindingOptions[e].filters)n=n.concat(this.mBindingOptions[e].filters[r]);return s&&(o=o?[s].concat(o):[s]),{filters:n.length>0?[new sap.ui.model.Filter(n,!0)]:void 0,sorters:o}},_onCompositionItemPress:function(e){var t=e.getSource().getSelectedItem().getBindingContext("composition").getModel().getData(),i=e.getSource().getSelectedItem().getBindingContext("composition").getPath(),o=t[parseInt(i.substring(i.lastIndexOf("/")+1,i.length),10)];this.selectedItem=o},_onClosePopoverButtonPress:function(){this.closePopover()},_onConfirmCodeButtonPress:function(){this.selectedItem.Composicao?(this.closePopover(),sap.ui.getCore().getEventBus().publish("App","TripSelected",this.selectedItem)):sap.m.MessageToast.show("Selecione uma Composição",{duration:3e3})},closePopover:function(){this.getView().getContent()[0].close()},openDialog:function(e,i,o){var s=e;this.mDialogs=this.mDialogs||{};var n,r=this.mDialogs[s];(r||this.getOwnerComponent().runAsOwner(function(){n=sap.ui.xmlview({viewName:"FibriaStatusViagem.view."+s}),this.getView().addDependent(n),n.getController().setRouter(this.oRouter),r=n.getContent()[0],this.mDialogs[s]=r}.bind(this)),i)&&sap.ui.getCore().getEventBus().publish(e,o,i);return new Promise(function(e){r.attachEventOnce("afterOpen",null,e),r.open(),n?r.attachAfterOpen(function(){r.rerender()}):n=r.getParent();var t=this.getView().getModel();t&&n.setModel(t)}.bind(this)).catch(function(e){void 0!==e&&t.error(e.message)})},setCompositionModel:function(e){this.composition=e;var t=new sap.ui.model.json.JSONModel;t.setData(this.composition),this.getView().setModel(t,"composition")},selectTruck:function(e){var t=[];if(e.centerValue){var i=new sap.ui.model.Filter({path:"Centro",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem});t.push(i),i=new sap.ui.model.Filter({path:"Composicao",operator:sap.ui.model.FilterOperator.Contains,value1:e.compositionValue}),t.push(i),i=new sap.ui.model.Filter({path:"PlcCavalo",operator:sap.ui.model.FilterOperator.Contains,value1:e.truckValue}),t.push(i),i=new sap.ui.model.Filter({path:"PlcCarro1",operator:sap.ui.model.FilterOperator.Contains,value1:e.carreta1Value}),t.push(i),i=new sap.ui.model.Filter({path:"PlcCarro2",operator:sap.ui.model.FilterOperator.Contains,value1:e.carreta2Value}),t.push(i)}else{i=new sap.ui.model.Filter({path:"Centro",operator:sap.ui.model.FilterOperator.EQ,value1:sap.ui.getCore().getModel("SelectedDestination").CentroOrigem});t.push(i)}s.consumeModel("/ZET_VPWM_COMPOSICAOSET",function(e,t){sap.ui.getCore().getModel("truckPopover").setCompositionModel(e.results)},function(e){sap.m.MessageToast.show("Erro inesperado",{duration:3e3})},"",t)},setFilters:function(e,t,i){this.selectTruck(i)},onInit:function(){sap.ui.getCore().setModel(this,"truckPopover");var e=sap.ui.getCore().getEventBus();e.subscribe("SelectTruckPopover","selectTruck",this.selectTruck,this),e.subscribe("DialogCompositionFilters","FiltersSet",this.setFilters,this),this._oDialog=this.getView().getContent()[0]},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/TripCodePopover.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History"],function(e,t,o,i){"use strict";return e.extend("FibriaStatusViagem.controller.TripCodePopover",{setRouter:function(e){this.oRouter=e},getBindingParameters:function(){return{}},_onClosePopoverButtonPress:function(){this.closePopover()},_onConfirmCodeButtonPress:function(){this.closePopover(),sap.ui.getCore().getEventBus().publish("DialogSelectTrip","TripSelected","teste")},closePopover:function(){this.getView().getContent()[0].close()},onInit:function(){this._oDialog=this.getView().getContent()[0]},onExit:function(){this._oDialog.destroy()}})},!0);',"FibriaStatusViagem/controller/utilities.js":'sap.ui.define(["./utilities"],function(){"use strict";return{}});',"FibriaStatusViagem/Gruntfile.js":'module.exports=function(s){"use strict";s.loadNpmTasks("@sap/grunt-sapui5-bestpractice-build"),s.registerTask("default",["clean","lint","build"])};',"FibriaStatusViagem/model/models.js":'sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);return i.setDefaultBindingMode("OneWay"),i}}});',"FibriaStatusViagem/WebServices/conections.js":'sap.ui.define(["sap/ui/base/Object"],function(e){"use strict";return{url:"/sap/opu/odata/sap/ZGWVPWM_GESTAO_CAMINHOES_SRV/",consumeModel:function(e,n,o,t,a){new sap.ui.model.odata.v2.ODataModel(this.url).read(e,{urlParameters:t,filters:a,async:!1,success:function(e,o){n(e,o)},error:function(e){o(e)}})},createModel:function(e,n,o,t,a){new sap.ui.model.odata.v2.ODataModel(this.url).create(e,n,{urlParameters:{tokenHendling:!1,disebleHeaedRequestForToken:!0},success:function(e,n){o(e,n)},error:function(e){t(e)}})},deleteModel:function(e,n,o,t,a){new sap.ui.model.odata.v2.ODataModel(this.url).remove(e,{urlParameters:{tokenHendling:!1,disebleHeaedRequestForToken:!0},success:function(e,n){o(e,n)},error:function(e){t(e)}})},updateModel:function(e,n,o,t){new sap.ui.model.odata.ODataModel(this.url,!0).update(e,n,{async:!0,success:function(e,n){o(e,n)},error:function(e){t(e)}})}}});',
"FibriaStatusViagem/view/App.view.xml":'<mvc:View controllerName="FibriaStatusViagem.controller.App" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\r\n\tdisplayBlock="true"  xmlns="sap.m" xmlns:layout="sap.ui.layout" xmlns:chart="sap.chart" xmlns:data="sap.chart.data" xmlns:f="sap.f" xmlns:form="sap.ui.layout.form" xmlns:viz="sap.viz.ui5.controls" xmlns:vizFeeds="sap.viz.ui5.controls.common.feeds" xmlns:vizData="sap.viz.ui5.data"><App><pages><Page showHeader="true" showFooter="true" showNavButton="true" navButtonPress="_onPageNavButtonPress"><content><layout:BlockLayout background="Default" visible="true"><layout:content><layout:BlockLayoutRow scrollable="false"><layout:content><layout:BlockLayoutCell class="carouselBlock" width="50%" title="Etapa Atual" titleAlignment="Center" titleLevel="Auto"><layout:content><Carousel id="stagesCarousel" width="100%" loop="false" showPageIndicator="true" pageIndicatorPlacement="Bottom" visible="true" class="sapUiContentPadding tripStateCarousel"><pages><FlexBox class="stageFlexBox" direction="Column"><Title level="H1" text="{currentStage>/DescricaoEtapa}" textAlign="Center" ></Title><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Início: "></Text><Text class="stageValue stageValueContent" text="{currentStage>/HoraInicio}"></Text></FlexBox><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Término: "></Text><Text class="stageValue stageValueContent" text="Não Finalizada"></Text></FlexBox><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Duração: "></Text><Text id="stageDuration" class="stageValue stageValueContent" text="{currentStageDuration>/}"></Text></FlexBox><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Nota Fiscal: "></Text><Text id="tripNF" class="stageValue stageValueContent" text="Não Gerada" ></Text></FlexBox><Button id="nextStageButton" class="nextStageButton" press="_onNextStageButtonPress" text="{currentStage>/DescAcao2}" type="Default" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false"/></FlexBox></pages></Carousel></layout:content></layout:BlockLayoutCell><layout:BlockLayoutCell class="chartBlock" width="50%" title="Detalhes da Viagem" titleAlignment="Center" titleLevel="Auto"><layout:content><Text id="generalDuration" class="timerText" text="Tempo em Viagem: {generalDuration>/}" textAlign="center" width="100%" maxLines="1" wrapping="false" textDirection="Inherit" visible="true"/><Text class="stageText" text="Etapa" textAlign="center" width="100%"></Text><viz:VizFrame selectData="_onDonutChartSelectValue" xmlns="sap.viz" id="idDonutChart" vizType="donut"  width="100%" height="400px" vizProperties="{plotArea: {},title:{ text:\'Etapas\'}, interaction: {selectability: {mode:\'single\'}}}"><viz:dataset><vizData:FlattenedDataset data="{stagesList>/}"><vizData:dimensions><vizData:DimensionDefinition name="Etapa" value="{stagesList>DescricaoEtapa}"/></vizData:dimensions><vizData:measures><vizData:MeasureDefinition name="Porcentagem" value="{stagesList>Porcentagem}"/></vizData:measures></vizData:FlattenedDataset></viz:dataset><viz:feeds><vizFeeds:FeedItem uid="size" type="Measure" values=\'Porcentagem\'/><vizFeeds:FeedItem uid="color" type="Dimension" values="Etapa"/></viz:feeds></viz:VizFrame><Button text="ETAPA NÃO PROGRAMADA" class="unscheduledStageButton" press="_onUnscheduledStageButtonPress" type="Default" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false"/></layout:content></layout:BlockLayoutCell></layout:content></layout:BlockLayoutRow></layout:content></layout:BlockLayout></content><footer><OverflowToolbar width="100%" height="auto" design="Auto" enabled="true" visible="true"><content></content></OverflowToolbar></footer><headerContent><Text text="Trocar {changeTruck>/}" class="selectComposition"></Text><Text text="{currentDriver>/Nome}" ></Text><Button class="avatarIcon" icon="sap-icon://person-placeholder" press="_onProfileButtonPress" ></Button></headerContent></Page></pages></App></mvc:View>',"FibriaStatusViagem/view/DialogCompositionFilters.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.DialogCompositionFilters" xmlns="sap.m" xmlns:form="sap.ui.layout.form"  xmlns:core="sap.ui.core"><Dialog class="compositionFilter" horizontalScrolling="true" showHeader="true" state="None" stretch="false" title="Filtros" type="Standard" verticalScrolling="true"><content><form:Form width="100%" editable="true" visible="true"><form:formContainers><form:FormContainer visible="true"><form:formElements><form:FormElement visible="false"><form:label><Label text="Centro (Obrigatório)" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="centerInput" type="Text" showValueHelp="true" value="3070" enabled="false" visible="true" width="auto" valueHelpOnly="false" maxLength="0" valueHelpRequest="_onInputValueHelpRequest"/></form:fields></form:FormElement><form:FormElement visible="false"><form:label><Label text="Código da Composição" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="compositionInput" showSuggestion="true" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="false" maxLength="0" suggestionItems="{composition>/}" valueHelpRequest="_onInputValueHelpRequest"><suggestionItems><core:Item text="{composition>Composicao}" /></suggestionItems></Input></form:fields></form:FormElement><form:FormElement visible="true"><form:label><Label text="Placa do Cavalo" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="truckInput" showSuggestion="true" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="false" maxLength="0" suggestionItems="{truck>/}" valueHelpRequest="_onInputValueHelpRequest"><suggestionItems><core:Item text="{truck>PlcCavalo}" /></suggestionItems></Input></form:fields></form:FormElement><form:FormElement visible="true"><form:label><Label text="Placa da Carreta 1" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="carreta1Input"     showSuggestion="true" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="false" maxLength="0" suggestionItems="{carreta1>/}" valueHelpRequest="_onInputValueHelpRequest"><suggestionItems><core:Item text="{carreta1>PlcCarro1}" /></suggestionItems></Input></form:fields></form:FormElement><form:FormElement visible="true"><form:label><Label text="Placa da Carreta 2" design="Standard" width="100%" required="false" textAlign="Begin" textDirection="Inherit" visible="true"/></form:label><form:fields><Input id="carreta2Input" showSuggestion="true" type="Text" showValueHelp="true" enabled="true" visible="true" width="auto" valueHelpOnly="false" maxLength="0" suggestionItems="{carreta2>/}" valueHelpRequest="_onInputValueHelpRequest"><suggestionItems><core:Item text="{carreta2>PlcCarro2}" /></suggestionItems></Input></form:fields></form:FormElement></form:formElements><form:title/></form:FormContainer></form:formContainers><form:layout><form:ResponsiveGridLayout adjustLabelSpan="false" columnsL="2" labelSpanL="3" columnsM="1" labelSpanM="2" labelSpanS="12"/></form:layout></form:Form><Button text="Confirmar" class="buttonConfirmCode" type="Default" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false" press="_onConfirmCodeButtonPress"/></content><beginButton/><buttons/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text text = "Filtros"></Text></contentMiddle><contentRight><Button type="Transparent" icon="sap-icon://decline" press="_onCloseDialogButtonPress"></Button></contentRight></Bar></customHeader><endButton/><subHeader/></Dialog></mvc:View>',"FibriaStatusViagem/view/DialogFrozenTrip.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.DialogFrozenTrip" xmlns="sap.m"><Dialog horizontalScrolling="true" showHeader="true" state="None" stretch="false" title="" type="Standard" verticalScrolling="true"><content><Carousel id="stagesCarousel" width="100%" loop="false" showPageIndicator="true" pageIndicatorPlacement="Bottom" visible="true" class="sapUiContentPadding tripStateCarousel"><pages><FlexBox class="stageFlexBox" direction="Column"><Title level="H1" text="{frozenState>/stageText}" textAlign="Center" ></Title><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Início: "></Text><Text class="stageValue stageValueContent" text="{frozenState>/formatedHours}"></Text></FlexBox><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Término: "></Text><Text class="stageValue stageValueContent" text="Não Finalizada"></Text></FlexBox><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Descrição: "></Text><Text class="stageValue stageValueContent" text="{frozenState>/stageDescription}"></Text></FlexBox><FlexBox class="stageValues"><Text class="stageValue stageValueDesc"  text="Duração: "></Text><Text class="stageValue stageValueContent" text="{frozenStageDuration>/}"></Text></FlexBox><Button id="nextStageButton" class=" resumeTrip nextStageButton" press="_onContinueTripButtonPress" text="Retomar Viagem" type="Default" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false"/></FlexBox></pages></Carousel></content><beginButton/><buttons/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text text = "Viagem Parada"></Text></contentMiddle><contentRight></contentRight></Bar></customHeader><endButton/><subHeader/></Dialog></mvc:View>',"FibriaStatusViagem/view/DialogLastTrip.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="FibriaStatusViagem.controller.DialogLastTrip"\r\n\txmlns:html="http://www.w3.org/1999/xhtml"><Dialog horizontalScrolling="false" showHeader="false" verticalScrolling="false"><content><VBox width="100%"><Hbox justifyContent="Center"><Text class="lastTripTitle sapUiMediumMarginTop" text="Você finalizou uma viagem, deseja iniciar uma nova?"/></Hbox><Hbox justifyContent="Center"><Button text="Não" class="lastTripButton sapUiSmallMarginEnd" type="Transparent" iconFirst="true" enabled="true" visible="true" iconDensityAware="false"\r\n\t\t\t\t\t\tpress="_onButtonYesPress"/><Button text="Sim" class="lastTripButton" type="Transparent" iconFirst="true" enabled="true" visible="true" iconDensityAware="false"\r\n\t\t\t\t\t\tpress="_onButtonNoPress"/></Hbox></VBox></content></Dialog></mvc:View>',"FibriaStatusViagem/view/DialogNF.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.DialogNF" xmlns="sap.m"><Dialog horizontalScrolling="true" showHeader="true" state="Success" stretch="false" title="" type="Standard" verticalScrolling="true"><content><Text text="Nota fiscal n° {NF>/} gerada com sucesso" textAlign="Center" width="100%"></Text></content><beginButton/><buttons/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text text = "Nota Fiscal"></Text></contentMiddle><contentRight><Button type="Transparent" icon="sap-icon://decline" press="_onCloseDialogButtonPress"></Button></contentRight></Bar></customHeader><endButton/><subHeader/></Dialog></mvc:View>',"FibriaStatusViagem/view/DialogSelectTrip.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.DialogSelectTrip" xmlns="sap.m"></mvc:View>',"FibriaStatusViagem/view/DialogUnscheduledStage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.DialogUnscheduledStage" xmlns="sap.m"><Dialog contentWidth="300px" class="DialogUnscheduledStage" horizontalScrolling="true" showHeader="true" state="None" stretch="false" title="Motivo da Parada" type="Standard" verticalScrolling="true"><content><RadioButtonGroup id="unscheduledStageRadioButtons" buttons="{stagesList>/}"  columns="1" selectedIndex="0" valueState="None" width="auto" editable="true" enabled="true" textDirection="Inherit" select="_onRadioButtonGroupSelect"><buttons><RadioButton text="{stagesList>DescricaoEtapa}" editable="true" enabled="true" visible="true" width="auto" valueState="None" selected="false"/></buttons></RadioButtonGroup><TextArea id="reasonTextArea" rows="4" cols="60" maxLength="250" wrapping="None" enabled="true" visible="true" liveChange="_onReasonTextAreaLiveChange" /><Button id="confirmButton" text="Confirmar" class="buttonConfirmCode" type="Default" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false" press="_onConfirmButtonPress"/></content><beginButton/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text id="motivoParada" text = "Motivo da Parada"></Text></contentMiddle><contentRight><Button type="Transparent" icon="sap-icon://decline" press="_onCloseDialogButtonPress"></Button></contentRight></Bar></customHeader><endButton/><subHeader/></Dialog></mvc:View>',"FibriaStatusViagem/view/DialogValueHelp.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.DialogValueHelp" xmlns="sap.m" xmlns:form="sap.ui.layout.form"  xmlns:core="sap.ui.core"><Dialog class="valueHelp" contentHeight="400px" horizontalScrolling="true" showHeader="true" state="None" stretch="false" title="Filtros" type="Standard" verticalScrolling="true"><content><List id="compositionList" class="compositionList" items="{value>/}" mode="SingleSelectMaster" width="100%" headerText="Priority" footerText=""\r\n\t\t\t\tbackgroundDesign="Solid" showSeparators="All" growing="true" growingThreshold="20" growingScrollToLoad="true" visible="true" itemPress="_onCompositionItemPress"><headerToolbar><Toolbar enabled="true" visible="true" width="" design="Transparent"><content><SearchField placeholder="Search" showSearchButton="true" visible="true" width="100%" liveChange="_onSearchFieldLiveChange"/></content></Toolbar></headerToolbar><items><ObjectListItem type="Active" title="{value>value}" ><tooltip></tooltip><customData></customData><layoutData></layoutData><dependents></dependents><attributes></attributes><firstStatus></firstStatus><secondStatus></secondStatus></ObjectListItem></items></List></content><beginButton/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text id="customTitle" text=""></Text></contentMiddle><contentRight><Button type="Transparent" icon="sap-icon://decline" press="_onCloseDialogButtonPress"></Button></contentRight></Bar></customHeader><endButton/><subHeader/></Dialog></mvc:View>',"FibriaStatusViagem/view/DriverProfilePopover.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.DriverProfilePopover" xmlns="sap.m"  xmlns:form="sap.ui.layout.form"><Popover contentHeight="230px" contentWidth="360px" horizontalScrolling="false" modal="false" offsetX="0" offsetY="0" placement="Bottom" showHeader="true" title="" verticalScrolling="false" visible="true"><content><FlexBox class="stageFlexBox" direction="Column"><FlexBox class="stageValues" height="0.1rem"><Text class="stageValue stageValueDesc"  text="CPF: "></Text><Text class="stageValue stageValueContent" text="{driverInfo>/Cpf}"></Text></FlexBox><FlexBox class="stageValues" height="0.1rem"><Text class="stageValue stageValueDesc"  text="CNH: "></Text><Text class="stageValue stageValueContent" text="{driverInfo>/Cnh}"></Text></FlexBox><FlexBox class="stageValues" height="0.1rem"><Text class="stageValue stageValueDesc"  text="Composição: "></Text><Text class="stageValue stageValueContent" text="{driverInfo>/Composicao}"></Text></FlexBox><FlexBox class="stageValues" height="0.1rem"><Text class="stageValue stageValueDesc"  text="Cavalo: "></Text><Text class="stageValue stageValueContent" text="{driverInfo>/Cavalo}" ></Text></FlexBox><FlexBox class="stageValues" height="0.1rem"><Text class="stageValue stageValueDesc"  text="Carreta 1: "></Text><Text class="stageValue stageValueContent" text="{driverInfo>/Carreta1}" ></Text></FlexBox><FlexBox class="stageValues" height="0.1rem"><Text class="stageValue stageValueDesc"  text="Carreta 2: "></Text><Text class="stageValue stageValueContent" text="{driverInfo>/Carreta2}" ></Text></FlexBox></FlexBox></content><beginButton/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text text = "{driverInfo>/Nome}"></Text></contentMiddle><contentRight><Button type="Transparent" icon="sap-icon://decline" press="_onClosePopoverButtonPress"></Button></contentRight></Bar></customHeader><endButton/><footer></footer><subHeader/></Popover></mvc:View>',"FibriaStatusViagem/view/OriginDestinationDialog.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.OriginDestinationDialog" xmlns="sap.m"><Dialog horizontalScrolling="true" showHeader="true" state="None" stretch="false" title="" type="Standard" verticalScrolling="true"\r\n\t\tcontentWidth="60%" afterOpen="onAfterOpen"><content><List items="{destinations>/}" id="destinationList" mode="SingleSelectMaster" width="100%" headerText="Priority" footerText=""\r\n\t\t\t\tbackgroundDesign="Solid" showSeparators="All" growing="true" growingThreshold="20" growingScrollToLoad="true" visible="true"\r\n\t\t\t\titemPress="_onDestinationItemPress"><headerToolbar><Toolbar enabled="true" visible="true" width="" design="Transparent"><content><SearchField placeholder="Search" showSearchButton="true" visible="true" width="100%" liveChange="_onSearchFieldLiveChange"/></content></Toolbar></headerToolbar><items><ObjectListItem type="Active" intro="Deposito Destino" title="{destinations>Deposito} - {destinations>DescricaoDeposito}"><tooltip></tooltip><customData></customData><layoutData></layoutData><dependents></dependents><attributes><ObjectAttribute text="Centro Destino: {destinations>CentroDestino} - {destinations>DescricaoCentroDestino}"></ObjectAttribute></attributes><firstStatus><ObjectStatus text="Centro Origem: {destinations>CentroOrigem}"></ObjectStatus></firstStatus><secondStatus></secondStatus></ObjectListItem></items></List></content><beginButton/><buttons/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text text="Selecione Origem e Destino"></Text></contentMiddle><contentRight></contentRight></Bar></customHeader><endButton/><subHeader/></Dialog></mvc:View>',"FibriaStatusViagem/view/SelectTruckPopover.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.SelectTruckPopover" xmlns="sap.m"\r\n\txmlns:form="sap.ui.layout.form"><Dialog contentHeight="500px" contentWidth="300px" horizontalScrolling="true" showHeader="true" state="None" stretch="false" title="Filtros"\r\n\t\ttype="Standard" verticalScrolling="true" class="dialogTruck" afterOpen="afterOpen"><content><List id="compositionList" class="compositionList" items="{composition>/}" mode="SingleSelectMaster" width="100%" headerText="Priority"\r\n\t\t\t\tfooterText="" backgroundDesign="Solid" showSeparators="All" growing="true" growingThreshold="20" growingScrollToLoad="true" visible="true"\r\n\t\t\t\titemPress="_onCompositionItemPress"><headerToolbar><Toolbar enabled="true" visible="true" width="" design="Transparent"><content><SearchField placeholder="Search" showSearchButton="true" visible="true" width="100%" liveChange="_onSearchFieldLiveChange"/><Button type="Transparent" class="filterIcon" icon="sap-icon://filter" width="40px" enabled="true" press="_onAddFiltersButtonPress"/></content></Toolbar></headerToolbar><items><ObjectListItem type="Active" intro="Composição" title="{composition>Composicao}" number="{composition>Centro}" numberUnit="Centro"><tooltip></tooltip><customData></customData><layoutData></layoutData><dependents></dependents><attributes><ObjectAttribute text="Cavalo: {composition>PlcCavalo}"></ObjectAttribute></attributes><firstStatus><ObjectStatus text="Carro 1: {composition>PlcCarro1}"></ObjectStatus></firstStatus><secondStatus><ObjectStatus text="Carro 2: {composition>PlcCarro2}"></ObjectStatus></secondStatus></ObjectListItem></items></List></content><buttons><Button text="Confirmar" class="buttonConfirmCode" iconFirst="true" enabled="true" visible="true"\r\n\t\t\t\ticonDensityAware="false" press="_onConfirmCodeButtonPress"/></buttons><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text id="customTitle" text="Selecione uma composição"></Text></contentMiddle><contentRight></contentRight></Bar></customHeader><subHeader/></Dialog></mvc:View>',"FibriaStatusViagem/view/TripCodePopover.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="FibriaStatusViagem.controller.TripCodePopover" xmlns="sap.m"><Popover contentHeight="140px" contentWidth="auto" horizontalScrolling="false" modal="false" offsetX="0" offsetY="0" placement="Bottom" showHeader="true" title="Adicionar Código de Viagem" verticalScrolling="false" visible="true"><content><Input placeholder="655321" type="Number" showValueHelp="false" enabled="true" visible="true" width="100%" valueHelpOnly="false" maxLength="0"/><Button text="Confirmar" class="buttonConfirmCode" type="Emphasized" iconFirst="true" width="100%" enabled="true" visible="true" iconDensityAware="false" press="_onConfirmCodeButtonPress"/></content><beginButton/><customHeader><Bar><contentLeft></contentLeft><contentMiddle><Text text = "Adicionar Código de Viagem"></Text></contentMiddle><contentRight><Button type="Transparent" icon="sap-icon://decline" press="_onClosePopoverButtonPress"></Button></contentRight></Bar></customHeader><endButton/><footer/><subHeader/></Popover></mvc:View>'},"FibriaStatusViagem/Component-preload");