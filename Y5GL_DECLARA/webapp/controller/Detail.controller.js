sap.ui.define(["Y5GL_DECLARACOES/Y5GL_DECLARACOES/controller/BaseController","sap/ui/model/json/JSONModel","Y5GL_DECLARACOES/Y5GL_DECLARACOES/model/formatter","sap/ui/Device","sap/m/PDFViewer","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/core/Fragment"],function(e,t,o,n,a,r,i,s,l){"use strict";var d;var u;return e.extend("Y5GL_DECLARACOES.Y5GL_DECLARACOES.controller.Detail",{formatter:o,onInit:function(){var e=new t({busy:false,delay:0});this.getRouter().getRoute("object").attachPatternMatched(this._onObjectMatched,this);this.setModel(e,"detailView");this.getOwnerComponent().getModel().metadataLoaded().then(this._onMetadataLoaded.bind(this))},onPrint:function(){this.getView().byId("FormChange480_12120").print()},onSendEmailPress:function(){var e=this.getModel("detailView");sap.m.URLHelper.triggerEmail(null,e.getProperty("/shareSendEmailSubject"),e.getProperty("/shareSendEmailMessage"))},onShareInJamPress:function(){var e=this.getModel("detailView"),t=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:location.href,share:e.getProperty("/shareOnJamTitle")}}});t.open()},_onObjectMatched:function(e){},openPDF:function(e){},onChange:function(e){var t=e.getSource();var o=this.getView().getModel().oHeaders["x-csrf-token"];var n=new sap.m.UploadCollectionParameter({name:"x-csrf-token",value:o});t.addHeaderParameter(n)},onBeforeUploadStarts:function(e){var t=this.getView().byId("TpDec").getValue();var o=t+e.getParameter("fileName");var n=new sap.m.UploadCollectionParameter({name:"slug",value:o});e.getParameters().addHeaderParameter(n)},onuploadComplete:function(e){var t=this.getView().byId("TpDec").getValue();var o=new sap.ui.model.Filter("Pernr",sap.ui.model.FilterOperator.EQ,t);var n=this.getView().byId("UploadCollection");n.getBindingInfo("items").filter([o])},onmodelContextChange:function(e){},onVoltar:function(e){this.getRouter().navTo("master")},_bindView:function(e){var t=this.getModel("detailView");t.setProperty("/busy",false);this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(){t.setProperty("/busy",false)}}})},_onBindingChange:function(){var e=this.getView(),t=e.getElementBinding();if(!t.getBoundContext()){this.getRouter().getTargets().display("detailObjectNotFound");this.getOwnerComponent().oListSelector.clearMasterListSelection();return}},_onMetadataLoaded:function(){var e=this.getView().getBusyIndicatorDelay(),t=this.getModel("detailView");t.setProperty("/delay",0);t.setProperty("/busy",true);t.setProperty("/delay",e)},onCloseDetailPress:function(){this.getModel("appView").setProperty("/actionButtonsInfo/midColumn/fullScreen",false);this.getOwnerComponent().oListSelector.clearMasterListSelection();this.getRouter().navTo("master")},toggleFullScreen:function(){var e=this.getModel("appView").getProperty("/actionButtonsInfo/midColumn/fullScreen");this.getModel("appView").setProperty("/actionButtonsInfo/midColumn/fullScreen",!e);if(!e){this.getModel("appView").setProperty("/previousLayout",this.getModel("appView").getProperty("/layout"));this.getModel("appView").setProperty("/layout","MidColumnFullScreen")}else{this.getModel("appView").setProperty("/layout",this.getModel("appView").getProperty("/previousLayout"))}},FormatChecked:function(e){if(e==="X"){return true}else{return false}},FormatChecked2:function(e){if(e==="X"){return true}else{return false}},onAfterRendering:function(e){}})});